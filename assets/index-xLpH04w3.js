import{m as Bd,b1 as Dt,aU as A,b2 as Vd,b3 as Hd,b4 as gi,b5 as H,b6 as Wd,b7 as Ul,j as Uo,b8 as zd,aV as Ud}from"./index-cea8f_CI.js";var ql={},cn={},bi={};Object.defineProperty(bi,"__esModule",{value:!0});bi.walletLogo=void 0;const qd=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};bi.walletLogo=qd;var mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.LINK_API_URL=void 0;mi.LINK_API_URL="https://www.walletlink.org";var vi={};Object.defineProperty(vi,"__esModule",{value:!0});vi.ScopedLocalStorage=void 0;class Gd{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}vi.ScopedLocalStorage=Gd;var wr={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});const Jd=Bd;function qc(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Qd(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let Zd=class extends Jd.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")qc(s,this,r);else{const o=s.length,a=Qd(s);for(let c=0;c<o;c+=1)qc(a[c],this,r)}return!0}};tr.default=Zd;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.EVENTS=void 0;Lr.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var gn={},ma={},Nt={},Yd=un;un.default=un;un.stable=Ql;un.stableStringify=Ql;var ri="[...]",Gl="[Circular]",Zt=[],Gt=[];function Jl(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function un(t,e,r,n){typeof n>"u"&&(n=Jl()),qo(t,"",0,[],void 0,0,n);var i;try{Gt.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Zl(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Zt.length!==0;){var s=Zt.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function gr(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Zt.push([n,r,e,i])):Gt.push([e,r,t]):(n[r]=t,Zt.push([n,r,e]))}function qo(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){gr(Gl,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){gr(ri,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){gr(ri,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)qo(t[a],a,a,n,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var u=c[a];qo(t[u],u,a,n,t,s,o)}}n.pop()}}function Kd(t,e){return t<e?-1:t>e?1:0}function Ql(t,e,r,n){typeof n>"u"&&(n=Jl());var i=Go(t,"",0,[],void 0,0,n)||t,s;try{Gt.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,Zl(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Zt.length!==0;){var o=Zt.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function Go(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){gr(Gl,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){gr(ri,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){gr(ri,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Go(t[a],a,a,n,t,s,o);else{var c={},u=Object.keys(t).sort(Kd);for(a=0;a<u.length;a++){var h=u[a];Go(t[h],h,a,n,t,s,o),c[h]=t[h]}if(typeof i<"u")Zt.push([i,e,t]),i[e]=c;else return c}n.pop()}}function Zl(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Gt.length>0)for(var n=0;n<Gt.length;n++){var i=Gt[n];if(i[1]===e&&i[0]===r){r=i[2],Gt.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(Nt,"__esModule",{value:!0});Nt.EthereumProviderError=Nt.EthereumRpcError=void 0;const Xd=Yd;class Yl extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Xd.default(this.serialize(),rp,2)}}Nt.EthereumRpcError=Yl;class ep extends Yl{constructor(e,r,n){if(!tp(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Nt.EthereumProviderError=ep;function tp(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function rp(t,e){if(e!=="[Circular]")return e}var va={},Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.errorValues=Ot.errorCodes=void 0;Ot.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Ot.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Ot,r=Nt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(f,d=i){if(Number.isInteger(f)){const p=f.toString();if(l(e.errorValues,p))return e.errorValues[p].message;if(u(f))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return d}t.getMessageFromCode=o;function a(f){if(!Number.isInteger(f))return!1;const d=f.toString();return!!(e.errorValues[d]||u(f))}t.isValidCode=a;function c(f,{fallbackError:d=s,shouldIncludeStack:p=!1}={}){var m,E;if(!d||!Number.isInteger(d.code)||typeof d.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(f instanceof r.EthereumRpcError)return f.serialize();const g={};if(f&&typeof f=="object"&&!Array.isArray(f)&&l(f,"code")&&a(f.code)){const w=f;g.code=w.code,w.message&&typeof w.message=="string"?(g.message=w.message,l(w,"data")&&(g.data=w.data)):(g.message=o(g.code),g.data={originalError:h(f)})}else{g.code=d.code;const w=(m=f)===null||m===void 0?void 0:m.message;g.message=w&&typeof w=="string"?w:d.message,g.data={originalError:h(f)}}const v=(E=f)===null||E===void 0?void 0:E.stack;return p&&f&&v&&typeof v=="string"&&(g.stack=v),g}t.serializeError=c;function u(f){return f>=-32099&&f<=-32e3}function h(f){return f&&typeof f=="object"&&!Array.isArray(f)?Object.assign({},f):f}function l(f,d){return Object.prototype.hasOwnProperty.call(f,d)}})(va);var yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.ethErrors=void 0;const ya=Nt,Kl=va,Ee=Ot;yi.ethErrors={rpc:{parse:t=>je(Ee.errorCodes.rpc.parse,t),invalidRequest:t=>je(Ee.errorCodes.rpc.invalidRequest,t),invalidParams:t=>je(Ee.errorCodes.rpc.invalidParams,t),methodNotFound:t=>je(Ee.errorCodes.rpc.methodNotFound,t),internal:t=>je(Ee.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return je(e,t)},invalidInput:t=>je(Ee.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>je(Ee.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>je(Ee.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>je(Ee.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>je(Ee.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>je(Ee.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>qr(Ee.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>qr(Ee.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>qr(Ee.errorCodes.provider.unsupportedMethod,t),disconnected:t=>qr(Ee.errorCodes.provider.disconnected,t),chainDisconnected:t=>qr(Ee.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new ya.EthereumProviderError(e,r,n)}}};function je(t,e){const[r,n]=Xl(e);return new ya.EthereumRpcError(t,r||Kl.getMessageFromCode(t),n)}function qr(t,e){const[r,n]=Xl(e);return new ya.EthereumProviderError(t,r||Kl.getMessageFromCode(t),n)}function Xl(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Nt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=va;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=yi;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Ot;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(ma);var te={},_i={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(_i);Object.defineProperty(te,"__esModule",{value:!0});te.EthereumAddressFromSignedMessageResponse=te.SubmitEthereumTransactionResponse=te.SignEthereumTransactionResponse=te.SignEthereumMessageResponse=te.isRequestEthereumAccountsResponse=te.SelectProviderResponse=te.WatchAssetReponse=te.RequestEthereumAccountsResponse=te.SwitchEthereumChainResponse=te.AddEthereumChainResponse=te.isErrorResponse=void 0;const dt=_i;function np(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}te.isErrorResponse=np;function ip(t){return{method:dt.Web3Method.addEthereumChain,result:t}}te.AddEthereumChainResponse=ip;function sp(t){return{method:dt.Web3Method.switchEthereumChain,result:t}}te.SwitchEthereumChainResponse=sp;function op(t){return{method:dt.Web3Method.requestEthereumAccounts,result:t}}te.RequestEthereumAccountsResponse=op;function ap(t){return{method:dt.Web3Method.watchAsset,result:t}}te.WatchAssetReponse=ap;function cp(t){return{method:dt.Web3Method.selectProvider,result:t}}te.SelectProviderResponse=cp;function up(t){return t&&t.method===dt.Web3Method.requestEthereumAccounts}te.isRequestEthereumAccountsResponse=up;function lp(t){return{method:dt.Web3Method.signEthereumMessage,result:t}}te.SignEthereumMessageResponse=lp;function hp(t){return{method:dt.Web3Method.signEthereumTransaction,result:t}}te.SignEthereumTransactionResponse=hp;function fp(t){return{method:dt.Web3Method.submitEthereumTransaction,result:t}}te.SubmitEthereumTransactionResponse=fp;function dp(t){return{method:dt.Web3Method.ethereumAddressFromSignedMessage,result:t}}te.EthereumAddressFromSignedMessageResponse=dp;var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r.LIB_VERSION=void 0;$r.LIB_VERSION="3.7.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=ma,r=te,n=$r;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(h){return h!==void 0?(0,e.getMessageFromCode)(h):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(h="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${h}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(h,l){const f=(0,e.serializeError)(o(h),{shouldIncludeStack:!0}),d=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");d.searchParams.set("version",n.LIB_VERSION),d.searchParams.set("code",f.code.toString());const p=a(f.data,l);return p&&d.searchParams.set("method",p),d.searchParams.set("message",f.message),Object.assign(Object.assign({},f),{docUrl:d.href})}t.serializeError=s;function o(h){return typeof h=="string"?{message:h,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(h)?Object.assign(Object.assign({},h),{message:h.errorMessage,code:h.errorCode,data:{method:h.method,result:h.result}}):h}function a(h,l){var f;const d=(f=h)===null||f===void 0?void 0:f.method;if(d)return d;if(l!==void 0)return typeof l=="string"?l:Array.isArray(l)?l.length>0?l[0].method:void 0:l.method}function c(h){var l;if(typeof h=="number")return h;if(u(h))return(l=h.code)!==null&&l!==void 0?l:h.errorCode}t.getErrorCode=c;function u(h){return typeof h=="object"&&h!==null&&(typeof h.code=="number"||typeof h.errorCode=="number")}})(gn);var Pr={},R={};const pp={},gp=Object.freeze(Object.defineProperty({__proto__:null,default:pp},Symbol.toStringTag,{value:"Module"})),bp=Dt(gp);var _a=typeof Map=="function"&&Map.prototype,ho=Object.getOwnPropertyDescriptor&&_a?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ni=_a&&ho&&typeof ho.get=="function"?ho.get:null,Gc=_a&&Map.prototype.forEach,wa=typeof Set=="function"&&Set.prototype,fo=Object.getOwnPropertyDescriptor&&wa?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ii=wa&&fo&&typeof fo.get=="function"?fo.get:null,Jc=wa&&Set.prototype.forEach,mp=typeof WeakMap=="function"&&WeakMap.prototype,Xr=mp?WeakMap.prototype.has:null,vp=typeof WeakSet=="function"&&WeakSet.prototype,en=vp?WeakSet.prototype.has:null,yp=typeof WeakRef=="function"&&WeakRef.prototype,Qc=yp?WeakRef.prototype.deref:null,_p=Boolean.prototype.valueOf,wp=Object.prototype.toString,Sp=Function.prototype.toString,Ep=String.prototype.match,Sa=String.prototype.slice,At=String.prototype.replace,Cp=String.prototype.toUpperCase,Zc=String.prototype.toLowerCase,eh=RegExp.prototype.test,Yc=Array.prototype.concat,at=Array.prototype.join,Ip=Array.prototype.slice,Kc=Math.floor,Jo=typeof BigInt=="function"?BigInt.prototype.valueOf:null,po=Object.getOwnPropertySymbols,Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",xe=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Sr||!0)?Symbol.toStringTag:null,th=Object.prototype.propertyIsEnumerable,Xc=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function eu(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||eh.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Kc(-t):Kc(t);if(n!==t){var i=String(n),s=Sa.call(e,i.length+1);return At.call(i,r,"$&_")+"."+At.call(At.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return At.call(e,r,"$&_")}var Zo=bp,tu=Zo.custom,ru=nh(tu)?tu:null,xp=function t(e,r,n,i){var s=r||{};if(kt(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(kt(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=kt(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(kt(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(kt(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return sh(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?eu(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return a?eu(e,u):u}var h=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=h&&h>0&&typeof e=="object")return Yo(e)?"[Array]":"[Object]";var l=zp(s,n);if(typeof i>"u")i=[];else if(ih(i,e)>=0)return"[Circular]";function f(S,_,k){if(_&&(i=Ip.call(i),i.push(_)),k){var I={depth:s.depth};return kt(s,"quoteStyle")&&(I.quoteStyle=s.quoteStyle),t(S,I,n+1,i)}return t(S,s,n+1,i)}if(typeof e=="function"&&!nu(e)){var d=$p(e),p=Pn(e,f);return"[Function"+(d?": "+d:" (anonymous)")+"]"+(p.length>0?" { "+at.call(p,", ")+" }":"")}if(nh(e)){var m=Sr?At.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Qo.call(e);return typeof e=="object"&&!Sr?Gr(m):m}if(Vp(e)){for(var E="<"+Zc.call(String(e.nodeName)),g=e.attributes||[],v=0;v<g.length;v++)E+=" "+g[v].name+"="+rh(kp(g[v].value),"double",s);return E+=">",e.childNodes&&e.childNodes.length&&(E+="..."),E+="</"+Zc.call(String(e.nodeName))+">",E}if(Yo(e)){if(e.length===0)return"[]";var w=Pn(e,f);return l&&!Wp(w)?"["+Ko(w,l)+"]":"[ "+at.call(w,", ")+" ]"}if(Mp(e)){var C=Pn(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!th.call(e,"cause")?"{ ["+String(e)+"] "+at.call(Yc.call("[cause]: "+f(e.cause),C),", ")+" }":C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+at.call(C,", ")+" }"}if(typeof e=="object"&&o){if(ru&&typeof e[ru]=="function"&&Zo)return Zo(e,{depth:h-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Pp(e)){var y=[];return Gc&&Gc.call(e,function(S,_){y.push(f(_,e,!0)+" => "+f(S,e))}),iu("Map",ni.call(e),y,l)}if(Fp(e)){var M=[];return Jc&&Jc.call(e,function(S){M.push(f(S,e))}),iu("Set",ii.call(e),M,l)}if(Dp(e))return go("WeakMap");if(Bp(e))return go("WeakSet");if(jp(e))return go("WeakRef");if(Tp(e))return Gr(f(Number(e)));if(Op(e))return Gr(f(Jo.call(e)));if(Np(e))return Gr(_p.call(e));if(Ap(e))return Gr(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===A)return"{ [object globalThis] }";if(!Rp(e)&&!nu(e)){var j=Pn(e,f),Z=Xc?Xc(e)===Object.prototype:e instanceof Object||e.constructor===Object,N=e instanceof Object?"":"null prototype",F=!Z&&xe&&Object(e)===e&&xe in e?Sa.call(jt(e),8,-1):N?"Object":"",ne=Z||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",U=ne+(F||N?"["+at.call(Yc.call([],F||[],N||[]),": ")+"] ":"");return j.length===0?U+"{}":l?U+"{"+Ko(j,l)+"}":U+"{ "+at.call(j,", ")+" }"}return String(e)};function rh(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function kp(t){return At.call(String(t),/"/g,"&quot;")}function Yo(t){return jt(t)==="[object Array]"&&(!xe||!(typeof t=="object"&&xe in t))}function Rp(t){return jt(t)==="[object Date]"&&(!xe||!(typeof t=="object"&&xe in t))}function nu(t){return jt(t)==="[object RegExp]"&&(!xe||!(typeof t=="object"&&xe in t))}function Mp(t){return jt(t)==="[object Error]"&&(!xe||!(typeof t=="object"&&xe in t))}function Ap(t){return jt(t)==="[object String]"&&(!xe||!(typeof t=="object"&&xe in t))}function Tp(t){return jt(t)==="[object Number]"&&(!xe||!(typeof t=="object"&&xe in t))}function Np(t){return jt(t)==="[object Boolean]"&&(!xe||!(typeof t=="object"&&xe in t))}function nh(t){if(Sr)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Qo)return!1;try{return Qo.call(t),!0}catch{}return!1}function Op(t){if(!t||typeof t!="object"||!Jo)return!1;try{return Jo.call(t),!0}catch{}return!1}var Lp=Object.prototype.hasOwnProperty||function(t){return t in this};function kt(t,e){return Lp.call(t,e)}function jt(t){return wp.call(t)}function $p(t){if(t.name)return t.name;var e=Ep.call(Sp.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function ih(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Pp(t){if(!ni||!t||typeof t!="object")return!1;try{ni.call(t);try{ii.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Dp(t){if(!Xr||!t||typeof t!="object")return!1;try{Xr.call(t,Xr);try{en.call(t,en)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function jp(t){if(!Qc||!t||typeof t!="object")return!1;try{return Qc.call(t),!0}catch{}return!1}function Fp(t){if(!ii||!t||typeof t!="object")return!1;try{ii.call(t);try{ni.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Bp(t){if(!en||!t||typeof t!="object")return!1;try{en.call(t,en);try{Xr.call(t,Xr)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Vp(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function sh(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return sh(Sa.call(t,0,e.maxStringLength),e)+n}var i=At.call(At.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Hp);return rh(i,"single",e)}function Hp(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Cp.call(e.toString(16))}function Gr(t){return"Object("+t+")"}function go(t){return t+" { ? }"}function iu(t,e,r,n){var i=n?Ko(r,n):at.call(r,", ");return t+" ("+e+") {"+i+"}"}function Wp(t){for(var e=0;e<t.length;e++)if(ih(t[e],`
`)>=0)return!1;return!0}function zp(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=at.call(Array(t.indent+1)," ");else return null;return{base:r,prev:at.call(Array(e+1),r)}}function Ko(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+at.call(t,","+r)+`
`+e.prev}function Pn(t,e){var r=Yo(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=kt(t,i)?e(t[i],t):""}var s=typeof po=="function"?po(t):[],o;if(Sr){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)kt(t,c)&&(r&&String(Number(c))===c&&c<t.length||Sr&&o["$"+c]instanceof Symbol||(eh.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof po=="function")for(var u=0;u<s.length;u++)th.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var Ea=Vd,Dr=Hd,Up=xp,qp=Ea("%TypeError%"),Dn=Ea("%WeakMap%",!0),jn=Ea("%Map%",!0),Gp=Dr("WeakMap.prototype.get",!0),Jp=Dr("WeakMap.prototype.set",!0),Qp=Dr("WeakMap.prototype.has",!0),Zp=Dr("Map.prototype.get",!0),Yp=Dr("Map.prototype.set",!0),Kp=Dr("Map.prototype.has",!0),Ca=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},Xp=function(t,e){var r=Ca(t,e);return r&&r.value},e0=function(t,e,r){var n=Ca(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},t0=function(t,e){return!!Ca(t,e)},r0=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new qp("Side channel does not contain "+Up(s))},get:function(s){if(Dn&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Gp(e,s)}else if(jn){if(r)return Zp(r,s)}else if(n)return Xp(n,s)},has:function(s){if(Dn&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Qp(e,s)}else if(jn){if(r)return Kp(r,s)}else if(n)return t0(n,s);return!1},set:function(s,o){Dn&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Dn),Jp(e,s,o)):jn?(r||(r=new jn),Yp(r,s,o)):(n||(n={key:{},next:null}),e0(n,s,o))}};return i},n0=String.prototype.replace,i0=/%20/g,bo={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ia={default:bo.RFC3986,formatters:{RFC1738:function(t){return n0.call(t,i0,"+")},RFC3986:function(t){return String(t)}},RFC1738:bo.RFC1738,RFC3986:bo.RFC3986},s0=Ia,mo=Object.prototype.hasOwnProperty,Ht=Array.isArray,tt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),o0=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Ht(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},oh=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},a0=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Ht(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!mo.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Ht(e)&&!Ht(r)&&(i=oh(e,n)),Ht(e)&&Ht(r)?(r.forEach(function(s,o){if(mo.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return mo.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},c0=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},u0=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},l0=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===s0.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+tt[u];continue}if(u<2048){a=a+(tt[192|u>>6]+tt[128|u&63]);continue}if(u<55296||u>=57344){a=a+(tt[224|u>>12]+tt[128|u>>6&63]+tt[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=tt[240|u>>18]+tt[128|u>>12&63]+tt[128|u>>6&63]+tt[128|u&63]}return a},h0=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],h=o[u];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:o,prop:u}),n.push(h))}return o0(r),e},f0=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},d0=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},p0=function(e,r){return[].concat(e,r)},g0=function(e,r){if(Ht(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},ah={arrayToObject:oh,assign:c0,combine:p0,compact:h0,decode:u0,encode:l0,isBuffer:d0,isRegExp:f0,maybeMap:g0,merge:a0},ch=r0,Yn=ah,tn=Ia,b0=Object.prototype.hasOwnProperty,su={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},bt=Array.isArray,m0=Array.prototype.push,uh=function(t,e){m0.apply(t,bt(e)?e:[e])},v0=Date.prototype.toISOString,ou=tn.default,Ie={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Yn.encode,encodeValuesOnly:!1,format:ou,formatter:tn.formatters[ou],indices:!1,serializeDate:function(e){return v0.call(e)},skipNulls:!1,strictNullHandling:!1},y0=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},vo={},_0=function t(e,r,n,i,s,o,a,c,u,h,l,f,d,p,m,E){for(var g=e,v=E,w=0,C=!1;(v=v.get(vo))!==void 0&&!C;){var y=v.get(e);if(w+=1,typeof y<"u"){if(y===w)throw new RangeError("Cyclic object value");C=!0}typeof v.get(vo)>"u"&&(w=0)}if(typeof c=="function"?g=c(r,g):g instanceof Date?g=l(g):n==="comma"&&bt(g)&&(g=Yn.maybeMap(g,function(I){return I instanceof Date?l(I):I})),g===null){if(s)return a&&!p?a(r,Ie.encoder,m,"key",f):r;g=""}if(y0(g)||Yn.isBuffer(g)){if(a){var M=p?r:a(r,Ie.encoder,m,"key",f);return[d(M)+"="+d(a(g,Ie.encoder,m,"value",f))]}return[d(r)+"="+d(String(g))]}var j=[];if(typeof g>"u")return j;var Z;if(n==="comma"&&bt(g))p&&a&&(g=Yn.maybeMap(g,a)),Z=[{value:g.length>0?g.join(",")||null:void 0}];else if(bt(c))Z=c;else{var N=Object.keys(g);Z=u?N.sort(u):N}for(var F=i&&bt(g)&&g.length===1?r+"[]":r,ne=0;ne<Z.length;++ne){var U=Z[ne],S=typeof U=="object"&&typeof U.value<"u"?U.value:g[U];if(!(o&&S===null)){var _=bt(g)?typeof n=="function"?n(F,U):F:F+(h?"."+U:"["+U+"]");E.set(e,w);var k=ch();k.set(vo,E),uh(j,t(S,_,n,i,s,o,n==="comma"&&p&&bt(g)?null:a,c,u,h,l,f,d,p,m,k))}}return j},w0=function(e){if(!e)return Ie;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ie.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=tn.default;if(typeof e.format<"u"){if(!b0.call(tn.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=tn.formatters[n],s=Ie.filter;return(typeof e.filter=="function"||bt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ie.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Ie.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ie.charsetSentinel,delimiter:typeof e.delimiter>"u"?Ie.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ie.encode,encoder:typeof e.encoder=="function"?e.encoder:Ie.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ie.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ie.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ie.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ie.strictNullHandling}},S0=function(t,e){var r=t,n=w0(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):bt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in su?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=su[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var h=ch(),l=0;l<i.length;++l){var f=i[l];n.skipNulls&&r[f]===null||uh(o,_0(r[f],f,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,h))}var d=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),d.length>0?p+d:""},Er=ah,Xo=Object.prototype.hasOwnProperty,E0=Array.isArray,ge={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Er.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},C0=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},lh=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},I0="utf8=%26%2310003%3B",x0="utf8=%E2%9C%93",k0=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===x0?u="utf-8":o[c]===I0&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var h=o[c],l=h.indexOf("]="),f=l===-1?h.indexOf("="):l+1,d,p;f===-1?(d=r.decoder(h,ge.decoder,u,"key"),p=r.strictNullHandling?null:""):(d=r.decoder(h.slice(0,f),ge.decoder,u,"key"),p=Er.maybeMap(lh(h.slice(f+1),r),function(m){return r.decoder(m,ge.decoder,u,"value")})),p&&r.interpretNumericEntities&&u==="iso-8859-1"&&(p=C0(p)),h.indexOf("[]=")>-1&&(p=E0(p)?[p]:p),Xo.call(n,d)?n[d]=Er.combine(n[d],p):n[d]=p}return n},R0=function(t,e,r,n){for(var i=n?e:lh(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},M0=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,h=[];if(u){if(!n.plainObjects&&Xo.call(Object.prototype,u)&&!n.allowPrototypes)return;h.push(u)}for(var l=0;n.depth>0&&(c=a.exec(s))!==null&&l<n.depth;){if(l+=1,!n.plainObjects&&Xo.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(c[1])}return c&&h.push("["+s.slice(c.index)+"]"),R0(h,r,n,i)}},A0=function(e){if(!e)return ge;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ge.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ge.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ge.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ge.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ge.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ge.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ge.comma,decoder:typeof e.decoder=="function"?e.decoder:ge.decoder,delimiter:typeof e.delimiter=="string"||Er.isRegExp(e.delimiter)?e.delimiter:ge.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ge.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ge.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ge.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ge.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ge.strictNullHandling}},T0=function(t,e){var r=A0(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?k0(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=M0(a,n[a],r,typeof t=="string");i=Er.merge(i,c,r)}return r.allowSparse===!0?i:Er.compact(i)},N0=S0,O0=T0,L0=Ia,$0={formats:L0,parse:O0,stringify:N0},bn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(bn);var P0=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(R,"__esModule",{value:!0});R.isInIFrame=R.createQrUrl=R.getFavicon=R.range=R.isBigNumber=R.ensureParsedJSONObject=R.ensureBN=R.ensureRegExpString=R.ensureIntNumber=R.ensureBuffer=R.ensureAddressString=R.ensureEvenLengthHexString=R.ensureHexString=R.isHexString=R.prepend0x=R.strip0x=R.has0xPrefix=R.hexStringFromIntNumber=R.intNumberFromHexString=R.bigIntStringFromBN=R.hexStringFromBuffer=R.hexStringToUint8Array=R.uint8ArrayToHex=R.randomBytesHex=void 0;const Rt=P0(gi),D0=$0,rr=gn,ze=bn,hh=/^[0-9]*$/,fh=/^[a-f0-9]*$/;function j0(t){return dh(crypto.getRandomValues(new Uint8Array(t)))}R.randomBytesHex=j0;function dh(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}R.uint8ArrayToHex=dh;function F0(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}R.hexStringToUint8Array=F0;function B0(t,e=!1){const r=t.toString("hex");return(0,ze.HexString)(e?"0x"+r:r)}R.hexStringFromBuffer=B0;function V0(t){return(0,ze.BigIntString)(t.toString(10))}R.bigIntStringFromBN=V0;function H0(t){return(0,ze.IntNumber)(new Rt.default(vn(t,!1),16).toNumber())}R.intNumberFromHexString=H0;function W0(t){return(0,ze.HexString)("0x"+new Rt.default(t).toString(16))}R.hexStringFromIntNumber=W0;function xa(t){return t.startsWith("0x")||t.startsWith("0X")}R.has0xPrefix=xa;function wi(t){return xa(t)?t.slice(2):t}R.strip0x=wi;function ph(t){return xa(t)?"0x"+t.slice(2):"0x"+t}R.prepend0x=ph;function mn(t){if(typeof t!="string")return!1;const e=wi(t).toLowerCase();return fh.test(e)}R.isHexString=mn;function gh(t,e=!1){if(typeof t=="string"){const r=wi(t).toLowerCase();if(fh.test(r))return(0,ze.HexString)(e?"0x"+r:r)}throw rr.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}R.ensureHexString=gh;function vn(t,e=!1){let r=gh(t,!1);return r.length%2===1&&(r=(0,ze.HexString)("0"+r)),e?(0,ze.HexString)("0x"+r):r}R.ensureEvenLengthHexString=vn;function z0(t){if(typeof t=="string"){const e=wi(t).toLowerCase();if(mn(e)&&e.length===40)return(0,ze.AddressString)(ph(e))}throw rr.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}R.ensureAddressString=z0;function U0(t){if(H.Buffer.isBuffer(t))return t;if(typeof t=="string")if(mn(t)){const e=vn(t,!1);return H.Buffer.from(e,"hex")}else return H.Buffer.from(t,"utf8");throw rr.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}R.ensureBuffer=U0;function bh(t){if(typeof t=="number"&&Number.isInteger(t))return(0,ze.IntNumber)(t);if(typeof t=="string"){if(hh.test(t))return(0,ze.IntNumber)(Number(t));if(mn(t))return(0,ze.IntNumber)(new Rt.default(vn(t,!1),16).toNumber())}throw rr.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}R.ensureIntNumber=bh;function q0(t){if(t instanceof RegExp)return(0,ze.RegExpString)(t.toString());throw rr.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}R.ensureRegExpString=q0;function G0(t){if(t!==null&&(Rt.default.isBN(t)||mh(t)))return new Rt.default(t.toString(10),10);if(typeof t=="number")return new Rt.default(bh(t));if(typeof t=="string"){if(hh.test(t))return new Rt.default(t,10);if(mn(t))return new Rt.default(vn(t,!1),16)}throw rr.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}R.ensureBN=G0;function J0(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw rr.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}R.ensureParsedJSONObject=J0;function mh(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}R.isBigNumber=mh;function Q0(t,e){return Array.from({length:e-t},(r,n)=>t+n)}R.range=Q0;function Z0(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}R.getFavicon=Z0;function Y0(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,D0.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}R.createQrUrl=Y0;function K0(){try{return window.frameElement!==null}catch{return!1}}R.isInIFrame=K0;Object.defineProperty(Pr,"__esModule",{value:!0});Pr.Session=void 0;const au=Wd,cu=R,uu="session:id",lu="session:secret",hu="session:linked";class ka{constructor(e,r,n,i){this._storage=e,this._id=r||(0,cu.randomBytesHex)(16),this._secret=n||(0,cu.randomBytesHex)(32),this._key=new au.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(uu),n=e.getItem(hu),i=e.getItem(lu);return r&&i?new ka(e,r,i,n==="1"):null}static hash(e){return new au.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(uu,this._id),this._storage.setItem(lu,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(hu,this._linked?"1":"0")}}Pr.Session=ka;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.WalletSDKRelayAbstract=Ke.APP_VERSION_KEY=Ke.LOCAL_STORAGE_ADDRESSES_KEY=Ke.WALLET_USER_NAME_KEY=void 0;const fu=gn;Ke.WALLET_USER_NAME_KEY="walletUsername";Ke.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Ke.APP_VERSION_KEY="AppVersion";class X0{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw fu.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,fu.serializeError)(s,e.method);return i})}}Ke.WalletSDKRelayAbstract=X0;const{Transform:eg}=Ul;var tg=t=>class vh extends eg{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!H.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return H.Buffer.isBuffer(r)||(r=H.Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new vh(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:rg}=Ul;var ng=t=>class yh extends rg{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!H.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return H.Buffer.isBuffer(r)||(r=H.Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new yh(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const ig=tg,sg=ng;var og=function(t){const e=ig(t),r=sg(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},_h={};const du=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];_h.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],u=t[7]^t[17]^t[27]^t[37]^t[47],h=t[8]^t[18]^t[28]^t[38]^t[48],l=t[9]^t[19]^t[29]^t[39]^t[49];let f=h^(i<<1|s>>>31),d=l^(s<<1|i>>>31);const p=t[0]^f,m=t[1]^d,E=t[10]^f,g=t[11]^d,v=t[20]^f,w=t[21]^d,C=t[30]^f,y=t[31]^d,M=t[40]^f,j=t[41]^d;f=r^(o<<1|a>>>31),d=n^(a<<1|o>>>31);const Z=t[2]^f,N=t[3]^d,F=t[12]^f,ne=t[13]^d,U=t[22]^f,S=t[23]^d,_=t[32]^f,k=t[33]^d,I=t[42]^f,O=t[43]^d;f=i^(c<<1|u>>>31),d=s^(u<<1|c>>>31);const x=t[4]^f,$=t[5]^d,G=t[14]^f,B=t[15]^d,ee=t[24]^f,Se=t[25]^d,ie=t[34]^f,Et=t[35]^d,ps=t[44]^f,Ic=t[45]^d;f=o^(h<<1|l>>>31),d=a^(l<<1|h>>>31);const xc=t[6]^f,kc=t[7]^d,Rc=t[16]^f,Mc=t[17]^d,Ac=t[26]^f,Tc=t[27]^d,Nc=t[36]^f,Oc=t[37]^d,Lc=t[46]^f,$c=t[47]^d;f=c^(r<<1|n>>>31),d=u^(n<<1|r>>>31);const Pc=t[8]^f,Dc=t[9]^d,jc=t[18]^f,Fc=t[19]^d,Bc=t[28]^f,Vc=t[29]^d,Hc=t[38]^f,Wc=t[39]^d,zc=t[48]^f,Uc=t[49]^d,gs=p,bs=m,ms=g<<4|E>>>28,vs=E<<4|g>>>28,ys=v<<3|w>>>29,_s=w<<3|v>>>29,ws=y<<9|C>>>23,Ss=C<<9|y>>>23,Es=M<<18|j>>>14,Cs=j<<18|M>>>14,Is=Z<<1|N>>>31,xs=N<<1|Z>>>31,ks=ne<<12|F>>>20,Rs=F<<12|ne>>>20,Ms=U<<10|S>>>22,As=S<<10|U>>>22,Ts=k<<13|_>>>19,Ns=_<<13|k>>>19,Os=I<<2|O>>>30,Ls=O<<2|I>>>30,$s=$<<30|x>>>2,Ps=x<<30|$>>>2,Ds=G<<6|B>>>26,js=B<<6|G>>>26,Fs=Se<<11|ee>>>21,Bs=ee<<11|Se>>>21,Vs=ie<<15|Et>>>17,Hs=Et<<15|ie>>>17,Ws=Ic<<29|ps>>>3,zs=ps<<29|Ic>>>3,Us=xc<<28|kc>>>4,qs=kc<<28|xc>>>4,Gs=Mc<<23|Rc>>>9,Js=Rc<<23|Mc>>>9,Qs=Ac<<25|Tc>>>7,Zs=Tc<<25|Ac>>>7,Ys=Nc<<21|Oc>>>11,Ks=Oc<<21|Nc>>>11,Xs=$c<<24|Lc>>>8,eo=Lc<<24|$c>>>8,to=Pc<<27|Dc>>>5,ro=Dc<<27|Pc>>>5,no=jc<<20|Fc>>>12,io=Fc<<20|jc>>>12,so=Vc<<7|Bc>>>25,oo=Bc<<7|Vc>>>25,ao=Hc<<8|Wc>>>24,co=Wc<<8|Hc>>>24,uo=zc<<14|Uc>>>18,lo=Uc<<14|zc>>>18;t[0]=gs^~ks&Fs,t[1]=bs^~Rs&Bs,t[10]=Us^~no&ys,t[11]=qs^~io&_s,t[20]=Is^~Ds&Qs,t[21]=xs^~js&Zs,t[30]=to^~ms&Ms,t[31]=ro^~vs&As,t[40]=$s^~Gs&so,t[41]=Ps^~Js&oo,t[2]=ks^~Fs&Ys,t[3]=Rs^~Bs&Ks,t[12]=no^~ys&Ts,t[13]=io^~_s&Ns,t[22]=Ds^~Qs&ao,t[23]=js^~Zs&co,t[32]=ms^~Ms&Vs,t[33]=vs^~As&Hs,t[42]=Gs^~so&ws,t[43]=Js^~oo&Ss,t[4]=Fs^~Ys&uo,t[5]=Bs^~Ks&lo,t[14]=ys^~Ts&Ws,t[15]=_s^~Ns&zs,t[24]=Qs^~ao&Es,t[25]=Zs^~co&Cs,t[34]=Ms^~Vs&Xs,t[35]=As^~Hs&eo,t[44]=so^~ws&Os,t[45]=oo^~Ss&Ls,t[6]=Ys^~uo&gs,t[7]=Ks^~lo&bs,t[16]=Ts^~Ws&Us,t[17]=Ns^~zs&qs,t[26]=ao^~Es&Is,t[27]=co^~Cs&xs,t[36]=Vs^~Xs&to,t[37]=Hs^~eo&ro,t[46]=ws^~Os&$s,t[47]=Ss^~Ls&Ps,t[8]=uo^~gs&ks,t[9]=lo^~bs&Rs,t[18]=Ws^~Us&no,t[19]=zs^~qs&io,t[28]=Es^~Is&Ds,t[29]=Cs^~xs&js,t[38]=Xs^~to&ms,t[39]=eo^~ro&vs,t[48]=Os^~$s&Gs,t[49]=Ls^~Ps&Js,t[0]^=du[e*2],t[1]^=du[e*2+1]}};const si=_h;function jr(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}jr.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};jr.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(si.p1600(this.state),this.count=0)};jr.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&si.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),si.p1600(this.state),this.count=0,this.squeezing=!0};jr.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=H.Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(si.p1600(this.state),this.count=0);return e};jr.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var ag=jr,cg=og(ag);const ug=cg,lg=gi;function wh(t){return H.Buffer.allocUnsafe(t).fill(0)}function Sh(t,e,r){const n=wh(e);return t=Si(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function hg(t,e){return Sh(t,e,!0)}function Si(t){if(!H.Buffer.isBuffer(t))if(Array.isArray(t))t=H.Buffer.from(t);else if(typeof t=="string")Eh(t)?t=H.Buffer.from(pg(Ch(t)),"hex"):t=H.Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=H.Buffer.allocUnsafe(0);else if(lg.isBN(t))t=t.toArrayLike(H.Buffer);else if(t.toArray)t=H.Buffer.from(t.toArray());else throw new Error("invalid type");return t}function fg(t){return t=Si(t),"0x"+t.toString("hex")}function dg(t,e){return t=Si(t),e||(e=256),ug("keccak"+e).update(t).digest()}function pg(t){return t.length%2?"0"+t:t}function Eh(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function Ch(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Ih={zeros:wh,setLength:Sh,setLengthRight:hg,isHexString:Eh,stripHexPrefix:Ch,toBuffer:Si,bufferToHex:fg,keccak:dg};const Yt=Ih,Jt=gi;function xh(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function br(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function pu(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function kh(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Wt(t){var e=typeof t;if(e==="string")return Yt.isHexString(t)?new Jt(Yt.stripHexPrefix(t),16):new Jt(t,10);if(e==="number")return new Jt(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function st(t,e){var r,n,i,s;if(t==="address")return st("uint160",Wt(e));if(t==="bool")return st("uint8",e?1:0);if(t==="string")return st("bytes",new H.Buffer(e,"utf8"));if(bg(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=kh(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(st(t,e[s]));if(r==="dynamic"){var o=st("uint256",e.length);i.unshift(o)}return H.Buffer.concat(i)}else{if(t==="bytes")return e=new H.Buffer(e),i=H.Buffer.concat([st("uint256",e.length),e]),e.length%32!==0&&(i=H.Buffer.concat([i,Yt.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=br(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Yt.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=br(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Wt(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(H.Buffer,"be",32)}else if(t.startsWith("int")){if(r=br(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Wt(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(H.Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=pu(t),n=Wt(e),n<0)throw new Error("Supplied ufixed is negative");return st("uint256",n.mul(new Jt(2).pow(new Jt(r[1]))))}else if(t.startsWith("fixed"))return r=pu(t),st("int256",Wt(e).mul(new Jt(2).pow(new Jt(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function gg(t){return t==="string"||t==="bytes"||kh(t)==="dynamic"}function bg(t){return t.lastIndexOf("]")===t.length-1}function mg(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=xh(t[s]),a=e[s],c=st(o,a);gg(o)?(r.push(st("uint256",i)),n.push(c),i+=c.length):r.push(c)}return H.Buffer.concat(r.concat(n))}function Rh(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=xh(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new H.Buffer(a,"utf8"));else if(o==="bool")i.push(new H.Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Yt.setLength(a,20));else if(o.startsWith("bytes")){if(r=br(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Yt.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=br(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Wt(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(H.Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=br(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Wt(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(H.Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return H.Buffer.concat(i)}function vg(t,e){return Yt.keccak(Rh(t,e))}var yg={rawEncode:mg,solidityPack:Rh,soliditySHA3:vg};const Qe=Ih,rn=yg,Mh={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},yo={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,u)=>{if(r[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Qe.keccak(this.encodeData(c,u,r,n))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Qe.keccak(u)];if(c==="string")return typeof u=="string"&&(u=H.Buffer.from(u,"utf8")),["bytes32",Qe.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const h=c.slice(0,c.lastIndexOf("[")),l=u.map(f=>o(a,h,f));return["bytes32",Qe.keccak(rn.rawEncode(l.map(([f])=>f),l.map(([,f])=>f)))]}return[c,u]};for(const a of r[t]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Qe.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=H.Buffer.from(a,"utf8")),a=Qe.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Qe.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return rn.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Qe.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Qe.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Mh.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[H.Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Qe.keccak(H.Buffer.concat(n))}};var _g={TYPED_MESSAGE_SCHEMA:Mh,TypedDataUtils:yo,hashForSignTypedDataLegacy:function(t){return wg(t.data)},hashForSignTypedData_v3:function(t){return yo.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return yo.hash(t.data)}};function wg(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Qe.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return rn.soliditySHA3(["bytes32","bytes32"],[rn.soliditySHA3(new Array(t.length).fill("string"),i),rn.soliditySHA3(n,r)])}var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.filterFromParam=Cr.FilterPolyfill=void 0;const fr=bn,ke=R,Sg=5*60*1e3,zt={jsonrpc:"2.0",id:0};class Eg{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,fr.IntNumber)(1),this.provider=e}async newFilter(e){const r=Ah(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,ke.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,ke.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,ke.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,ke.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,ke.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Fn())}async getFilterLogs(e){const r=(0,ke.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},zt),{method:"eth_getLogs",params:[gu(n)]})):Fn()}makeFilterId(){return(0,fr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Fn();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Bn();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},zt),{method:"eth_getLogs",params:[gu(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,ke.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const u=(0,fr.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Fn();const n=await this.getCurrentBlockHeight();if(r>n)return Bn();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,ke.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,fr.IntNumber)(o))))).filter(o=>!!o),s=(0,fr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},zt),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Bn())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Sg);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},zt),{method:"eth_blockNumber",params:[]}));return(0,ke.intNumberFromHexString)((0,ke.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},zt),{method:"eth_getBlockByNumber",params:[(0,ke.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,ke.ensureHexString)(r.result.hash):null}}Cr.FilterPolyfill=Eg;function Ah(t){return{fromBlock:bu(t.fromBlock),toBlock:bu(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Cr.filterFromParam=Ah;function gu(t){const e={fromBlock:mu(t.fromBlock),toBlock:mu(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function bu(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,fr.IntNumber)(0);if((0,ke.isHexString)(t))return(0,ke.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function mu(t){return t==="latest"?t:(0,ke.hexStringFromIntNumber)(t)}function Fn(){return Object.assign(Object.assign({},zt),{error:{code:-32e3,message:"filter not found"}})}function Bn(){return Object.assign(Object.assign({},zt),{result:[]})}var Th={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Th);var Ei={},Nh={},Ci={},Ra=Cg;function Cg(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const vu=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var Ig=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):vu(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?vu(s,e):s}return n},yn={},xg=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yn,"__esModule",{value:!0});yn.BaseBlockTracker=void 0;const kg=xg(tr),Rg=1e3,Mg=(t,e)=>t+e,yu=["sync","latest"];class Ag extends kg.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*Rg,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){yu.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return yu.map(e=>this.listenerCount(e)).reduce(Mg)}_newPotentialLatest(e){const r=this._currentBlock;r&&_u(e)<=_u(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}yn.BaseBlockTracker=Ag;function _u(t){return Number.parseInt(t,16)}var Oh={},Lh={},we={};class $h extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function Tg(t){return Ue(t)&&typeof t[Symbol.iterator]=="function"}function Ue(t){return typeof t=="object"&&t!=null}function wu(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function pe(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Ng(t){const{done:e,value:r}=t.next();return e?void 0:r}function Og(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${pe(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*ea(t,e,r,n){Tg(t)||(t=[t]);for(const i of t){const s=Og(i,e,r,n);s&&(yield s)}}function*Ma(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Ue(e.schema)&&Ue(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let c="valid";for(const u of e.validator(t,a))u.explanation=r.message,c="not_valid",yield[u,void 0];for(let[u,h,l]of e.entries(t,a)){const f=Ma(h,l,{path:u===void 0?n:[...n,u],branch:u===void 0?i:[...i,h],coerce:s,mask:o,message:r.message});for(const d of f)d[0]?(c=d[0].refinement!=null?"not_refined":"not_valid",yield[d[0],void 0]):s&&(h=d[1],u===void 0?t=h:t instanceof Map?t.set(u,h):t instanceof Set?t.add(h):Ue(t)&&(h!==void 0||u in t)&&(t[u]=h))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=r.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}class he{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const h=i(c,u);return ea(h,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const h=s(c,u);return ea(h,u,this,c)}:this.refiner=()=>[]}assert(e,r){return Ph(e,this,r)}create(e,r){return Dh(e,this,r)}is(e){return Aa(e,this)}mask(e,r){return jh(e,this,r)}validate(e,r={}){return Fr(e,this,r)}}function Ph(t,e,r){const n=Fr(t,e,{message:r});if(n[0])throw n[0]}function Dh(t,e,r){const n=Fr(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function jh(t,e,r){const n=Fr(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function Aa(t,e){return!Fr(t,e)[0]}function Fr(t,e,r={}){const n=Ma(t,e,r),i=Ng(n);return i[0]?[new $h(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Lg(...t){const e=t[0].type==="type",r=t.map(i=>i.schema),n=Object.assign({},...r);return e?Na(n):_n(n)}function Oe(t,e){return new he({type:t,schema:null,validator:e})}function $g(t,e){return new he({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function Pg(t){return new he({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)},refiner(e,r){return t(e,r).refiner(e,r)}})}function Dg(t){let e;return new he({type:"lazy",schema:null,*entries(r,n){e??(e=t()),yield*e.entries(r,n)},validator(r,n){return e??(e=t()),e.validator(r,n)},coercer(r,n){return e??(e=t()),e.coercer(r,n)},refiner(r,n){return e??(e=t()),e.refiner(r,n)}})}function jg(t,e){const{schema:r}=t,n={...r};for(const i of e)delete n[i];switch(t.type){case"type":return Na(n);default:return _n(n)}}function Fg(t){const e=t instanceof he?{...t.schema}:{...t};for(const r in e)e[r]=Fh(e[r]);return _n(e)}function Bg(t,e){const{schema:r}=t,n={};for(const i of e)n[i]=r[i];return _n(n)}function Vg(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Oe(t,e)}function Hg(){return Oe("any",()=>!0)}function Wg(t){return new he({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${pe(e)}`}})}function zg(){return Oe("bigint",t=>typeof t=="bigint")}function Ug(){return Oe("boolean",t=>typeof t=="boolean")}function qg(){return Oe("date",t=>t instanceof Date&&!isNaN(t.getTime())||`Expected a valid \`Date\` object, but received: ${pe(t)}`)}function Gg(t){const e={},r=t.map(n=>pe(n)).join();for(const n of t)e[n]=n;return new he({type:"enums",schema:e,validator(n){return t.includes(n)||`Expected one of \`${r}\`, but received: ${pe(n)}`}})}function Jg(){return Oe("func",t=>typeof t=="function"||`Expected a function, but received: ${pe(t)}`)}function Qg(t){return Oe("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${pe(e)}`)}function Zg(){return Oe("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${pe(t)}`)}function Yg(t){return new he({type:"intersection",schema:null,*entries(e,r){for(const n of t)yield*n.entries(e,r)},*validator(e,r){for(const n of t)yield*n.validator(e,r)},*refiner(e,r){for(const n of t)yield*n.refiner(e,r)}})}function Kg(t){const e=pe(t),r=typeof t;return new he({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${pe(n)}`}})}function Xg(t,e){return new he({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,t],yield[n,i,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${pe(r)}`}})}function Ta(){return Oe("never",()=>!1)}function eb(t){return new he({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function tb(){return Oe("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${pe(t)}`)}function _n(t){const e=t?Object.keys(t):[],r=Ta();return new he({type:"object",schema:t||null,*entries(n){if(t&&Ue(n)){const i=new Set(Object.keys(n));for(const s of e)i.delete(s),yield[s,n[s],t[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return Ue(n)||`Expected an object, but received: ${pe(n)}`},coercer(n){return Ue(n)?{...n}:n}})}function Fh(t){return new he({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function rb(t,e){return new he({type:"record",schema:null,*entries(r){if(Ue(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return Ue(r)||`Expected an object, but received: ${pe(r)}`}})}function nb(){return Oe("regexp",t=>t instanceof RegExp)}function ib(t){return new he({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(const r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||`Expected a \`Set\` object, but received: ${pe(e)}`}})}function Bh(){return Oe("string",t=>typeof t=="string"||`Expected a string, but received: ${pe(t)}`)}function sb(t){const e=Ta();return new he({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${pe(r)}`}})}function Na(t){const e=Object.keys(t);return new he({type:"type",schema:t,*entries(r){if(Ue(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return Ue(r)||`Expected an object, but received: ${pe(r)}`},coercer(r){return Ue(r)?{...r}:r}})}function ob(t){const e=t.map(r=>r.type).join(" | ");return new he({type:"union",schema:null,coercer(r){for(const n of t){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of t){const[...o]=Ma(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${pe(r)}`,...i]}})}function Vh(){return Oe("unknown",()=>!0)}function Oa(t,e,r){return new he({...t,coercer:(n,i)=>Aa(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}function ab(t,e,r={}){return Oa(t,Vh(),n=>{const i=typeof e=="function"?e():e;if(n===void 0)return i;if(!r.strict&&wu(n)&&wu(i)){const s={...n};let o=!1;for(const a in i)s[a]===void 0&&(s[a]=i[a],o=!0);if(o)return s}return n})}function cb(t){return Oa(t,Bh(),e=>e.trim())}function ub(t){return nr(t,"empty",e=>{const r=Hh(e);return r===0||`Expected an empty ${t.type} but received one with a size of \`${r}\``})}function Hh(t){return t instanceof Map||t instanceof Set?t.size:t.length}function lb(t,e,r={}){const{exclusive:n}=r;return nr(t,"max",i=>n?i<e:i<=e||`Expected a ${t.type} less than ${n?"":"or equal to "}${e} but received \`${i}\``)}function hb(t,e,r={}){const{exclusive:n}=r;return nr(t,"min",i=>n?i>e:i>=e||`Expected a ${t.type} greater than ${n?"":"or equal to "}${e} but received \`${i}\``)}function fb(t){return nr(t,"nonempty",e=>Hh(e)>0||`Expected a nonempty ${t.type} but received an empty one`)}function db(t,e){return nr(t,"pattern",r=>e.test(r)||`Expected a ${t.type} matching \`/${e.source}/\` but received "${r}"`)}function pb(t,e,r=e){const n=`Expected a ${t.type}`,i=e===r?`of \`${e}\``:`between \`${e}\` and \`${r}\``;return nr(t,"size",s=>{if(typeof s=="number"||s instanceof Date)return e<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:o}=s;return e<=o&&o<=r||`${n} with a size ${i} but received one with a size of \`${o}\``}else{const{length:o}=s;return e<=o&&o<=r||`${n} with a length ${i} but received one with a length of \`${o}\``}})}function nr(t,e,r){return new he({...t,*refiner(n,i){yield*t.refiner(n,i);const s=r(n,i),o=ea(s,i,t,n);for(const a of o)yield{...a,refinement:e}}})}const gb=Object.freeze(Object.defineProperty({__proto__:null,Struct:he,StructError:$h,any:Hg,array:Wg,assert:Ph,assign:Lg,bigint:zg,boolean:Ug,coerce:Oa,create:Dh,date:qg,defaulted:ab,define:Oe,deprecated:$g,dynamic:Pg,empty:ub,enums:Gg,func:Jg,instance:Qg,integer:Zg,intersection:Yg,is:Aa,lazy:Dg,literal:Kg,map:Xg,mask:jh,max:lb,min:hb,never:Ta,nonempty:fb,nullable:eb,number:tb,object:_n,omit:jg,optional:Fh,partial:Fg,pattern:db,pick:Bg,record:rb,refine:nr,regexp:nb,set:ib,size:pb,string:Bh,struct:Vg,trimmed:cb,tuple:sb,type:Na,union:ob,unknown:Vh,validate:Fr},Symbol.toStringTag,{value:"Module"})),ir=Dt(gb);Object.defineProperty(we,"__esModule",{value:!0});we.assertExhaustive=we.assertStruct=we.assert=we.AssertionError=void 0;const bb=ir;function mb(t){return typeof t=="object"&&t!==null&&"message"in t}function vb(t){var e,r;return typeof((r=(e=t?.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string"}function yb(t){const e=mb(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function Wh(t,e){return vb(t)?new t({message:e}):t({message:e})}class La extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}we.AssertionError=La;function _b(t,e="Assertion failed.",r=La){if(!t)throw e instanceof Error?e:Wh(r,e)}we.assert=_b;function wb(t,e,r="Assertion failed",n=La){try{(0,bb.assert)(t,e)}catch(i){throw Wh(n,`${r}: ${yb(i)}.`)}}we.assertStruct=wb;function Sb(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}we.assertExhaustive=Sb;var wn={};Object.defineProperty(wn,"__esModule",{value:!0});wn.base64=void 0;const Eb=ir,Cb=we,Ib=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,Cb.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,Eb.pattern)(t,a)};wn.base64=Ib;var J={},Sn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=ir,r=we;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(u){return(0,e.is)(u,t.HexStruct)}t.isHexString=n;function i(u){return(0,e.is)(u,t.StrictHexStruct)}t.isStrictHexString=i;function s(u){(0,r.assert)(n(u),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(u){(0,r.assert)(i(u),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(u){return u.startsWith("0x")?u:u.startsWith("0X")?`0x${u.substring(2)}`:`0x${u}`}t.add0x=a;function c(u){return u.startsWith("0x")||u.startsWith("0X")?u.substring(2):u}t.remove0x=c})(Sn);Object.defineProperty(J,"__esModule",{value:!0});J.createDataView=J.concatBytes=J.valueToBytes=J.stringToBytes=J.numberToBytes=J.signedBigIntToBytes=J.bigIntToBytes=J.hexToBytes=J.bytesToString=J.bytesToNumber=J.bytesToSignedBigInt=J.bytesToBigInt=J.bytesToHex=J.assertIsBytes=J.isBytes=void 0;const $e=we,ta=Sn,Su=48,Eu=58,Cu=87;function xb(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const kb=xb();function $a(t){return t instanceof Uint8Array}J.isBytes=$a;function Br(t){(0,$e.assert)($a(t),"Value must be a Uint8Array.")}J.assertIsBytes=Br;function zh(t){if(Br(t),t.length===0)return"0x";const e=kb(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,ta.add0x)(r.join(""))}J.bytesToHex=zh;function Uh(t){Br(t);const e=zh(t);return BigInt(e)}J.bytesToBigInt=Uh;function Rb(t){Br(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}J.bytesToSignedBigInt=Rb;function Mb(t){Br(t);const e=Uh(t);return(0,$e.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}J.bytesToNumber=Mb;function Ab(t){return Br(t),new TextDecoder().decode(t)}J.bytesToString=Ab;function Ii(t){var e;if(((e=t?.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,ta.assertIsHexString)(t);const r=(0,ta.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<Eu?Su:Cu),u=a-(a<Eu?Su:Cu);i[s]=c*16+u}return i}J.hexToBytes=Ii;function qh(t){(0,$e.assert)(typeof t=="bigint","Value must be a bigint."),(0,$e.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return Ii(e)}J.bigIntToBytes=qh;function Tb(t,e){(0,$e.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function Nb(t,e){(0,$e.assert)(typeof t=="bigint","Value must be a bigint."),(0,$e.assert)(typeof e=="number","Byte length must be a number."),(0,$e.assert)(e>0,"Byte length must be greater than 0."),(0,$e.assert)(Tb(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}J.signedBigIntToBytes=Nb;function Gh(t){(0,$e.assert)(typeof t=="number","Value must be a number."),(0,$e.assert)(t>=0,"Value must be a non-negative number."),(0,$e.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return Ii(e)}J.numberToBytes=Gh;function Jh(t){return(0,$e.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}J.stringToBytes=Jh;function Qh(t){if(typeof t=="bigint")return qh(t);if(typeof t=="number")return Gh(t);if(typeof t=="string")return t.startsWith("0x")?Ii(t):Jh(t);if($a(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}J.valueToBytes=Qh;function Ob(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=Qh(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}J.concatBytes=Ob;function Lb(t){if(typeof H.Buffer<"u"&&t instanceof H.Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}J.createDataView=Lb;var xi={};Object.defineProperty(xi,"__esModule",{value:!0});xi.ChecksumStruct=void 0;const Iu=ir,$b=wn;xi.ChecksumStruct=(0,Iu.size)((0,$b.base64)((0,Iu.string)(),{paddingRequired:!0}),44,44);var ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.createHex=ut.createBytes=ut.createBigInt=ut.createNumber=void 0;const oe=ir,Pb=we,Zh=J,ki=Sn,Yh=(0,oe.union)([(0,oe.number)(),(0,oe.bigint)(),(0,oe.string)(),ki.StrictHexStruct]),Db=(0,oe.coerce)((0,oe.number)(),Yh,Number),jb=(0,oe.coerce)((0,oe.bigint)(),Yh,BigInt);(0,oe.union)([ki.StrictHexStruct,(0,oe.instance)(Uint8Array)]);const Fb=(0,oe.coerce)((0,oe.instance)(Uint8Array),(0,oe.union)([ki.StrictHexStruct]),Zh.hexToBytes),Bb=(0,oe.coerce)(ki.StrictHexStruct,(0,oe.instance)(Uint8Array),Zh.bytesToHex);function Vb(t){try{const e=(0,oe.create)(t,Db);return(0,Pb.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof oe.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}ut.createNumber=Vb;function Hb(t){try{return(0,oe.create)(t,jb)}catch(e){throw e instanceof oe.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}ut.createBigInt=Hb;function Wb(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,oe.create)(t,Fb)}catch(e){throw e instanceof oe.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}ut.createBytes=Wb;function zb(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,oe.create)(t,Bb)}catch(e){throw e instanceof oe.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}ut.createHex=zb;var Ir={},Kh=A&&A.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},Re=A&&A.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Ge,rt;Object.defineProperty(Ir,"__esModule",{value:!0});Ir.FrozenSet=Ir.FrozenMap=void 0;class Pa{constructor(e){Ge.set(this,void 0),Kh(this,Ge,new Map(e),"f"),Object.freeze(this)}get size(){return Re(this,Ge,"f").size}[(Ge=new WeakMap,Symbol.iterator)](){return Re(this,Ge,"f")[Symbol.iterator]()}entries(){return Re(this,Ge,"f").entries()}forEach(e,r){return Re(this,Ge,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return Re(this,Ge,"f").get(e)}has(e){return Re(this,Ge,"f").has(e)}keys(){return Re(this,Ge,"f").keys()}values(){return Re(this,Ge,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}Ir.FrozenMap=Pa;class Da{constructor(e){rt.set(this,void 0),Kh(this,rt,new Set(e),"f"),Object.freeze(this)}get size(){return Re(this,rt,"f").size}[(rt=new WeakMap,Symbol.iterator)](){return Re(this,rt,"f")[Symbol.iterator]()}entries(){return Re(this,rt,"f").entries()}forEach(e,r){return Re(this,rt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return Re(this,rt,"f").has(e)}keys(){return Re(this,rt,"f").keys()}values(){return Re(this,rt,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}Ir.FrozenSet=Da;Object.freeze(Pa);Object.freeze(Pa.prototype);Object.freeze(Da);Object.freeze(Da.prototype);var Xh={},ja={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(u){return Array.isArray(u)&&u.length>0}t.isNonEmptyArray=e;function r(u){return u==null}t.isNullOrUndefined=r;function n(u){return!!u&&typeof u=="object"&&!Array.isArray(u)}t.isObject=n;const i=(u,h)=>Object.hasOwnProperty.call(u,h);t.hasProperty=i,function(u){u[u.Null=4]="Null",u[u.Comma=1]="Comma",u[u.Wrapper=1]="Wrapper",u[u.True=4]="True",u[u.False=5]="False",u[u.Quote=1]="Quote",u[u.Colon=1]="Colon",u[u.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(u){if(typeof u!="object"||u===null)return!1;try{let h=u;for(;Object.getPrototypeOf(h)!==null;)h=Object.getPrototypeOf(h);return Object.getPrototypeOf(u)===h}catch{return!1}}t.isPlainObject=s;function o(u){return u.charCodeAt(0)<=127}t.isASCII=o;function a(u){var h;return u.split("").reduce((f,d)=>o(d)?f+1:f+2,0)+((h=u.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&h!==void 0?h:[]).length}t.calculateStringSize=a;function c(u){return u.toString().length}t.calculateNumberSize=c})(ja);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=ir,r=we,n=ja;t.JsonStruct=(0,e.define)("Json",y=>{const[M]=C(y,!0);return M?!0:"Expected a valid JSON-serializable value"});function i(y){return(0,e.is)(y,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(y){return(0,e.is)(y,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(y,M){(0,r.assertStruct)(y,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",M)}t.assertIsJsonRpcNotification=o;function a(y){return(0,e.is)(y,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(y,M){(0,r.assertStruct)(y,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",M)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function u(y){return(0,e.is)(y,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=u;function h(y,M){(0,r.assertStruct)(y,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",M)}t.assertIsPendingJsonRpcResponse=h;function l(y){return(0,e.is)(y,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=l;function f(y,M){(0,r.assertStruct)(y,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",M)}t.assertIsJsonRpcResponse=f;function d(y){return(0,e.is)(y,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=d;function p(y,M){(0,r.assertStruct)(y,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",M)}t.assertIsJsonRpcSuccess=p;function m(y){return(0,e.is)(y,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=m;function E(y,M){(0,r.assertStruct)(y,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",M)}t.assertIsJsonRpcFailure=E;function g(y){return(0,e.is)(y,t.JsonRpcErrorStruct)}t.isJsonRpcError=g;function v(y,M){(0,r.assertStruct)(y,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",M)}t.assertIsJsonRpcError=v;function w(y){const{permitEmptyString:M,permitFractions:j,permitNull:Z}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},y);return F=>!!(typeof F=="number"&&(j||Number.isInteger(F))||typeof F=="string"&&(M||F.length>0)||Z&&F===null)}t.getJsonRpcIdValidator=w;function C(y,M=!1){const j=new Set;function Z(N,F){if(N===void 0)return[!1,0];if(N===null)return[!0,F?0:n.JsonSize.Null];const ne=typeof N;try{if(ne==="function")return[!1,0];if(ne==="string"||N instanceof String)return[!0,F?0:(0,n.calculateStringSize)(N)+n.JsonSize.Quote*2];if(ne==="boolean"||N instanceof Boolean)return F?[!0,0]:[!0,N==!0?n.JsonSize.True:n.JsonSize.False];if(ne==="number"||N instanceof Number)return F?[!0,0]:[!0,(0,n.calculateNumberSize)(N)];if(N instanceof Date)return F?[!0,0]:[!0,isNaN(N.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(N)&&!Array.isArray(N))return[!1,0];if(j.has(N))return[!1,0];j.add(N);try{return[!0,Object.entries(N).reduce((U,[S,_],k,I)=>{let[O,x]=Z(_,F);if(!O)throw new Error("JSON validation did not pass. Validation process stopped.");if(j.delete(N),F)return 0;const $=Array.isArray(N)?0:S.length+n.JsonSize.Comma+n.JsonSize.Colon*2,G=k<I.length-1?n.JsonSize.Comma:0;return U+$+x+G},F?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return Z(y,M)}t.validateJsonAndGetSize=C})(Xh);var xr={},ra={exports:{}},_o,xu;function Ub(){if(xu)return _o;xu=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;_o=function(h,l){l=l||{};var f=typeof h;if(f==="string"&&h.length>0)return o(h);if(f==="number"&&isFinite(h))return l.long?c(h):a(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function o(h){if(h=String(h),!(h.length>100)){var l=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(l){var f=parseFloat(l[1]),d=(l[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return f*s;case"weeks":case"week":case"w":return f*i;case"days":case"day":case"d":return f*n;case"hours":case"hour":case"hrs":case"hr":case"h":return f*r;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function a(h){var l=Math.abs(h);return l>=n?Math.round(h/n)+"d":l>=r?Math.round(h/r)+"h":l>=e?Math.round(h/e)+"m":l>=t?Math.round(h/t)+"s":h+"ms"}function c(h){var l=Math.abs(h);return l>=n?u(h,l,n,"day"):l>=r?u(h,l,r,"hour"):l>=e?u(h,l,e,"minute"):l>=t?u(h,l,t,"second"):h+" ms"}function u(h,l,f,d){var p=l>=f*1.5;return Math.round(h/f)+" "+d+(p?"s":"")}return _o}function qb(t){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=i,r.enabled=o,r.humanize=Ub(),r.destroy=u,Object.keys(t).forEach(h=>{r[h]=t[h]}),r.names=[],r.skips=[],r.formatters={};function e(h){let l=0;for(let f=0;f<h.length;f++)l=(l<<5)-l+h.charCodeAt(f),l|=0;return r.colors[Math.abs(l)%r.colors.length]}r.selectColor=e;function r(h){let l,f=null,d,p;function m(...E){if(!m.enabled)return;const g=m,v=Number(new Date),w=v-(l||v);g.diff=w,g.prev=l,g.curr=v,l=v,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let C=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(M,j)=>{if(M==="%%")return"%";C++;const Z=r.formatters[j];if(typeof Z=="function"){const N=E[C];M=Z.call(g,N),E.splice(C,1),C--}return M}),r.formatArgs.call(g,E),(g.log||r.log).apply(g,E)}return m.namespace=h,m.useColors=r.useColors(),m.color=r.selectColor(h),m.extend=n,m.destroy=r.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(d!==r.namespaces&&(d=r.namespaces,p=r.enabled(h)),p),set:E=>{f=E}}),typeof r.init=="function"&&r.init(m),m}function n(h,l){const f=r(this.namespace+(typeof l>"u"?":":l)+h);return f.log=this.log,f}function i(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let l;const f=(typeof h=="string"?h:"").split(/[\s,]+/),d=f.length;for(l=0;l<d;l++)f[l]&&(h=f[l].replace(/\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.slice(1)+"$")):r.names.push(new RegExp("^"+h+"$")))}function s(){const h=[...r.names.map(a),...r.skips.map(a).map(l=>"-"+l)].join(",");return r.enable(""),h}function o(h){if(h[h.length-1]==="*")return!0;let l,f;for(l=0,f=r.skips.length;l<f;l++)if(r.skips[l].test(h))return!1;for(l=0,f=r.names.length;l<f;l++)if(r.names[l].test(h))return!0;return!1}function a(h){return h.toString().substring(2,h.toString().length-2).replace(/\.\*\?$/,"*")}function c(h){return h instanceof Error?h.stack||h.message:h}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var Gb=qb;(function(t,e){var r={};e.formatArgs=i,e.save=s,e.load=o,e.useColors=n,e.storage=a(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const h="color: "+this.color;u.splice(1,0,h,"color: inherit");let l=0,f=0;u[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(l++,d==="%c"&&(f=l))}),u.splice(f,0,h)}e.log=console.debug||console.log||(()=>{});function s(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function o(){let u;try{u=e.storage.getItem("debug")}catch{}return!u&&typeof Uo<"u"&&"env"in Uo&&(u=r.DEBUG),u}function a(){try{return localStorage}catch{}}t.exports=Gb(e);const{formatters:c}=t.exports;c.j=function(u){try{return JSON.stringify(u)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}})(ra,ra.exports);var Jb=ra.exports,Qb=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xr,"__esModule",{value:!0});xr.createModuleLogger=xr.createProjectLogger=void 0;const Zb=Qb(Jb),Yb=(0,Zb.default)("metamask");function Kb(t){return Yb.extend(t)}xr.createProjectLogger=Kb;function Xb(t,e){return t.extend(e)}xr.createModuleLogger=Xb;var lt={};Object.defineProperty(lt,"__esModule",{value:!0});lt.hexToBigInt=lt.hexToNumber=lt.bigIntToHex=lt.numberToHex=void 0;const mr=we,ln=Sn,em=t=>((0,mr.assert)(typeof t=="number","Value must be a number."),(0,mr.assert)(t>=0,"Value must be a non-negative number."),(0,mr.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,ln.add0x)(t.toString(16)));lt.numberToHex=em;const tm=t=>((0,mr.assert)(typeof t=="bigint","Value must be a bigint."),(0,mr.assert)(t>=0,"Value must be a non-negative bigint."),(0,ln.add0x)(t.toString(16)));lt.bigIntToHex=tm;const rm=t=>{(0,ln.assertIsHexString)(t);const e=parseInt(t,16);return(0,mr.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};lt.hexToNumber=rm;const nm=t=>((0,ln.assertIsHexString)(t),BigInt((0,ln.add0x)(t)));lt.hexToBigInt=nm;var ef={};Object.defineProperty(ef,"__esModule",{value:!0});var tf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(tf);var rf={},na={exports:{}};const im="2.0.0",nf=256,sm=Number.MAX_SAFE_INTEGER||9007199254740991,om=16,am=nf-6,cm=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Ri={MAX_LENGTH:nf,MAX_SAFE_COMPONENT_LENGTH:om,MAX_SAFE_BUILD_LENGTH:am,MAX_SAFE_INTEGER:sm,RELEASE_TYPES:cm,SEMVER_SPEC_VERSION:im,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},wo={};const um=typeof Uo=="object"&&wo&&wo.NODE_DEBUG&&/\bsemver\b/i.test(wo.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Mi=um;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Ri,s=Mi;e=t.exports={};const o=e.re=[],a=e.safeRe=[],c=e.src=[],u=e.t={};let h=0;const l="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",i],[l,n]],d=m=>{for(const[E,g]of f)m=m.split(`${E}*`).join(`${E}{0,${g}}`).split(`${E}+`).join(`${E}{1,${g}}`);return m},p=(m,E,g)=>{const v=d(E),w=h++;s(m,w,E),u[m]=w,c[w]=E,o[w]=new RegExp(E,g?"g":void 0),a[w]=new RegExp(v,g?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${l}*`),p("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${l}+`),p("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),p("FULL",`^${c[u.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),p("LOOSE",`^${c[u.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),p("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),p("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),p("COERCERTL",c[u.COERCE],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",p("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",p("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(na,na.exports);var En=na.exports;const lm=Object.freeze({loose:!0}),hm=Object.freeze({}),fm=t=>t?typeof t!="object"?lm:t:hm;var Fa=fm;const ku=/^[0-9]+$/,sf=(t,e)=>{const r=ku.test(t),n=ku.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},dm=(t,e)=>sf(e,t);var of={compareIdentifiers:sf,rcompareIdentifiers:dm};const Vn=Mi,{MAX_LENGTH:Ru,MAX_SAFE_INTEGER:Hn}=Ri,{safeRe:Mu,t:Au}=En,pm=Fa,{compareIdentifiers:ar}=of;let gm=class it{constructor(e,r){if(r=pm(r),e instanceof it){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Ru)throw new TypeError(`version is longer than ${Ru} characters`);Vn("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?Mu[Au.LOOSE]:Mu[Au.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Hn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Hn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Hn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Hn)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Vn("SemVer.compare",this.version,this.options,e),!(e instanceof it)){if(typeof e=="string"&&e===this.version)return 0;e=new it(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof it||(e=new it(e,this.options)),ar(this.major,e.major)||ar(this.minor,e.minor)||ar(this.patch,e.patch)}comparePre(e){if(e instanceof it||(e=new it(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(Vn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return ar(n,i)}while(++r)}compareBuild(e){e instanceof it||(e=new it(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(Vn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return ar(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),ar(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Te=gm;const Tu=Te,bm=(t,e,r=!1)=>{if(t instanceof Tu)return t;try{return new Tu(t,e)}catch(n){if(!r)return null;throw n}};var Vr=bm;const mm=Vr,vm=(t,e)=>{const r=mm(t,e);return r?r.version:null};var ym=vm;const _m=Vr,wm=(t,e)=>{const r=_m(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var Sm=wm;const Nu=Te,Em=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Nu(t instanceof Nu?t.version:t,r).inc(e,n,i).version}catch{return null}};var Cm=Em;const Ou=Vr,Im=(t,e)=>{const r=Ou(t,null,!0),n=Ou(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const h=c?"pre":"";return r.major!==n.major?h+"major":r.minor!==n.minor?h+"minor":r.patch!==n.patch?h+"patch":"prerelease"};var xm=Im;const km=Te,Rm=(t,e)=>new km(t,e).major;var Mm=Rm;const Am=Te,Tm=(t,e)=>new Am(t,e).minor;var Nm=Tm;const Om=Te,Lm=(t,e)=>new Om(t,e).patch;var $m=Lm;const Pm=Vr,Dm=(t,e)=>{const r=Pm(t,e);return r&&r.prerelease.length?r.prerelease:null};var jm=Dm;const Lu=Te,Fm=(t,e,r)=>new Lu(t,r).compare(new Lu(e,r));var Xe=Fm;const Bm=Xe,Vm=(t,e,r)=>Bm(e,t,r);var Hm=Vm;const Wm=Xe,zm=(t,e)=>Wm(t,e,!0);var Um=zm;const $u=Te,qm=(t,e,r)=>{const n=new $u(t,r),i=new $u(e,r);return n.compare(i)||n.compareBuild(i)};var Ba=qm;const Gm=Ba,Jm=(t,e)=>t.sort((r,n)=>Gm(r,n,e));var Qm=Jm;const Zm=Ba,Ym=(t,e)=>t.sort((r,n)=>Zm(n,r,e));var Km=Ym;const Xm=Xe,ev=(t,e,r)=>Xm(t,e,r)>0;var Ai=ev;const tv=Xe,rv=(t,e,r)=>tv(t,e,r)<0;var Va=rv;const nv=Xe,iv=(t,e,r)=>nv(t,e,r)===0;var af=iv;const sv=Xe,ov=(t,e,r)=>sv(t,e,r)!==0;var cf=ov;const av=Xe,cv=(t,e,r)=>av(t,e,r)>=0;var Ha=cv;const uv=Xe,lv=(t,e,r)=>uv(t,e,r)<=0;var Wa=lv;const hv=af,fv=cf,dv=Ai,pv=Ha,gv=Va,bv=Wa,mv=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return hv(t,r,n);case"!=":return fv(t,r,n);case">":return dv(t,r,n);case">=":return pv(t,r,n);case"<":return gv(t,r,n);case"<=":return bv(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var uf=mv;const vv=Te,yv=Vr,{safeRe:Wn,t:zn}=En,_v=(t,e)=>{if(t instanceof vv)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(Wn[zn.COERCE]);else{let n;for(;(n=Wn[zn.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),Wn[zn.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Wn[zn.COERCERTL].lastIndex=-1}return r===null?null:yv(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,e)};var wv=_v,So,Pu;function Sv(){return Pu||(Pu=1,So=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}),So}var Ev=Q;Q.Node=Kt;Q.create=Q;function Q(t){var e=this;if(e instanceof Q||(e=new Q),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Q.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};Q.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Q.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Q.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)Iv(this,arguments[t]);return this.length};Q.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)xv(this,arguments[t]);return this.length};Q.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Q.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Q.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Q.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Q.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Q.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Q.prototype.map=function(t,e){e=e||this;for(var r=new Q,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Q.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Q,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Q.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};Q.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};Q.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Q.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Q.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Q;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};Q.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Q;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};Q.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(var s=[],n=0;i&&n<e;n++)s.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=Cv(this,i,r[n]);return s};Q.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function Cv(t,e,r){var n=e===t.head?new Kt(r,null,e,t):new Kt(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function Iv(t,e){t.tail=new Kt(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function xv(t,e){t.head=new Kt(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function Kt(t,e,r,n){if(!(this instanceof Kt))return new Kt(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{Sv()(Q)}catch{}const kv=Ev,Ut=Symbol("max"),mt=Symbol("length"),cr=Symbol("lengthCalculator"),nn=Symbol("allowStale"),Qt=Symbol("maxAge"),pt=Symbol("dispose"),Du=Symbol("noDisposeOnSet"),be=Symbol("lruList"),Ze=Symbol("cache"),lf=Symbol("updateAgeOnGet"),Eo=()=>1;class Rv{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");this[Ut]=e.max||1/0;const r=e.length||Eo;if(this[cr]=typeof r!="function"?Eo:r,this[nn]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Qt]=e.maxAge||0,this[pt]=e.dispose,this[Du]=e.noDisposeOnSet||!1,this[lf]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Ut]=e||1/0,Jr(this)}get max(){return this[Ut]}set allowStale(e){this[nn]=!!e}get allowStale(){return this[nn]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Qt]=e,Jr(this)}get maxAge(){return this[Qt]}set lengthCalculator(e){typeof e!="function"&&(e=Eo),e!==this[cr]&&(this[cr]=e,this[mt]=0,this[be].forEach(r=>{r.length=this[cr](r.value,r.key),this[mt]+=r.length})),Jr(this)}get lengthCalculator(){return this[cr]}get length(){return this[mt]}get itemCount(){return this[be].length}rforEach(e,r){r=r||this;for(let n=this[be].tail;n!==null;){const i=n.prev;ju(this,e,n,r),n=i}}forEach(e,r){r=r||this;for(let n=this[be].head;n!==null;){const i=n.next;ju(this,e,n,r),n=i}}keys(){return this[be].toArray().map(e=>e.key)}values(){return this[be].toArray().map(e=>e.value)}reset(){this[pt]&&this[be]&&this[be].length&&this[be].forEach(e=>this[pt](e.key,e.value)),this[Ze]=new Map,this[be]=new kv,this[mt]=0}dump(){return this[be].map(e=>oi(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[be]}set(e,r,n){if(n=n||this[Qt],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const i=n?Date.now():0,s=this[cr](r,e);if(this[Ze].has(e)){if(s>this[Ut])return vr(this,this[Ze].get(e)),!1;const c=this[Ze].get(e).value;return this[pt]&&(this[Du]||this[pt](e,c.value)),c.now=i,c.maxAge=n,c.value=r,this[mt]+=s-c.length,c.length=s,this.get(e),Jr(this),!0}const o=new Mv(e,r,s,i,n);return o.length>this[Ut]?(this[pt]&&this[pt](e,r),!1):(this[mt]+=o.length,this[be].unshift(o),this[Ze].set(e,this[be].head),Jr(this),!0)}has(e){if(!this[Ze].has(e))return!1;const r=this[Ze].get(e).value;return!oi(this,r)}get(e){return Co(this,e,!0)}peek(e){return Co(this,e,!1)}pop(){const e=this[be].tail;return e?(vr(this,e),e.value):null}del(e){vr(this,this[Ze].get(e))}load(e){this.reset();const r=Date.now();for(let n=e.length-1;n>=0;n--){const i=e[n],s=i.e||0;if(s===0)this.set(i.k,i.v);else{const o=s-r;o>0&&this.set(i.k,i.v,o)}}}prune(){this[Ze].forEach((e,r)=>Co(this,r,!1))}}const Co=(t,e,r)=>{const n=t[Ze].get(e);if(n){const i=n.value;if(oi(t,i)){if(vr(t,n),!t[nn])return}else r&&(t[lf]&&(n.value.now=Date.now()),t[be].unshiftNode(n));return i.value}},oi=(t,e)=>{if(!e||!e.maxAge&&!t[Qt])return!1;const r=Date.now()-e.now;return e.maxAge?r>e.maxAge:t[Qt]&&r>t[Qt]},Jr=t=>{if(t[mt]>t[Ut])for(let e=t[be].tail;t[mt]>t[Ut]&&e!==null;){const r=e.prev;vr(t,e),e=r}},vr=(t,e)=>{if(e){const r=e.value;t[pt]&&t[pt](r.key,r.value),t[mt]-=r.length,t[Ze].delete(r.key),t[be].removeNode(e)}};class Mv{constructor(e,r,n,i,s){this.key=e,this.value=r,this.length=n,this.now=i,this.maxAge=s||0}}const ju=(t,e,r,n)=>{let i=r.value;oi(t,i)&&(vr(t,r),t[nn]||(i=void 0)),i&&e.call(n,i.value,i.key,t)};var Av=Rv,Io,Fu;function et(){if(Fu)return Io;Fu=1;class t{constructor(_,k){if(k=n(k),_ instanceof t)return _.loose===!!k.loose&&_.includePrerelease===!!k.includePrerelease?_:new t(_.raw,k);if(_ instanceof i)return this.raw=_.value,this.set=[[_]],this.format(),this;if(this.options=k,this.loose=!!k.loose,this.includePrerelease=!!k.includePrerelease,this.raw=_.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(I=>this.parseRange(I.trim())).filter(I=>I.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const I=this.set[0];if(this.set=this.set.filter(O=>!p(O[0])),this.set.length===0)this.set=[I];else if(this.set.length>1){for(const O of this.set)if(O.length===1&&m(O[0])){this.set=[O];break}}}this.format()}format(){return this.range=this.set.map(_=>_.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(_){const I=((this.options.includePrerelease&&f)|(this.options.loose&&d))+":"+_,O=r.get(I);if(O)return O;const x=this.options.loose,$=x?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];_=_.replace($,ne(this.options.includePrerelease)),s("hyphen replace",_),_=_.replace(a[c.COMPARATORTRIM],u),s("comparator trim",_),_=_.replace(a[c.TILDETRIM],h),s("tilde trim",_),_=_.replace(a[c.CARETTRIM],l),s("caret trim",_);let G=_.split(" ").map(ie=>g(ie,this.options)).join(" ").split(/\s+/).map(ie=>F(ie,this.options));x&&(G=G.filter(ie=>(s("loose invalid filter",ie,this.options),!!ie.match(a[c.COMPARATORLOOSE])))),s("range list",G);const B=new Map,ee=G.map(ie=>new i(ie,this.options));for(const ie of ee){if(p(ie))return[ie];B.set(ie.value,ie)}B.size>1&&B.has("")&&B.delete("");const Se=[...B.values()];return r.set(I,Se),Se}intersects(_,k){if(!(_ instanceof t))throw new TypeError("a Range is required");return this.set.some(I=>E(I,k)&&_.set.some(O=>E(O,k)&&I.every(x=>O.every($=>x.intersects($,k)))))}test(_){if(!_)return!1;if(typeof _=="string")try{_=new o(_,this.options)}catch{return!1}for(let k=0;k<this.set.length;k++)if(U(this.set[k],_,this.options))return!0;return!1}}Io=t;const e=Av,r=new e({max:1e3}),n=Fa,i=Ti(),s=Mi,o=Te,{safeRe:a,t:c,comparatorTrimReplace:u,tildeTrimReplace:h,caretTrimReplace:l}=En,{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:d}=Ri,p=S=>S.value==="<0.0.0-0",m=S=>S.value==="",E=(S,_)=>{let k=!0;const I=S.slice();let O=I.pop();for(;k&&I.length;)k=I.every(x=>O.intersects(x,_)),O=I.pop();return k},g=(S,_)=>(s("comp",S,_),S=y(S,_),s("caret",S),S=w(S,_),s("tildes",S),S=j(S,_),s("xrange",S),S=N(S,_),s("stars",S),S),v=S=>!S||S.toLowerCase()==="x"||S==="*",w=(S,_)=>S.trim().split(/\s+/).map(k=>C(k,_)).join(" "),C=(S,_)=>{const k=_.loose?a[c.TILDELOOSE]:a[c.TILDE];return S.replace(k,(I,O,x,$,G)=>{s("tilde",S,I,O,x,$,G);let B;return v(O)?B="":v(x)?B=`>=${O}.0.0 <${+O+1}.0.0-0`:v($)?B=`>=${O}.${x}.0 <${O}.${+x+1}.0-0`:G?(s("replaceTilde pr",G),B=`>=${O}.${x}.${$}-${G} <${O}.${+x+1}.0-0`):B=`>=${O}.${x}.${$} <${O}.${+x+1}.0-0`,s("tilde return",B),B})},y=(S,_)=>S.trim().split(/\s+/).map(k=>M(k,_)).join(" "),M=(S,_)=>{s("caret",S,_);const k=_.loose?a[c.CARETLOOSE]:a[c.CARET],I=_.includePrerelease?"-0":"";return S.replace(k,(O,x,$,G,B)=>{s("caret",S,O,x,$,G,B);let ee;return v(x)?ee="":v($)?ee=`>=${x}.0.0${I} <${+x+1}.0.0-0`:v(G)?x==="0"?ee=`>=${x}.${$}.0${I} <${x}.${+$+1}.0-0`:ee=`>=${x}.${$}.0${I} <${+x+1}.0.0-0`:B?(s("replaceCaret pr",B),x==="0"?$==="0"?ee=`>=${x}.${$}.${G}-${B} <${x}.${$}.${+G+1}-0`:ee=`>=${x}.${$}.${G}-${B} <${x}.${+$+1}.0-0`:ee=`>=${x}.${$}.${G}-${B} <${+x+1}.0.0-0`):(s("no pr"),x==="0"?$==="0"?ee=`>=${x}.${$}.${G}${I} <${x}.${$}.${+G+1}-0`:ee=`>=${x}.${$}.${G}${I} <${x}.${+$+1}.0-0`:ee=`>=${x}.${$}.${G} <${+x+1}.0.0-0`),s("caret return",ee),ee})},j=(S,_)=>(s("replaceXRanges",S,_),S.split(/\s+/).map(k=>Z(k,_)).join(" ")),Z=(S,_)=>{S=S.trim();const k=_.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return S.replace(k,(I,O,x,$,G,B)=>{s("xRange",S,I,O,x,$,G,B);const ee=v(x),Se=ee||v($),ie=Se||v(G),Et=ie;return O==="="&&Et&&(O=""),B=_.includePrerelease?"-0":"",ee?O===">"||O==="<"?I="<0.0.0-0":I="*":O&&Et?(Se&&($=0),G=0,O===">"?(O=">=",Se?(x=+x+1,$=0,G=0):($=+$+1,G=0)):O==="<="&&(O="<",Se?x=+x+1:$=+$+1),O==="<"&&(B="-0"),I=`${O+x}.${$}.${G}${B}`):Se?I=`>=${x}.0.0${B} <${+x+1}.0.0-0`:ie&&(I=`>=${x}.${$}.0${B} <${x}.${+$+1}.0-0`),s("xRange return",I),I})},N=(S,_)=>(s("replaceStars",S,_),S.trim().replace(a[c.STAR],"")),F=(S,_)=>(s("replaceGTE0",S,_),S.trim().replace(a[_.includePrerelease?c.GTE0PRE:c.GTE0],"")),ne=S=>(_,k,I,O,x,$,G,B,ee,Se,ie,Et,ps)=>(v(I)?k="":v(O)?k=`>=${I}.0.0${S?"-0":""}`:v(x)?k=`>=${I}.${O}.0${S?"-0":""}`:$?k=`>=${k}`:k=`>=${k}${S?"-0":""}`,v(ee)?B="":v(Se)?B=`<${+ee+1}.0.0-0`:v(ie)?B=`<${ee}.${+Se+1}.0-0`:Et?B=`<=${ee}.${Se}.${ie}-${Et}`:S?B=`<${ee}.${Se}.${+ie+1}-0`:B=`<=${B}`,`${k} ${B}`.trim()),U=(S,_,k)=>{for(let I=0;I<S.length;I++)if(!S[I].test(_))return!1;if(_.prerelease.length&&!k.includePrerelease){for(let I=0;I<S.length;I++)if(s(S[I].semver),S[I].semver!==i.ANY&&S[I].semver.prerelease.length>0){const O=S[I].semver;if(O.major===_.major&&O.minor===_.minor&&O.patch===_.patch)return!0}return!1}return!0};return Io}var xo,Bu;function Ti(){if(Bu)return xo;Bu=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(h,l){if(l=r(l),h instanceof e){if(h.loose===!!l.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),o("comparator",h,l),this.options=l,this.loose=!!l.loose,this.parse(h),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(h){const l=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],f=h.match(l);if(!f)throw new TypeError(`Invalid comparator: ${h}`);this.operator=f[1]!==void 0?f[1]:"",this.operator==="="&&(this.operator=""),f[2]?this.semver=new a(f[2],this.options.loose):this.semver=t}toString(){return this.value}test(h){if(o("Comparator.test",h,this.options.loose),this.semver===t||h===t)return!0;if(typeof h=="string")try{h=new a(h,this.options)}catch{return!1}return s(h,this.operator,this.semver,this.options)}intersects(h,l){if(!(h instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(h.value,l).test(this.value):h.operator===""?h.value===""?!0:new c(this.value,l).test(h.semver):(l=r(l),l.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!l.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||s(this.semver,"<",h.semver,l)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||s(this.semver,">",h.semver,l)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}xo=e;const r=Fa,{safeRe:n,t:i}=En,s=uf,o=Mi,a=Te,c=et();return xo}const Tv=et(),Nv=(t,e,r)=>{try{e=new Tv(e,r)}catch{return!1}return e.test(t)};var Ni=Nv;const Ov=et(),Lv=(t,e)=>new Ov(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var $v=Lv;const Pv=Te,Dv=et(),jv=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Dv(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new Pv(n,r))}),n};var Fv=jv;const Bv=Te,Vv=et(),Hv=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Vv(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new Bv(n,r))}),n};var Wv=Hv;const ko=Te,zv=et(),Vu=Ai,Uv=(t,e)=>{t=new zv(t,e);let r=new ko("0.0.0");if(t.test(r)||(r=new ko("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new ko(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||Vu(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||Vu(r,s))&&(r=s)}return r&&t.test(r)?r:null};var qv=Uv;const Gv=et(),Jv=(t,e)=>{try{return new Gv(t,e).range||"*"}catch{return null}};var Qv=Jv;const Zv=Te,hf=Ti(),{ANY:Yv}=hf,Kv=et(),Xv=Ni,Hu=Ai,Wu=Va,ey=Wa,ty=Ha,ry=(t,e,r,n)=>{t=new Zv(t,n),e=new Kv(e,n);let i,s,o,a,c;switch(r){case">":i=Hu,s=ey,o=Wu,a=">",c=">=";break;case"<":i=Wu,s=ty,o=Hu,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Xv(t,e,n))return!1;for(let u=0;u<e.set.length;++u){const h=e.set[u];let l=null,f=null;if(h.forEach(d=>{d.semver===Yv&&(d=new hf(">=0.0.0")),l=l||d,f=f||d,i(d.semver,l.semver,n)?l=d:o(d.semver,f.semver,n)&&(f=d)}),l.operator===a||l.operator===c||(!f.operator||f.operator===a)&&s(t,f.semver))return!1;if(f.operator===c&&o(t,f.semver))return!1}return!0};var za=ry;const ny=za,iy=(t,e,r)=>ny(t,e,">",r);var sy=iy;const oy=za,ay=(t,e,r)=>oy(t,e,"<",r);var cy=ay;const zu=et(),uy=(t,e,r)=>(t=new zu(t,r),e=new zu(e,r),t.intersects(e,r));var ly=uy;const hy=Ni,fy=Xe;var dy=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((h,l)=>fy(h,l,r));for(const h of o)hy(h,e,r)?(s=h,i||(i=h)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[h,l]of n)h===l?a.push(h):!l&&h===o[0]?a.push("*"):l?h===o[0]?a.push(`<=${l}`):a.push(`${h} - ${l}`):a.push(`>=${h}`);const c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e};const Uu=et(),Ua=Ti(),{ANY:Ro}=Ua,Qr=Ni,qa=Xe,py=(t,e,r={})=>{if(t===e)return!0;t=new Uu(t,r),e=new Uu(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=by(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},gy=[new Ua(">=0.0.0-0")],qu=[new Ua(">=0.0.0")],by=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Ro){if(e.length===1&&e[0].semver===Ro)return!0;r.includePrerelease?t=gy:t=qu}if(e.length===1&&e[0].semver===Ro){if(r.includePrerelease)return!0;e=qu}const n=new Set;let i,s;for(const d of t)d.operator===">"||d.operator===">="?i=Gu(i,d,r):d.operator==="<"||d.operator==="<="?s=Ju(s,d,r):n.add(d.semver);if(n.size>1)return null;let o;if(i&&s){if(o=qa(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const d of n){if(i&&!Qr(d,String(i),r)||s&&!Qr(d,String(s),r))return null;for(const p of e)if(!Qr(d,String(p),r))return!1;return!0}let a,c,u,h,l=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,f=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;l&&l.prerelease.length===1&&s.operator==="<"&&l.prerelease[0]===0&&(l=!1);for(const d of e){if(h=h||d.operator===">"||d.operator===">=",u=u||d.operator==="<"||d.operator==="<=",i){if(f&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===f.major&&d.semver.minor===f.minor&&d.semver.patch===f.patch&&(f=!1),d.operator===">"||d.operator===">="){if(a=Gu(i,d,r),a===d&&a!==i)return!1}else if(i.operator===">="&&!Qr(i.semver,String(d),r))return!1}if(s){if(l&&d.semver.prerelease&&d.semver.prerelease.length&&d.semver.major===l.major&&d.semver.minor===l.minor&&d.semver.patch===l.patch&&(l=!1),d.operator==="<"||d.operator==="<="){if(c=Ju(s,d,r),c===d&&c!==s)return!1}else if(s.operator==="<="&&!Qr(s.semver,String(d),r))return!1}if(!d.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&h&&!i&&o!==0||f||l)},Gu=(t,e,r)=>{if(!t)return e;const n=qa(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Ju=(t,e,r)=>{if(!t)return e;const n=qa(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var my=py;const Mo=En,Qu=Ri,vy=Te,Zu=of,yy=Vr,_y=ym,wy=Sm,Sy=Cm,Ey=xm,Cy=Mm,Iy=Nm,xy=$m,ky=jm,Ry=Xe,My=Hm,Ay=Um,Ty=Ba,Ny=Qm,Oy=Km,Ly=Ai,$y=Va,Py=af,Dy=cf,jy=Ha,Fy=Wa,By=uf,Vy=wv,Hy=Ti(),Wy=et(),zy=Ni,Uy=$v,qy=Fv,Gy=Wv,Jy=qv,Qy=Qv,Zy=za,Yy=sy,Ky=cy,Xy=ly,e1=dy,t1=my;var r1={parse:yy,valid:_y,clean:wy,inc:Sy,diff:Ey,major:Cy,minor:Iy,patch:xy,prerelease:ky,compare:Ry,rcompare:My,compareLoose:Ay,compareBuild:Ty,sort:Ny,rsort:Oy,gt:Ly,lt:$y,eq:Py,neq:Dy,gte:jy,lte:Fy,cmp:By,coerce:Vy,Comparator:Hy,Range:Wy,satisfies:zy,toComparators:Uy,maxSatisfying:qy,minSatisfying:Gy,minVersion:Jy,validRange:Qy,outside:Zy,gtr:Yy,ltr:Ky,intersects:Xy,simplifyRange:e1,subset:t1,SemVer:vy,re:Mo.re,src:Mo.src,tokens:Mo.t,SEMVER_SPEC_VERSION:Qu.SEMVER_SPEC_VERSION,RELEASE_TYPES:Qu.RELEASE_TYPES,compareIdentifiers:Zu.compareIdentifiers,rcompareIdentifiers:Zu.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=r1,r=ir,n=we;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",l=>(0,e.valid)(l)===null?`Expected SemVer version, got "${l}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",l=>(0,e.validRange)(l)===null?`Expected SemVer range, got "${l}"`:!0);function i(l){return(0,r.is)(l,t.VersionStruct)}t.isValidSemVerVersion=i;function s(l){return(0,r.is)(l,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(l){(0,n.assertStruct)(l,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(l){(0,n.assertStruct)(l,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(l,f){return(0,e.gt)(l,f)}t.gtVersion=c;function u(l,f){return(0,e.gtr)(l,f)}t.gtRange=u;function h(l,f){return(0,e.satisfies)(l,f,{includePrerelease:!0})}t.satisfiesVersionRange=h})(rf);(function(t){var e=A&&A.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=A&&A.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(we,t),r(wn,t),r(J,t),r(xi,t),r(ut,t),r(Ir,t),r(Sn,t),r(Xh,t),r(xr,t),r(ja,t),r(lt,t),r(ef,t),r(tf,t),r(rf,t)})(Lh);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=Lh;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(Oh);var ff=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.PollingBlockTracker=void 0;const n1=ff(Ra),i1=ff(Ig),s1=yn,Yu=Oh,Ku=(0,Yu.createModuleLogger)(Yu.projectLogger,"polling-block-tracker"),o1=(0,n1.default)(),a1=1e3;class c1 extends s1.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*a1,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=Xu(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=Xu(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:o1(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),Ku("Making request",e);const r=await(0,i1.default)(n=>this._provider.sendAsync(e,n))();if(Ku("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}Ci.PollingBlockTracker=c1;function Xu(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Oi={},u1=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.SubscribeBlockTracker=void 0;const l1=u1(Ra),h1=yn,f1=(0,l1.default)();class d1 extends h1.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:f1(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}Oi.SubscribeBlockTracker=d1;var df={};Object.defineProperty(df,"__esModule",{value:!0});(function(t){var e=A&&A.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=A&&A.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ci,t),r(Oi,t),r(df,t)})(Nh);var Ga={},Li={},Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.getUniqueId=void 0;const pf=4294967295;let Ao=Math.floor(Math.random()*pf);function p1(){return Ao=(Ao+1)%pf,Ao}Cn.getUniqueId=p1;Object.defineProperty(Li,"__esModule",{value:!0});Li.createIdRemapMiddleware=void 0;const g1=Cn;function b1(){return(t,e,r,n)=>{const i=t.id,s=g1.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Li.createIdRemapMiddleware=b1;var $i={};Object.defineProperty($i,"__esModule",{value:!0});$i.createAsyncMiddleware=void 0;function m1(t){return async(e,r,n,i)=>{let s;const o=new Promise(h=>{s=h});let a=null,c=!1;const u=async()=>{c=!0,n(h=>{a=h,s()}),await o};try{await t(e,r,u),c?(await o,a(null)):i(null)}catch(h){a?a(h):i(h)}}}$i.createAsyncMiddleware=m1;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.createScaffoldMiddleware=void 0;function v1(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Pi.createScaffoldMiddleware=v1;var In={},y1=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(In,"__esModule",{value:!0});In.JsonRpcEngine=void 0;const _1=y1(tr),Fe=ma;class gt extends _1.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await gt._runAllMiddleware(e,r,this._middleware);return o?(await gt._runReturnHandlers(a),i(s)):n(async c=>{try{await gt._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Fe.EthereumRpcError(Fe.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Fe.EthereumRpcError(Fe.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Fe.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await gt._runAllMiddleware(e,r,this._middleware);if(gt._checkForCompletion(e,r,i),await gt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await gt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const u=c||r.error;u&&(r.error=Fe.serializeError(u)),s([u,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new Fe.EthereumRpcError(Fe.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${To(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Fe.EthereumRpcError(Fe.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${To(e)}`,{request:e});if(!n)throw new Fe.EthereumRpcError(Fe.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${To(e)}`,{request:e})}}In.JsonRpcEngine=gt;function To(t){return JSON.stringify(t,null,2)}var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.mergeMiddleware=void 0;const w1=In;function S1(t){const e=new w1.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Di.mergeMiddleware=S1;(function(t){var e=A&&A.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=A&&A.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Li,t),r($i,t),r(Pi,t),r(Cn,t),r(In,t),r(Di,t)})(Ga);var gf={},Ja={};const Qa=Dt(zd);var ji={};Object.defineProperty(ji,"__esModule",{value:!0});var el=Qa,E1=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return el.__awaiter(this,void 0,void 0,function(){var r,n,i;return el.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();ji.default=E1;Object.defineProperty(Ja,"__esModule",{value:!0});var tl=Qa,C1=ji,I1=function(){function t(){this._semaphore=new C1.default(1)}return t.prototype.acquire=function(){return tl.__awaiter(this,void 0,void 0,function(){var e,r;return tl.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Ja.default=I1;var Fi={};Object.defineProperty(Fi,"__esModule",{value:!0});Fi.withTimeout=void 0;var Un=Qa;function x1(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Un.__awaiter(n,void 0,void 0,function(){var o,a,c;return Un.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Un.__awaiter(this,void 0,void 0,function(){var s,o;return Un.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Fi.withTimeout=x1;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Ja;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=ji;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Fi;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(gf);var k1=M1,R1=Object.prototype.hasOwnProperty;function M1(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)R1.call(r,n)&&(t[n]=r[n])}return t}const A1=k1,T1=Ra();var N1=P;function P(t){const e=this;e.currentProvider=t}P.prototype.getBalance=xn(2,"eth_getBalance");P.prototype.getCode=xn(2,"eth_getCode");P.prototype.getTransactionCount=xn(2,"eth_getTransactionCount");P.prototype.getStorageAt=xn(3,"eth_getStorageAt");P.prototype.call=xn(2,"eth_call");P.prototype.protocolVersion=z("eth_protocolVersion");P.prototype.syncing=z("eth_syncing");P.prototype.coinbase=z("eth_coinbase");P.prototype.mining=z("eth_mining");P.prototype.hashrate=z("eth_hashrate");P.prototype.gasPrice=z("eth_gasPrice");P.prototype.accounts=z("eth_accounts");P.prototype.blockNumber=z("eth_blockNumber");P.prototype.getBlockTransactionCountByHash=z("eth_getBlockTransactionCountByHash");P.prototype.getBlockTransactionCountByNumber=z("eth_getBlockTransactionCountByNumber");P.prototype.getUncleCountByBlockHash=z("eth_getUncleCountByBlockHash");P.prototype.getUncleCountByBlockNumber=z("eth_getUncleCountByBlockNumber");P.prototype.sign=z("eth_sign");P.prototype.sendTransaction=z("eth_sendTransaction");P.prototype.sendRawTransaction=z("eth_sendRawTransaction");P.prototype.estimateGas=z("eth_estimateGas");P.prototype.getBlockByHash=z("eth_getBlockByHash");P.prototype.getBlockByNumber=z("eth_getBlockByNumber");P.prototype.getTransactionByHash=z("eth_getTransactionByHash");P.prototype.getTransactionByBlockHashAndIndex=z("eth_getTransactionByBlockHashAndIndex");P.prototype.getTransactionByBlockNumberAndIndex=z("eth_getTransactionByBlockNumberAndIndex");P.prototype.getTransactionReceipt=z("eth_getTransactionReceipt");P.prototype.getUncleByBlockHashAndIndex=z("eth_getUncleByBlockHashAndIndex");P.prototype.getUncleByBlockNumberAndIndex=z("eth_getUncleByBlockNumberAndIndex");P.prototype.getCompilers=z("eth_getCompilers");P.prototype.compileLLL=z("eth_compileLLL");P.prototype.compileSolidity=z("eth_compileSolidity");P.prototype.compileSerpent=z("eth_compileSerpent");P.prototype.newFilter=z("eth_newFilter");P.prototype.newBlockFilter=z("eth_newBlockFilter");P.prototype.newPendingTransactionFilter=z("eth_newPendingTransactionFilter");P.prototype.uninstallFilter=z("eth_uninstallFilter");P.prototype.getFilterChanges=z("eth_getFilterChanges");P.prototype.getFilterLogs=z("eth_getFilterLogs");P.prototype.getLogs=z("eth_getLogs");P.prototype.getWork=z("eth_getWork");P.prototype.submitWork=z("eth_submitWork");P.prototype.submitHashrate=z("eth_submitHashrate");P.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(O1(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function z(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function xn(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function O1(t){return A1({id:T1(),jsonrpc:"2.0",params:[]},t)}const rl=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,h)=>{u?a(u):o(h)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},nl=new WeakMap;var L1=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=nl.get(o);if(c||(c={},nl.set(o,c)),a in c)return c[a];const u=p=>typeof p=="string"||typeof a=="symbol"?a===p:p.test(a),h=Reflect.getOwnPropertyDescriptor(o,a),l=h===void 0||h.writable||h.configurable,d=(e.include?e.include.some(u):!e.exclude.some(u))&&l;return c[a]=d,d},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const h=e.excludeMain?o:rl(o,e,s,o);return i.set(o,h),Reflect.apply(h,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const h=rl(c,e,s,o);return i.set(c,h),h}return c}});return s};const $1=tr.default;let P1=class extends $1{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var Za=P1;const D1=Za;let j1=class extends D1{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var F1=j1,kn={minBlockRef:B1,maxBlockRef:V1,sortBlockRefs:Ya,bnToHex:H1,blockRefIsNumber:W1,hexToInt:ai,incrementHexInt:z1,intToHex:bf,unsafeRandomBytes:U1};function B1(...t){return Ya(t)[0]}function V1(...t){const e=Ya(t);return e[e.length-1]}function Ya(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:ai(e)-ai(r))}function H1(t){return"0x"+t.toString(16)}function W1(t){return t&&!["earliest","latest","pending"].includes(t)}function ai(t){return t==null?t:Number.parseInt(t,16)}function z1(t){if(t==null)return t;const e=ai(t);return bf(e+1)}function bf(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function U1(t){let e="0x";for(let r=0;r<t;r++)e+=il(),e+=il();return e}function il(){return Math.floor(Math.random()*16).toString(16)}const q1=N1,G1=L1,J1=F1,{bnToHex:pC,hexToInt:qn,incrementHexInt:Q1,minBlockRef:Z1,blockRefIsNumber:Y1}=kn;let K1=class extends J1{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new q1(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=Z1(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=Q1(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await G1(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(qn(this.params.fromBlock)>=qn(e.blockNumber)||Y1(this.params.toBlock)&&qn(this.params.toBlock)<=qn(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(h=>h.toLowerCase()),a.includes(o))})}};var X1=K1,Ka=e_;async function e_({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=sl(e),s=sl(r)-n+1,o=Array(s).fill().map((c,u)=>n+u).map(t_);return await Promise.all(o.map(c=>n_(t,"eth_getBlockByNumber",[c,!1])))}function sl(t){return t==null?t:Number.parseInt(t,16)}function t_(t){return t==null?t:"0x"+t.toString(16)}function r_(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function n_(t,e,r){for(let n=0;n<3;n++)try{return await r_(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const i_=Za,s_=Ka,{incrementHexInt:o_}=kn;let a_=class extends i_{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=o_(e),o=(await s_({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var c_=a_;const u_=Za,l_=Ka,{incrementHexInt:h_}=kn;let f_=class extends u_{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=h_(e),i=await l_({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var d_=f_;const p_=gf.Mutex,{createAsyncMiddleware:g_,createScaffoldMiddleware:b_}=Ga,m_=X1,v_=c_,y_=d_,{intToHex:mf,hexToInt:No}=kn;var __=w_;function w_({blockTracker:t,provider:e}){let r=0,n={};const i=new p_,s=S_({mutex:i}),o=b_({eth_newFilter:s(Oo(c)),eth_newBlockFilter:s(Oo(u)),eth_newPendingTransactionFilter:s(Oo(h)),eth_uninstallFilter:s(Kn(d)),eth_getFilterChanges:s(Kn(l)),eth_getFilterLogs:s(Kn(f))}),a=async({oldBlock:v,newBlock:w})=>{if(n.length===0)return;const C=await i.acquire();try{await Promise.all(ur(n).map(async y=>{try{await y.update({oldBlock:v,newBlock:w})}catch(M){console.error(M)}}))}catch(y){console.error(y)}C()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=h,o.uninstallFilter=d,o.getFilterChanges=l,o.getFilterLogs=f,o.destroy=()=>{E()},o;async function c(v){const w=new m_({provider:e,params:v});return await p(w),w}async function u(){const v=new v_({provider:e});return await p(v),v}async function h(){const v=new y_({provider:e});return await p(v),v}async function l(v){const w=No(v),C=n[w];if(!C)throw new Error(`No filter for index "${w}"`);return C.getChangesAndClear()}async function f(v){const w=No(v),C=n[w];if(!C)throw new Error(`No filter for index "${w}"`);let y=[];return C.type==="log"&&(y=C.getAllResults()),y}async function d(v){const w=No(v),y=!!n[w];return y&&await m(w),y}async function p(v){const w=ur(n).length,C=await t.getLatestBlock();await v.initialize({currentBlock:C}),r++,n[r]=v,v.id=r,v.idHex=mf(r);const y=ur(n).length;return g({prevFilterCount:w,newFilterCount:y}),r}async function m(v){const w=ur(n).length;delete n[v];const C=ur(n).length;g({prevFilterCount:w,newFilterCount:C})}async function E(){const v=ur(n).length;n={},g({prevFilterCount:v,newFilterCount:0})}function g({prevFilterCount:v,newFilterCount:w}){if(v===0&&w>0){t.on("sync",a);return}if(v>0&&w===0){t.removeListener("sync",a);return}}}function Oo(t){return Kn(async(...e)=>{const r=await t(...e);return mf(r.id)})}function Kn(t){return g_(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function S_({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function ur(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const E_=tr.default,{createAsyncMiddleware:ol,createScaffoldMiddleware:C_}=Ga,I_=__,{unsafeRandomBytes:x_,incrementHexInt:k_}=kn,R_=Ka;var M_=A_;function A_({blockTracker:t,provider:e}){const r={},n=I_({blockTracker:t,provider:e});let i=!1;const s=new E_,o=C_({eth_subscribe:ol(a),eth_unsubscribe:ol(c)});return o.destroy=h,{events:s,middleware:o};async function a(l,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=l.params[0],p=x_(16);let m;switch(d){case"newHeads":m=E({subId:p});break;case"logs":const v=l.params[1],w=await n.newLogFilter(v);m=g({subId:p,filter:w});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${d}"`)}r[p]=m,f.result=p;return;function E({subId:v}){const w={type:d,destroy:async()=>{t.removeListener("sync",w.update)},update:async({oldBlock:C,newBlock:y})=>{const M=y,j=k_(C);(await R_({provider:e,fromBlock:j,toBlock:M})).map(T_).filter(F=>F!==null).forEach(F=>{u(v,F)})}};return t.on("sync",w.update),w}function g({subId:v,filter:w}){return w.on("update",y=>u(v,y)),{type:d,destroy:async()=>await n.uninstallFilter(w.idHex)}}}async function c(l,f){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const d=l.params[0],p=r[d];if(!p){f.result=!1;return}delete r[d],await p.destroy(),f.result=!0}function u(l,f){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:l,result:f}})}function h(){s.removeAllListeners();for(const l in r)r[l].destroy(),delete r[l];i=!0}}function T_(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Ei,"__esModule",{value:!0});Ei.SubscriptionManager=void 0;const N_=Nh,O_=M_,al=()=>{};class L_{constructor(e){const r=new N_.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=O_({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,al,al),r}destroy(){this.subscriptionMiddleware.destroy()}}Ei.SubscriptionManager=L_;var Xa=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wr,"__esModule",{value:!0});wr.CoinbaseWalletProvider=void 0;const $_=Xa(tr),P_=Xa(gi),Lo=Lr,K=gn,cl=Pr,ul=Ke,$o=_i,D_=te,V=R,Po=Xa(_g),j_=Cr,Y=Th,F_=Ei,ll="DefaultChainId",hl="DefaultJsonRpcUrl";class B_ extends $_.default{constructor(e){var r,n;super(),this._filterPolyfill=new j_.FilterPolyfill(this),this._subscriptionManager=new F_.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl;const i=this.getChainId(),s=(0,V.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(ul.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,V.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,h=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(h,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,V.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(hl))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(hl,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(ll,r.toString(10)),((0,V.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o?.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,V.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),h=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!h&&await u.requestEthereumAccounts().promise;const l=await u.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=l.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=l.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,D_.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===K.standardErrorCodes.provider.unsupportedChain?K.standardErrors.provider.unsupportedChain(e):K.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Lo.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?cl.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send(Y.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,K.serializeError)(i,e)})}catch(n){throw(0,K.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,K.serializeError)(n,e)})}catch(n){return Promise.reject((0,K.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,K.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,K.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw K.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw K.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw K.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,V.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,K.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",$o.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,K.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",$o.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,K.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",$o.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,V.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(ul.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Y.JSONRPCMethod.eth_accounts:return this._eth_accounts();case Y.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case Y.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case Y.JSONRPCMethod.net_version:return this._net_version();case Y.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Y.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case Y.JSONRPCMethod.eth_sign:return this._eth_sign(n);case Y.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case Y.JSONRPCMethod.personal_sign:return this._personal_sign(n);case Y.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case Y.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case Y.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case Y.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case Y.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case Y.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case Y.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case Y.JSONRPCMethod.eth_signTypedData_v4:case Y.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case Y.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case Y.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case Y.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case Y.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Y.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case Y.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case Y.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case Y.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case Y.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case Y.JSONRPCMethod.eth_subscribe:case Y.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,V.ensureAddressString)(e);return this._addresses.map(i=>(0,V.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Lo.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,V.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,V.ensureAddressString)(e.to):null,i=e.value!=null?(0,V.ensureBN)(e.value):new P_.default(0),s=e.data?(0,V.ensureBuffer)(e.data):H.Buffer.alloc(0),o=e.nonce!=null?(0,V.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,V.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,V.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,V.ensureBN)(e.maxPriorityFeePerGas):null,h=e.gas!=null?(0,V.ensureBN)(e.gas):null,l=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:h,chainId:l}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw K.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw K.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?K.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,V.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(ll);if(!e)return(0,V.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,V.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Lo.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?cl.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?K.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,V.ensureAddressString)(e[0]),n=(0,V.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,V.ensureBuffer)(e[0]),n=(0,V.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,V.ensureBuffer)(e[0]),n=(0,V.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,V.ensureBuffer)(e[0]),n=(0,V.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?K.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,V.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?K.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,V.ensureParsedJSONObject)(e[0]),n=(0,V.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Po.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,V.ensureAddressString)(e[0]),n=(0,V.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Po.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,V.ensureAddressString)(e[0]),n=(0,V.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Po.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw K.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw K.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw K.standardErrors.rpc.invalidParams("Type is required");if(r?.type!=="ERC20")throw K.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!r?.options)throw K.standardErrors.rpc.invalidParams("Options are required");if(!r?.options.address)throw K.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,V.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,V.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,V.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}wr.CoinbaseWalletProvider=B_;var Bi={},Vi={},Rn,D,vf,yf,qt,fl,_f,ia,wf,yr={},Sf=[],V_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Hi=Array.isArray;function vt(t,e){for(var r in e)t[r]=e[r];return t}function Ef(t){var e=t.parentNode;e&&e.removeChild(t)}function sa(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Rn.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return sn(t,o,n,i,null)}function sn(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++vf};return i==null&&D.vnode!=null&&D.vnode(s),s}function H_(){return{current:null}}function Mn(t){return t.children}function on(t,e){this.props=t,this.context=e}function hn(t,e){if(e==null)return t.__?hn(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?hn(t):null}function Cf(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Cf(t)}}function oa(t){(!t.__d&&(t.__d=!0)&&qt.push(t)&&!ci.__r++||fl!==D.debounceRendering)&&((fl=D.debounceRendering)||_f)(ci)}function ci(){var t,e,r,n,i,s,o,a,c;for(qt.sort(ia);t=qt.shift();)t.__d&&(e=qt.length,n=void 0,i=void 0,s=void 0,a=(o=(r=t).__v).__e,(c=r.__P)&&(n=[],i=[],(s=vt({},o)).__v=o.__v+1,ec(c,o,s,r.__n,c.ownerSVGElement!==void 0,o.__h!=null?[a]:null,n,a??hn(o),o.__h,i),Mf(n,o,i),o.__e!=a&&Cf(o)),qt.length>e&&qt.sort(ia));ci.__r=0}function If(t,e,r,n,i,s,o,a,c,u,h){var l,f,d,p,m,E,g,v,w,C=0,y=n&&n.__k||Sf,M=y.length,j=M,Z=e.length;for(r.__k=[],l=0;l<Z;l++)(p=r.__k[l]=(p=e[l])==null||typeof p=="boolean"||typeof p=="function"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?sn(null,p,null,null,p):Hi(p)?sn(Mn,{children:p},null,null,null):p.__b>0?sn(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null?(p.__=r,p.__b=r.__b+1,(v=W_(p,y,g=l+C,j))===-1?d=yr:(d=y[v]||yr,y[v]=void 0,j--),ec(t,p,d,i,s,o,a,c,u,h),m=p.__e,(f=p.ref)&&d.ref!=f&&(d.ref&&tc(d.ref,null,p),h.push(f,p.__c||m,p)),m!=null&&(E==null&&(E=m),(w=d===yr||d.__v===null)?v==-1&&C--:v!==g&&(v===g+1?C++:v>g?j>Z-g?C+=v-g:C--:C=v<g&&v==g-1?v-g:0),g=l+C,typeof p.type!="function"||v===g&&d.__k!==p.__k?typeof p.type=="function"||v===g&&!w?p.__d!==void 0?(c=p.__d,p.__d=void 0):c=m.nextSibling:c=Rf(t,m,c):c=xf(p,c,t),typeof r.type=="function"&&(r.__d=c))):(d=y[l])&&d.key==null&&d.__e&&(d.__e==c&&(c=hn(d)),aa(d,d,!1),y[l]=null);for(r.__e=E,l=M;l--;)y[l]!=null&&(typeof r.type=="function"&&y[l].__e!=null&&y[l].__e==r.__d&&(r.__d=y[l].__e.nextSibling),aa(y[l],y[l]))}function xf(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?xf(n,e,r):Rf(r,n.__e,e));return e}function kf(t,e){return e=e||[],t==null||typeof t=="boolean"||(Hi(t)?t.some(function(r){kf(r,e)}):e.push(t)),e}function Rf(t,e,r){return r==null||r.parentNode!==t?t.insertBefore(e,null):e==r&&e.parentNode!=null||t.insertBefore(e,r),e.nextSibling}function W_(t,e,r,n){var i=t.key,s=t.type,o=r-1,a=r+1,c=e[r];if(c===null||c&&i==c.key&&s===c.type)return r;if(n>(c!=null?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&i==c.key&&s===c.type)return a;a++}}return-1}function z_(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||ui(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||ui(t,s,e[s],r[s],n)}function dl(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||V_.test(e)?r:r+"px"}function ui(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||dl(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||dl(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?gl:pl,s):t.removeEventListener(e,s?gl:pl,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function pl(t){return this.l[t.type+!1](D.event?D.event(t):t)}function gl(t){return this.l[t.type+!0](D.event?D.event(t):t)}function ec(t,e,r,n,i,s,o,a,c,u){var h,l,f,d,p,m,E,g,v,w,C,y,M,j,Z,N=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(c=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(h=D.__b)&&h(e);e:if(typeof N=="function")try{if(g=e.props,v=(h=N.contextType)&&n[h.__c],w=h?v?v.props.value:h.__:n,r.__c?E=(l=e.__c=r.__c).__=l.__E:("prototype"in N&&N.prototype.render?e.__c=l=new N(g,w):(e.__c=l=new on(g,w),l.constructor=N,l.render=q_),v&&v.sub(l),l.props=g,l.state||(l.state={}),l.context=w,l.__n=n,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),N.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=vt({},l.__s)),vt(l.__s,N.getDerivedStateFromProps(g,l.__s))),d=l.props,p=l.state,l.__v=e,f)N.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(N.getDerivedStateFromProps==null&&g!==d&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(g,w),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(g,l.__s,w)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(l.props=g,l.state=l.__s,l.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(F){F&&(F.__=e)}),C=0;C<l._sb.length;C++)l.__h.push(l._sb[C]);l._sb=[],l.__h.length&&o.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(g,l.__s,w),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(d,p,m)})}if(l.context=w,l.props=g,l.__P=t,l.__e=!1,y=D.__r,M=0,"prototype"in N&&N.prototype.render){for(l.state=l.__s,l.__d=!1,y&&y(e),h=l.render(l.props,l.state,l.context),j=0;j<l._sb.length;j++)l.__h.push(l._sb[j]);l._sb=[]}else do l.__d=!1,y&&y(e),h=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++M<25);l.state=l.__s,l.getChildContext!=null&&(n=vt(vt({},n),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(m=l.getSnapshotBeforeUpdate(d,p)),If(t,Hi(Z=h!=null&&h.type===Mn&&h.key==null?h.props.children:h)?Z:[Z],e,r,n,i,s,o,a,c,u),l.base=e.__e,e.__h=null,l.__h.length&&o.push(l),E&&(l.__E=l.__=null)}catch(F){e.__v=null,(c||s!=null)&&(e.__e=a,e.__h=!!c,s[s.indexOf(a)]=null),D.__e(F,e,r)}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=U_(r.__e,e,r,n,i,s,o,c,u);(h=D.diffed)&&h(e)}function Mf(t,e,r){for(var n=0;n<r.length;n++)tc(r[n],r[++n],r[++n]);D.__c&&D.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){D.__e(s,i.__v)}})}function U_(t,e,r,n,i,s,o,a,c){var u,h,l,f=r.props,d=e.props,p=e.type,m=0;if(p==="svg"&&(i=!0),s!=null){for(;m<s.length;m++)if((u=s[m])&&"setAttribute"in u==!!p&&(p?u.localName===p:u.nodeType===3)){t=u,s[m]=null;break}}if(t==null){if(p===null)return document.createTextNode(d);t=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,d.is&&d),s=null,a=!1}if(p===null)f===d||a&&t.data===d||(t.data=d);else{if(s=s&&Rn.call(t.childNodes),h=(f=r.props||yr).dangerouslySetInnerHTML,l=d.dangerouslySetInnerHTML,!a){if(s!=null)for(f={},m=0;m<t.attributes.length;m++)f[t.attributes[m].name]=t.attributes[m].value;(l||h)&&(l&&(h&&l.__html==h.__html||l.__html===t.innerHTML)||(t.innerHTML=l&&l.__html||""))}if(z_(t,d,f,i,a),l)e.__k=[];else if(If(t,Hi(m=e.props.children)?m:[m],e,r,n,i&&p!=="foreignObject",s,o,s?s[0]:r.__k&&hn(r,0),a,c),s!=null)for(m=s.length;m--;)s[m]!=null&&Ef(s[m]);a||("value"in d&&(m=d.value)!==void 0&&(m!==t.value||p==="progress"&&!m||p==="option"&&m!==f.value)&&ui(t,"value",m,f.value,!1),"checked"in d&&(m=d.checked)!==void 0&&m!==t.checked&&ui(t,"checked",m,f.checked,!1))}return t}function tc(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){D.__e(n,r)}}function aa(t,e,r){var n,i;if(D.unmount&&D.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||tc(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){D.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&aa(n[i],e,r||typeof t.type!="function");r||t.__e==null||Ef(t.__e),t.__=t.__e=t.__d=void 0}function q_(t,e,r){return this.constructor(t,r)}function Af(t,e,r){var n,i,s,o;D.__&&D.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],o=[],ec(e,t=(!n&&r||e).__k=sa(Mn,null,[t]),i||yr,yr,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Rn.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n,o),Mf(s,t,o)}function Tf(t,e){Af(t,e,Tf)}function G_(t,e,r){var n,i,s,o,a=vt({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?Rn.call(arguments,2):r),sn(t.type,a,n||t.key,i||t.ref,null)}function J_(t,e){var r={__c:e="__cC"+wf++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,oa(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Rn=Sf.slice,D={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},vf=0,yf=function(t){return t!=null&&t.constructor===void 0},on.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=vt({},this.state),typeof t=="function"&&(t=t(vt({},r),this.props)),t&&vt(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),oa(this))},on.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),oa(this))},on.prototype.render=Mn,qt=[],_f=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ia=function(t,e){return t.__v.__b-e.__v.__b},ci.__r=0,wf=0;const Q_=Object.freeze(Object.defineProperty({__proto__:null,Component:on,Fragment:Mn,cloneElement:G_,createContext:J_,createElement:sa,createRef:H_,h:sa,hydrate:Tf,get isValidElement(){return yf},get options(){return D},render:Af,toChildArray:kf},Symbol.toStringTag,{value:"Module"})),De=Dt(Q_);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ca=function(t,e){return ca=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ca(t,e)};function b(t,e){ca(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function kr(t){return typeof t=="function"}var bl=!1,Ve={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}bl=t},get useDeprecatedSynchronousErrorHandling(){return bl}};function dr(t){setTimeout(function(){throw t},0)}var li={closed:!0,next:function(t){},error:function(t){if(Ve.useDeprecatedSynchronousErrorHandling)throw t;dr(t)},complete:function(){}},Me=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function rc(t){return t!==null&&typeof t=="object"}var Z_=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),an=Z_,ae=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(kr(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(l){e=l instanceof an?ml(l.errors):[l]}}if(Me(o))for(var a=-1,u=o.length;++a<u;){var h=o[a];if(rc(h))try{h.unsubscribe()}catch(f){e=e||[],f instanceof an?e=e.concat(ml(f.errors)):e.push(f)}}if(e)throw new an(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function ml(t){return t.reduce(function(e,r){return e.concat(r instanceof an?r.errors:r)},[])}var hi=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),T=function(t){b(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=li;break;case 1:if(!r){s.destination=li;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new vl(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new vl(s,r,n,i);break}return s}return e.prototype[hi]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(ae),vl=function(t){b(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return kr(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==li&&(c=Object.create(n),kr(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Ve.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Ve.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):dr(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;dr(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Ve.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Ve.useDeprecatedSynchronousErrorHandling)throw i;dr(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Ve.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Ve.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(dr(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(T);function nc(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof T?t=n:t=null}return!0}function Y_(t,e,r){if(t){if(t instanceof T)return t;if(t[hi])return t[hi]()}return!t&&!e&&!r?new T(li):new T(t,e,r)}var Hr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Lt(t){return t}function ua(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Nf(t)}function Nf(t){return t.length===0?Lt:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var W=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=Y_(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Ve.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Ve.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Ve.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),nc(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=yl(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Hr]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:Nf(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=yl(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function yl(t){if(t||(t=Ve.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var K_=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Mt=K_,Of=function(t){b(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(ae),Lf=function(t){b(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(T),ve=function(t){b(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[hi]=function(){return new Lf(this)},e.prototype.lift=function(r){var n=new _l(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Mt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Mt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Mt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Mt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Mt;return this.hasError?(r.error(this.thrownError),ae.EMPTY):this.isStopped?(r.complete(),ae.EMPTY):(this.observers.push(r),new Of(this,r))},e.prototype.asObservable=function(){var r=new W;return r.source=this,r},e.create=function(r,n){return new _l(r,n)},e}(W),_l=function(t){b(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):ae.EMPTY},e}(ve);function ic(){return function(e){return e.lift(new X_(e))}}var X_=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new ew(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),ew=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(T),$f=function(t){b(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new ae,r.add(this.source.subscribe(new rw(this.getSubject(),this))),r.closed&&(this._connection=null,r=ae.EMPTY)),r},e.prototype.refCount=function(){return ic()(this)},e}(W),tw=function(){var t=$f.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),rw=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(Lf);function nw(t,e,r,n){return function(i){return i.lift(new iw(t,e,r,n))}}var iw=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new sw(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),sw=function(t){b(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(u){this.error(u)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new ve,i.set(n,s);var a=new la(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new la(n,s))}catch(u){this.error(u);return}this.add(c.subscribe(new ow(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(T),ow=function(t){b(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(T),la=function(t){b(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new ae,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new aw(s)),n.add(o.subscribe(r)),n},e}(W),aw=function(t){b(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(ae),Pf=function(t){b(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Mt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(ve),cw=function(t){b(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(ae),An=function(t){b(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(cw),uw=function(t){b(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(An),ha=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),Tn=function(t){b(e,t);function e(r,n){n===void 0&&(n=ha.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(ha),lw=function(t){b(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Tn),Df=new lw(uw),jf=Df,Rr=new W(function(t){return t.complete()});function Wr(t){return t?hw(t):Rr}function hw(t){return new W(function(e){return t.schedule(function(){return e.complete()})})}function Pe(t){return t&&typeof t.schedule=="function"}var Ff=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function sc(t,e){return new W(function(r){var n=new ae,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Nn(t,e){return e?sc(t,e):new W(Ff(t))}function Wi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Pe(r)?(t.pop(),sc(t,r)):Nn(t)}function oc(t,e){return e?new W(function(r){return e.schedule(fw,0,{error:t,subscriber:r})}):new W(function(r){return r.error(t)})}function fw(t){var e=t.error,r=t.subscriber;r.error(e)}var fa;fa||(fa={});var yt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Wi(this.value);case"E":return oc(this.error);case"C":return Wr()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function dw(t,e){return e===void 0&&(e=0),function(n){return n.lift(new pw(t,e))}}var pw=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new Bf(e,this.scheduler,this.delay))},t}(),Bf=function(t){b(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new gw(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(yt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(yt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(yt.createComplete()),this.unsubscribe()},e}(T),gw=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),ac=function(t){b(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new bw(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Mt;if(this.isStopped||this.hasError?a=ae.EMPTY:(this.observers.push(r),a=new Of(this,r)),s&&r.add(r=new Bf(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||jf).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(ve),bw=function(){function t(e,r){this.time=e,this.value=r}return t}(),zr=function(t){b(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),ae.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),ae.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(ve),mw=1,vw=function(){return Promise.resolve()}(),da={};function wl(t){return t in da?(delete da[t],!0):!1}var Sl={setImmediate:function(t){var e=mw++;return da[e]=!0,vw.then(function(){return wl(e)&&t()}),e},clearImmediate:function(t){wl(t)}},yw=function(t){b(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=Sl.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Sl.clearImmediate(n),r.scheduled=void 0)},e}(An),_w=function(t){b(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Tn),Vf=new _w(yw),Xn=Vf,Hf=new Tn(An),Ae=Hf,ww=function(t){b(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(An),Sw=function(t){b(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Tn),Wf=new Sw(ww),Ew=Wf,Cw=function(t){b(e,t);function e(r,n){r===void 0&&(r=zf),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Tn),zf=function(t){b(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(An);function ot(){}function Iw(t){return!!t&&(t instanceof W||typeof t.lift=="function"&&typeof t.subscribe=="function")}var xw=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Mr=xw,kw=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),On=kw,Rw=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),Uf=Rw;function qe(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Mw(t,e))}}var Mw=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Aw(e,this.project,this.thisArg))},t}(),Aw=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(T);function qf(t,e,r){if(e)if(Pe(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return qf(t,r).apply(void 0,n).pipe(qe(function(s){return Me(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new W(function(c){if(r){var h={args:n,subscriber:c,params:a};return r.schedule(Tw,0,h)}else{if(!o){o=new zr;var u=function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];o.next(l.length<=1?l[0]:l),o.complete()};try{t.apply(s,n.concat([u]))}catch(l){nc(o)?o.error(l):console.warn(l)}}return o.subscribe(c)}})}}function Tw(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new zr;var u=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];var f=h.length<=1?h[0]:h;e.add(a.schedule(Nw,0,{value:f,subject:c}))};try{s.apply(o,r.concat([u]))}catch(h){c.error(h)}}this.add(c.subscribe(n))}function Nw(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Gf(t,e,r){if(e)if(Pe(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Gf(t,r).apply(void 0,n).pipe(qe(function(s){return Me(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new W(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(Ow,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new zr;var u=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];var f=h.shift();if(f){c.error(f);return}c.next(h.length<=1?h[0]:h),c.complete()};try{t.apply(a,n.concat([u]))}catch(h){nc(c)?c.error(h):console.warn(h)}}return c.subscribe(o)})}}function Ow(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new zr;var u=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];var f=h.shift();if(f)e.add(a.schedule(El,0,{err:f,subject:c}));else{var d=h.length<=1?h[0]:h;e.add(a.schedule(Lw,0,{value:d,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(h){this.add(a.schedule(El,0,{err:h,subject:c}))}}this.add(c.subscribe(n))}function Lw(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function El(t){var e=t.err,r=t.subject;r.error(e)}var sr=function(t){b(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(T),$w=function(t){b(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(T),Pw=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,dr),e}};function Dw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var $t=Dw(),jw=function(t){return function(e){var r=t[$t]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},Fw=function(t){return function(e){var r=t[Hr]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Jf=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Qf(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var fn=function(t){if(t&&typeof t[Hr]=="function")return Fw(t);if(Jf(t))return Ff(t);if(Qf(t))return Pw(t);if(t&&typeof t[$t]=="function")return jw(t);var e=rc(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function _t(t,e,r,n,i){if(i===void 0&&(i=new $w(t,r,n)),!i.closed)return e instanceof W?e.subscribe(i):fn(e)(i)}var Cl={};function Bw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Pe(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Me(t[0])&&(t=t[0]),Nn(t,n).lift(new cc(r))}var cc=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Vw(e,this.resultSelector))},t}(),Vw=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(Cl),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(_t(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===Cl?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(sr);function Hw(t,e){return new W(function(r){var n=new ae;return n.add(e.schedule(function(){var i=t[Hr]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function Ww(t,e){return new W(function(r){var n=new ae;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function zw(t,e){if(!t)throw new Error("Iterable cannot be null");return new W(function(r){var n=new ae,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[$t](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function Uw(t){return t&&typeof t[Hr]=="function"}function qw(t){return t&&typeof t[$t]=="function"}function Zf(t,e){if(t!=null){if(Uw(t))return Hw(t,e);if(Qf(t))return Ww(t,e);if(Jf(t))return sc(t,e);if(qw(t)||typeof t=="string")return zw(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function St(t,e){return e?Zf(t,e):t instanceof W?t:new W(fn(t))}var ce=function(t){b(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(T),ue=function(t){b(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(T);function le(t,e){if(!e.closed){if(t instanceof W)return t.subscribe(e);var r;try{r=fn(t)(e)}catch(n){e.error(n)}return r}}function Xt(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Xt(function(i,s){return St(t(i,s)).pipe(qe(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new Gw(t,r))})}var Gw=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new Jw(e,this.project,this.concurrent))},t}(),Jw=function(t){b(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new ce(this),i=this.destination;i.add(n);var s=le(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(ue),Qw=Xt;function uc(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Xt(Lt,t)}function Yf(){return uc(1)}function dn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Yf()(Wi.apply(void 0,t))}function lc(t){return new W(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?St(r):Wr();return n.subscribe(e)})}function Zw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Me(r))return Gn(r,null);if(rc(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Gn(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Me(t[0])?t[0]:t,Gn(t,null).pipe(qe(function(s){return i.apply(void 0,s)}))}return Gn(t,null)}function Gn(t,e){return new W(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(u){var h=St(t[u]),l=!1;r.add(h.subscribe({next:function(f){l||(l=!0,o++),i[u]=f},error:function(f){return r.error(f)},complete:function(){s++,(s===n||!l)&&(o===n&&r.next(e?e.reduce(function(f,d,p){return f[d]=i[p],f},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function Kf(t,e,r,n){return kr(r)&&(n=r,r=void 0),n?Kf(t,e,r).pipe(qe(function(i){return Me(i)?n.apply(void 0,i):n(i)})):new W(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}Xf(t,e,s,i,r)})}function Xf(t,e,r,n,i){var s;if(Xw(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(Kw(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(Yw(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var u=0,h=t.length;u<h;u++)Xf(t[u],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function Yw(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function Kw(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function Xw(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function ed(t,e,r){return r?ed(t,e).pipe(qe(function(n){return Me(n)?r.apply(void 0,n):r(n)})):new W(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(kr(e))return function(){return e(i,s)}})}function e2(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Lt,i=a.scheduler}else n===void 0||Pe(n)?(o=t,s=Lt,i=n):(o=t,s=n);return new W(function(c){var u=o;if(i)return i.schedule(t2,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:u});do{if(e){var h=void 0;try{h=e(u)}catch(f){c.error(f);return}if(!h){c.complete();break}}var l=void 0;try{l=s(u)}catch(f){c.error(f);return}if(c.next(l),c.closed)break;try{u=r(u)}catch(f){c.error(f);return}}while(!0)})}function t2(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function r2(t,e,r){return e===void 0&&(e=Rr),r===void 0&&(r=Rr),lc(function(){return t()?e:r})}function Ar(t){return!Me(t)&&t-parseFloat(t)+1>=0}function n2(t,e){return t===void 0&&(t=0),e===void 0&&(e=Ae),(!Ar(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Ae),new W(function(r){return r.add(e.schedule(i2,t,{subscriber:r,counter:0,period:t})),r})}function i2(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function td(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Pe(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof W?t[0]:uc(r)(Nn(t,n))}var rd=new W(ot);function s2(){return rd}function pa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return Rr;var r=t[0],n=t.slice(1);return t.length===1&&Me(r)?pa.apply(void 0,r):new W(function(i){var s=function(){return i.add(pa.apply(void 0,n).subscribe(i))};return St(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function o2(t,e){return e?new W(function(r){var n=Object.keys(t),i=new ae;return i.add(e.schedule(a2,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new W(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function a2(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function nd(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Pt(t,e){return function(n){return n.lift(new c2(t,e))}}var c2=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new u2(e,this.predicate,this.thisArg))},t}(),u2=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(T);function l2(t,e,r){return[Pt(e,r)(new W(fn(t))),Pt(nd(e,r))(new W(fn(t)))]}function id(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Me(t[0]))t=t[0];else return t[0];return Nn(t,void 0).lift(new h2)}var h2=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new f2(e))},t}(),f2=function(t){b(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=_t(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(sr);function d2(t,e,r){return t===void 0&&(t=0),new W(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(p2,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function p2(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function sd(t,e,r){t===void 0&&(t=0);var n=-1;return Ar(e)?n=Number(e)<1&&1||Number(e):Pe(e)&&(r=e),Pe(r)||(r=Ae),new W(function(i){var s=Ar(t)?t:+t-r.now();return r.schedule(g2,s,{index:0,period:n,subscriber:i})})}function g2(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function b2(t,e){return new W(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?St(i):Rr,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function od(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Nn(t,void 0).lift(new ad(r))}var ad=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new m2(e,this.resultSelector))},t}(),m2=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;Me(r)?n.push(new y2(r)):typeof r[$t]=="function"?n.push(new v2(r[$t]())):n.push(new _2(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(T),v2=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!!(e&&e.done)},t}(),y2=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[$t]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),_2=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[$t]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return le(this.observable,new ce(this))},e}(ue);const w2=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:Mr,AsyncSubject:zr,BehaviorSubject:Pf,ConnectableObservable:$f,EMPTY:Rr,EmptyError:On,GroupedObservable:la,NEVER:rd,Notification:yt,get NotificationKind(){return fa},ObjectUnsubscribedError:Mt,Observable:W,ReplaySubject:ac,Scheduler:ha,Subject:ve,Subscriber:T,Subscription:ae,TimeoutError:Uf,UnsubscriptionError:an,VirtualAction:zf,VirtualTimeScheduler:Cw,animationFrame:Ew,animationFrameScheduler:Wf,asap:Xn,asapScheduler:Vf,async:Ae,asyncScheduler:Hf,bindCallback:qf,bindNodeCallback:Gf,combineLatest:Bw,concat:dn,config:Ve,defer:lc,empty:Wr,forkJoin:Zw,from:St,fromEvent:Kf,fromEventPattern:ed,generate:e2,identity:Lt,iif:r2,interval:n2,isObservable:Iw,merge:td,never:s2,noop:ot,observable:Hr,of:Wi,onErrorResumeNext:pa,pairs:o2,partition:l2,pipe:ua,queue:jf,queueScheduler:Df,race:id,range:d2,scheduled:Zf,throwError:oc,timer:sd,using:b2,zip:od},Symbol.toStringTag,{value:"Module"})),zi=Dt(w2);var Ui={};function cd(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=cd(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Il(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=cd(t))&&(n&&(n+=" "),n+=e);return n}const S2=Object.freeze(Object.defineProperty({__proto__:null,clsx:Il,default:Il},Symbol.toStringTag,{value:"Module"})),qi=Dt(S2);var wt,X,Do,xl,Tr=0,ud=[],ei=[],kl=D.__b,Rl=D.__r,Ml=D.diffed,Al=D.__c,Tl=D.unmount;function or(t,e){D.__h&&D.__h(X,t,Tr||e),Tr=0;var r=X.__H||(X.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:ei}),r.__[t]}function ld(t){return Tr=1,hd(dd,t)}function hd(t,e,r){var n=or(wt++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):dd(void 0,e),function(a){var c=n.__N?n.__N[0]:n.__[0],u=n.t(c,a);c!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=X,!X.u)){var i=function(a,c,u){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(f){return f.__c});if(h.every(function(f){return!f.__N}))return!s||s.call(this,a,c,u);var l=!1;return h.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(l=!0)}}),!(!l&&n.__c.props===a)&&(!s||s.call(this,a,c,u))};X.u=!0;var s=X.shouldComponentUpdate,o=X.componentWillUpdate;X.componentWillUpdate=function(a,c,u){if(this.__e){var h=s;s=void 0,i(a,c,u),s=h}o&&o.call(this,a,c,u)},X.shouldComponentUpdate=i}return n.__N||n.__}function E2(t,e){var r=or(wt++,3);!D.__s&&fc(r.__H,e)&&(r.__=t,r.i=e,X.__H.__h.push(r))}function fd(t,e){var r=or(wt++,4);!D.__s&&fc(r.__H,e)&&(r.__=t,r.i=e,X.__h.push(r))}function C2(t){return Tr=5,hc(function(){return{current:t}},[])}function I2(t,e,r){Tr=6,fd(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function hc(t,e){var r=or(wt++,7);return fc(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function x2(t,e){return Tr=8,hc(function(){return t},e)}function k2(t){var e=X.context[t.__c],r=or(wt++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(X)),e.props.value):t.__}function R2(t,e){D.useDebugValue&&D.useDebugValue(e?e(t):t)}function M2(t){var e=or(wt++,10),r=ld();return e.__=t,X.componentDidCatch||(X.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function A2(){var t=or(wt++,11);if(!t.__){for(var e=X.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function T2(){for(var t;t=ud.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ti),t.__H.__h.forEach(ga),t.__H.__h=[]}catch(e){t.__H.__h=[],D.__e(e,t.__v)}}D.__b=function(t){X=null,kl&&kl(t)},D.__r=function(t){Rl&&Rl(t),wt=0;var e=(X=t.__c).__H;e&&(Do===X?(e.__h=[],X.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=ei,r.__N=r.i=void 0})):(e.__h.forEach(ti),e.__h.forEach(ga),e.__h=[],wt=0)),Do=X},D.diffed=function(t){Ml&&Ml(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(ud.push(e)!==1&&xl===D.requestAnimationFrame||((xl=D.requestAnimationFrame)||N2)(T2)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==ei&&(r.__=r.__V),r.i=void 0,r.__V=ei})),Do=X=null},D.__c=function(t,e){e.some(function(r){try{r.__h.forEach(ti),r.__h=r.__h.filter(function(n){return!n.__||ga(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],D.__e(n,r.__v)}}),Al&&Al(t,e)},D.unmount=function(t){Tl&&Tl(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{ti(n)}catch(i){e=i}}),r.__H=void 0,e&&D.__e(e,r.__v))};var Nl=typeof requestAnimationFrame=="function";function N2(t){var e,r=function(){clearTimeout(n),Nl&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);Nl&&(e=requestAnimationFrame(r))}function ti(t){var e=X,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),X=e}function ga(t){var e=X;t.__c=t.__(),X=e}function fc(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function dd(t,e){return typeof e=="function"?e(t):e}const O2=Object.freeze(Object.defineProperty({__proto__:null,useCallback:x2,useContext:k2,useDebugValue:R2,useEffect:E2,useErrorBoundary:M2,useId:A2,useImperativeHandle:I2,useLayoutEffect:fd,useMemo:hc,useReducer:hd,useRef:C2,useState:ld},Symbol.toStringTag,{value:"Module"})),Ln=Dt(O2);var ht={},Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.CloseIcon=void 0;const Ol=De;function L2(t){return(0,Ol.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ol.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Gi.CloseIcon=L2;var dc={};Object.defineProperty(dc,"__esModule",{value:!0});dc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});Ji.QRCodeIcon=void 0;const nt=De;function $2(t){return(0,nt.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,nt.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,nt.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,nt.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,nt.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,nt.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,nt.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,nt.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,nt.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,nt.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}Ji.QRCodeIcon=$2;var gc={};Object.defineProperty(gc,"__esModule",{value:!0});const P2=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;gc.default=P2;var bc={};Object.defineProperty(bc,"__esModule",{value:!0});bc.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.StatusDotIcon=void 0;const Ll=De;function D2(t){return(0,Ll.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Ll.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}Qi.StatusDotIcon=D2;var Zi={};function pd(t){this.mode=Le.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}pd.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function ft(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}ft.prototype={addData:function(t){var e=new pd(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=ft.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=se.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=se.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=se.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=se.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var u=se.getMask(e,n,o-a);u&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};ft.PAD0=236;ft.PAD1=17;ft.createData=function(t,e,r){for(var n=ct.getRSBlocks(t,e),i=new gd,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),se.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(ft.PAD0,8),i.getLengthInBits()>=a*8));)i.put(ft.PAD1,8);return ft.createBytes(i,n)};ft.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),s[a]=new Array(c);for(var h=0;h<s[a].length;h++)s[a][h]=255&t.buffer[h+r];r+=c;var l=se.getErrorCorrectPolynomial(u),f=new _r(s[a],l.getLength()-1),d=f.mod(l);o[a]=new Array(l.getLength()-1);for(var h=0;h<o[a].length;h++){var p=h+d.getLength()-o[a].length;o[a][h]=p>=0?d.get(p):0}}for(var m=0,h=0;h<e.length;h++)m+=e[h].totalCount;for(var E=new Array(m),g=0,h=0;h<n;h++)for(var a=0;a<e.length;a++)h<s[a].length&&(E[g++]=s[a][h]);for(var h=0;h<i;h++)for(var a=0;a<e.length;a++)h<o[a].length&&(E[g++]=o[a][h]);return E};var Le={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Tt={L:1,M:0,Q:3,H:2},Ct={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},se={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;se.getBCHDigit(e)-se.getBCHDigit(se.G15)>=0;)e^=se.G15<<se.getBCHDigit(e)-se.getBCHDigit(se.G15);return(t<<10|e)^se.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;se.getBCHDigit(e)-se.getBCHDigit(se.G18)>=0;)e^=se.G18<<se.getBCHDigit(e)-se.getBCHDigit(se.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return se.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Ct.PATTERN000:return(e+r)%2==0;case Ct.PATTERN001:return e%2==0;case Ct.PATTERN010:return r%3==0;case Ct.PATTERN011:return(e+r)%3==0;case Ct.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Ct.PATTERN101:return e*r%2+e*r%3==0;case Ct.PATTERN110:return(e*r%2+e*r%3)%2==0;case Ct.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new _r([1],0),r=0;r<t;r++)e=e.multiply(new _r([1,me.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case Le.MODE_NUMBER:return 10;case Le.MODE_ALPHA_NUM:return 9;case Le.MODE_8BIT_BYTE:return 8;case Le.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case Le.MODE_NUMBER:return 12;case Le.MODE_ALPHA_NUM:return 11;case Le.MODE_8BIT_BYTE:return 16;case Le.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case Le.MODE_NUMBER:return 14;case Le.MODE_ALPHA_NUM:return 13;case Le.MODE_8BIT_BYTE:return 16;case Le.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var h=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&h++;var l=Math.abs(100*h/e/e-50)/5;return r+=l*10,r}},me={glog:function(t){if(t<1)throw new Error("glog("+t+")");return me.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return me.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var _e=0;_e<8;_e++)me.EXP_TABLE[_e]=1<<_e;for(var _e=8;_e<256;_e++)me.EXP_TABLE[_e]=me.EXP_TABLE[_e-4]^me.EXP_TABLE[_e-5]^me.EXP_TABLE[_e-6]^me.EXP_TABLE[_e-8];for(var _e=0;_e<255;_e++)me.LOG_TABLE[me.EXP_TABLE[_e]]=_e;function _r(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}_r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=me.gexp(me.glog(this.get(r))+me.glog(t.get(n)));return new _r(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=me.glog(this.get(0))-me.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=me.gexp(me.glog(t.get(n))+e);return new _r(r,0).mod(t)}};function ct(t,e){this.totalCount=t,this.dataCount=e}ct.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];ct.getRSBlocks=function(t,e){var r=ct.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],u=0;u<o;u++)i.push(new ct(a,c));return i};ct.getRsBlockTable=function(t,e){switch(e){case Tt.L:return ct.RS_BLOCK_TABLE[(t-1)*4+0];case Tt.M:return ct.RS_BLOCK_TABLE[(t-1)*4+1];case Tt.Q:return ct.RS_BLOCK_TABLE[(t-1)*4+2];case Tt.H:return ct.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function gd(){this.buffer=[],this.length=0}gd.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var jo=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function bd(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Tt.L;case"M":return Tt.M;case"Q":return Tt.Q;case"H":return Tt.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,u){for(var h=i(c),l=1,f=0,d=0,p=jo.length;d<=p;d++){var m=jo[d];if(!m)throw new Error("Content too long: expected "+f+" but got "+h);switch(u){case"L":f=m[0];break;case"M":f=m[1];break;case"Q":f=m[2];break;case"H":f=m[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(h<=f)break;l++}if(l>jo.length)throw new Error("Content too long");return l}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new ft(o,a),this.qrcode.addData(s),this.qrcode.make()}bd.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,u=o/(c+2*e.padding),h=a/(c+2*e.padding),l=typeof e.join<"u"?!!e.join:!1,f=typeof e.swap<"u"?!!e.swap:!1,d=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,p=typeof e.predefined<"u"?!!e.predefined:!1,m=p?i+'<defs><path id="qrmodule" d="M0 0 h'+h+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",E=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,g="",v="",w=0;w<c;w++)for(var C=0;C<c;C++){var y=r[C][w];if(y){var M=C*u+e.padding*u,j=w*h+e.padding*h;if(f){var Z=M;M=j,j=Z}if(l){var N=u+M,F=h+j;M=Number.isInteger(M)?Number(M):M.toFixed(2),j=Number.isInteger(j)?Number(j):j.toFixed(2),N=Number.isInteger(N)?Number(N):N.toFixed(2),F=Number.isInteger(F)?Number(F):F.toFixed(2),v+="M"+M+","+j+" V"+F+" H"+N+" V"+j+" H"+M+" Z "}else p?g+=i+'<use x="'+M.toString()+'" y="'+j.toString()+'" href="#qrmodule" />'+s:g+=i+'<rect x="'+M.toString()+'" y="'+j.toString()+'" width="'+u+'" height="'+h+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}l&&(g=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+v+'" />');let ne="";if(this.options.image!==void 0&&this.options.image.svg){const S=o*this.options.image.width/100,_=a*this.options.image.height/100,k=o/2-S/2,I=a/2-_/2;ne+=`<svg x="${k}" y="${I}" width="${S}" height="${_}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,ne+=this.options.image.svg+s,ne+="</svg>"}var U="";switch(t.container){case"svg":d&&(U+='<?xml version="1.0" standalone="yes"?>'+s),U+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,U+=m+E+g,U+=ne,U+="</svg>";break;case"svg-viewbox":d&&(U+='<?xml version="1.0" standalone="yes"?>'+s),U+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,U+=m+E+g,U+=ne,U+="</svg>";break;case"g":U+='<g width="'+o+'" height="'+a+'">'+s,U+=m+E+g,U+=ne,U+="</g>";break;default:U+=(m+E+g+ne).replace(/^\s+/,"");break}return U};var j2=bd,F2=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.QRCode=void 0;const B2=De,$l=Ln,V2=F2(j2),H2=t=>{const[e,r]=(0,$l.useState)("");return(0,$l.useEffect)(()=>{var n,i;const s=new V2.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=H.Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,B2.h)("img",{src:e,alt:"QR Code"}):null};Zi.QRCode=H2;var Yi={},mc={};Object.defineProperty(mc,"__esModule",{value:!0});mc.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var W2=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.Spinner=void 0;const Jn=De,z2=W2(mc),U2=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Jn.h)("div",{class:"-cbwsdk-spinner"},(0,Jn.h)("style",null,z2.default),(0,Jn.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Jn.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Yi.Spinner=U2;var vc={};Object.defineProperty(vc,"__esModule",{value:!0});vc.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Ur=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ht,"__esModule",{value:!0});ht.CoinbaseAppSteps=ht.CoinbaseWalletSteps=ht.ConnectItem=ht.ConnectContent=void 0;const We=Ur(qi),L=De,Pl=Ln,q2=R,G2=$r,J2=Gi,Q2=Ur(dc),Z2=Ur(pc),md=Ji,Y2=Ur(gc),K2=Ur(bc),X2=Qi,eS=Zi,tS=Yi,rS=Ur(vc),Dl={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:Z2.default,steps:yd},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:Q2.default,steps:_d}},nS=t=>{switch(t){case"coinbase-app":return Y2.default;case"coinbase-wallet-app":default:return K2.default}},ba=t=>t==="light"?"#FFFFFF":"#0A0B0D";function iS(t){const{theme:e}=t,[r,n]=(0,Pl.useState)("coinbase-wallet-app"),i=(0,Pl.useCallback)(u=>{n(u)},[]),s=(0,q2.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=Dl[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,L.h)("div",{"data-testid":"connect-content",class:(0,We.default)("-cbwsdk-connect-content",e)},(0,L.h)("style",null,rS.default),(0,L.h)("div",{class:"-cbwsdk-connect-content-header"},(0,L.h)("h2",{class:(0,We.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,L.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,L.h)(J2.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,L.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,L.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,L.h)("div",null,Object.entries(Dl).map(([u,h])=>(0,L.h)(vd,{key:u,title:h.title,description:h.description,icon:h.icon,selected:r===u,onClick:()=>i(u),theme:e}))),c&&(0,L.h)("div",{class:(0,We.default)("-cbwsdk-connect-content-update-app",e)},"Dont see a ",(0,L.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,L.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,L.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,L.h)(eS.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:nS(r),width:25,height:25}}),(0,L.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:G2.LIB_VERSION}),(0,L.h)("input",{type:"hidden",value:s})),(0,L.h)(a,{theme:e}),!t.isConnected&&(0,L.h)("div",{"data-testid":"connecting-spinner",class:(0,We.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,L.h)(tS.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,L.h)("p",null,"Connecting...")))))}ht.ConnectContent=iS;function vd({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,L.h)("div",{onClick:s,class:(0,We.default)("-cbwsdk-connect-item",i,{selected:n})},(0,L.h)("div",null,(0,L.h)("img",{src:r,alt:t})),(0,L.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,L.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,L.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}ht.ConnectItem=vd;function yd({theme:t}){return(0,L.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,L.h)("li",{class:(0,We.default)("-cbwsdk-wallet-steps-item",t)},(0,L.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,L.h)("li",{class:(0,We.default)("-cbwsdk-wallet-steps-item",t)},(0,L.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,L.h)("span",null,"Tap ",(0,L.h)("strong",null,"Scan")," "),(0,L.h)("span",{class:(0,We.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,L.h)(md.QRCodeIcon,{fill:ba(t)})))))}ht.CoinbaseWalletSteps=yd;function _d({theme:t}){return(0,L.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,L.h)("li",{class:(0,We.default)("-cbwsdk-wallet-steps-item",t)},(0,L.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,L.h)("li",{class:(0,We.default)("-cbwsdk-wallet-steps-item",t)},(0,L.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,L.h)("span",null,"Tap ",(0,L.h)("strong",null,"More")),(0,L.h)("span",{class:(0,We.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,L.h)(X2.StatusDotIcon,{fill:ba(t)})),(0,L.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,L.h)("strong",null,"Scan")),(0,L.h)("span",{class:(0,We.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,L.h)(md.QRCodeIcon,{fill:ba(t)})))))}ht.CoinbaseAppSteps=_d;var Ki={},Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.ArrowLeftIcon=void 0;const jl=De;function sS(t){return(0,jl.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,jl.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Xi.ArrowLeftIcon=sS;var es={};Object.defineProperty(es,"__esModule",{value:!0});es.LaptopIcon=void 0;const Fo=De;function oS(t){return(0,Fo.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Fo.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,Fo.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}es.LaptopIcon=oS;var ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.SafeIcon=void 0;const Fl=De;function aS(t){return(0,Fl.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Fl.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}ts.SafeIcon=aS;var yc={};Object.defineProperty(yc,"__esModule",{value:!0});yc.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var wd=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.TryExtensionContent=void 0;const Ft=wd(qi),fe=De,Bo=Ln,cS=Xi,uS=es,lS=ts,hS=wd(yc);function fS({theme:t}){const[e,r]=(0,Bo.useState)(!1),n=(0,Bo.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Bo.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,fe.h)("div",{class:(0,Ft.default)("-cbwsdk-try-extension",t)},(0,fe.h)("style",null,hS.default),(0,fe.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,fe.h)("h3",{class:(0,Ft.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,fe.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,fe.h)("button",{class:(0,Ft.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,fe.h)("div",null,!e&&(0,fe.h)(cS.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,fe.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,fe.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,fe.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,fe.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,fe.h)("span",{class:(0,Ft.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,fe.h)(uS.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,fe.h)("div",{class:(0,Ft.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,fe.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,fe.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,fe.h)("span",{class:(0,Ft.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,fe.h)(lS.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,fe.h)("div",{class:(0,Ft.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Ki.TryExtensionContent=fS;var _c={};Object.defineProperty(_c,"__esModule",{value:!0});_c.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var Sd=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.ConnectDialog=void 0;const Vo=Sd(qi),Bt=De,Ho=Ln,dS=ht,pS=Ki,gS=Sd(_c),bS=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,Ho.useState)(!e),[s,o]=(0,Ho.useState)(!e);(0,Ho.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,Bt.h)("div",{class:(0,Vo.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,Bt.h)("style",null,gS.default),(0,Bt.h)("div",{class:(0,Vo.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,Bt.h)("div",{class:"-cbwsdk-connect-dialog"},(0,Bt.h)("div",{class:(0,Vo.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,Bt.h)(dS.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,Bt.h)(pS.TryExtensionContent,{theme:a}))))};Ui.ConnectDialog=bS;Object.defineProperty(Vi,"__esModule",{value:!0});Vi.LinkFlow=void 0;const Wo=De,Bl=zi,mS=Ui;class vS{constructor(e){this.extensionUI$=new Bl.BehaviorSubject({}),this.subscriptions=new Bl.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,Wo.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,Wo.render)((0,Wo.h)(mS.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Vi.LinkFlow=vS;var Ed={},wc={};Object.defineProperty(wc,"__esModule",{value:!0});wc.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=A&&A.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(qi),n=De,i=Ln,s=e(wc),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(l){switch(l){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(f){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=f.darkMode}attach(f){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",f.appendChild(this.root),this.render()}presentItem(f){const d=this.nextItemKey++;return this.items.set(d,f),this.render(),()=>{this.items.delete(d),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([f,d])=>(0,n.h)(t.SnackbarInstance,Object.assign({},d,{key:f}))))),this.root)}}t.Snackbar=c;const u=l=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},l.children));t.SnackbarContainer=u;const h=({autoExpand:l,message:f,menuItems:d,appSrc:p})=>{const[m,E]=(0,i.useState)(!0),[g,v]=(0,i.useState)(l??!1);(0,i.useEffect)(()=>{const C=[window.setTimeout(()=>{E(!1)},1),window.setTimeout(()=>{v(!0)},1e4)];return()=>{C.forEach(window.clearTimeout)}});const w=()=>{v(!g)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",m&&"-cbwsdk-snackbar-instance-hidden",g&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:w},(0,n.h)("img",{src:a(p),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},f),(0,n.h)("div",{class:"-gear-container"},!g&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),d&&d.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},d.map((C,y)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",C.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:C.onClick,key:y},(0,n.h)("svg",{width:C.svgWidth,height:C.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":C.defaultFillRule,"clip-rule":C.defaultClipRule,d:C.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",C.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},C.info)))))};t.SnackbarInstance=h})(Ed);var rs={},Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var yS=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rs,"__esModule",{value:!0});rs.injectCssReset=void 0;const _S=yS(Sc);function wS(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(_S.default)),document.documentElement.appendChild(t)}rs.injectCssReset=wS;Object.defineProperty(Bi,"__esModule",{value:!0});Bi.WalletSDKUI=void 0;const SS=Vi,ES=Ed,CS=rs;class IS{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new ES.Snackbar({darkMode:e.darkMode}),this.linkFlow=new SS.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,CS.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Bi.WalletSDKUI=IS;var ns={},is={};Object.defineProperty(is,"__esModule",{value:!0});var pr;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(pr||(pr={}));function Cd(t,e,r){if(!r||typeof r.value!==pr.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:pr.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:pr.boolTrue,writable:pr.boolTrue}),n}}}is.bind=Cd;is.default=Cd;function Id(t){return function(r){return r.lift(new xS(t))}}var xS=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new kS(e,this.durationSelector))},t}(),kS=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=le(n,new ce(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(ue);function RS(t,e){return e===void 0&&(e=Ae),Id(function(){return sd(t,e)})}function MS(t){return function(r){return r.lift(new AS(t))}}var AS=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new TS(e,this.closingNotifier))},t}(),TS=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(le(n,new ce(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(ue);function NS(t,e){return e===void 0&&(e=null),function(n){return n.lift(new OS(t,e))}}var OS=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=LS:this.subscriberClass=$S}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),LS=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(T),$S=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(r),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(T);function PS(t){var e=arguments.length,r=Ae;Pe(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new DS(t,n,i,r))}}var DS=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new FS(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),jS=function(){function t(){this.buffer=[]}return t}(),FS=function(t){b(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(Vl,n,u))}else{var h={subscriber:a,context:c},l={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(xd,n,h)),a.add(o.schedule(BS,i,l))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(Vl,i,s))}},e.prototype.openContext=function(){var r=new jS;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(T);function Vl(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function BS(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(xd,r,{subscriber:n,context:s})),o.schedule(t,e))}function xd(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function VS(t,e){return function(n){return n.lift(new HS(t,e))}}var HS=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new WS(e,this.openings,this.closingSelector))},t}(),WS=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(_t(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new ae,o={buffer:i,subscription:s};n.push(o);var a=_t(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(sr);function zS(t){return function(e){return e.lift(new US(t))}}var US=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new qS(e,this.closingSelector))},t}(),qS=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new ae,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(le(i,new ce(this))),this.subscribing=!1},e}(ue);function GS(t){return function(r){var n=new JS(t),i=r.lift(n);return n.caught=i}}var JS=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new QS(e,this.selector,this.caught))},t}(),QS=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new ce(this);this.add(i);var s=le(n,i);s!==i&&this.add(s)}},e}(ue);function ZS(t){return function(e){return e.lift(new cc(t))}}function YS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Me(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(St([n].concat(t)),new cc(r))}}function KS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(dn.apply(void 0,[r].concat(t)))}}function kd(t,e){return Xt(t,e,1)}function XS(t,e){return kd(function(){return t},e)}function eE(t){return function(e){return e.lift(new tE(t,e))}}var tE=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new rE(e,this.predicate,this.source))},t}(),rE=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(T);function nE(t){return function(e){return e.lift(new iE(t))}}var iE=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new sE(e,this.durationSelector))},t}(),sE=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=le(n,new ce(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(ue);function oE(t,e){return e===void 0&&(e=Ae),function(r){return r.lift(new aE(t,e))}}var aE=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new cE(e,this.dueTime,this.scheduler))},t}(),cE=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(uE,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(T);function uE(t){t.debouncedNext()}function $n(t){return t===void 0&&(t=null),function(e){return e.lift(new lE(t))}}var lE=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new hE(e,this.defaultValue))},t}(),hE=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(T);function Rd(t){return t instanceof Date&&!isNaN(+t)}function fE(t,e){e===void 0&&(e=Ae);var r=Rd(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new dE(n,e))}}var dE=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new pE(e,this.delay,this.scheduler))},t}(),pE=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new gE(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(yt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(yt.createComplete()),this.unsubscribe()},e}(T),gE=function(){function t(e,r){this.time=e,this.notification=r}return t}();function bE(t,e){return e?function(r){return new vE(r,e).lift(new Hl(t))}:function(r){return r.lift(new Hl(t))}}var Hl=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new mE(e,this.delayDurationSelector))},t}(),mE=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=_t(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(sr),vE=function(t){b(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new yE(r,this.source))},e}(W),yE=function(t){b(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(T);function _E(){return function(e){return e.lift(new wE)}}var wE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new SE(e))},t}(),SE=function(t){b(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(T);function EE(t,e){return function(r){return r.lift(new CE(t,e))}}var CE=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new IE(e,this.keySelector,this.flushes))},t}(),IE=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(le(i,new ce(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(ue);function Md(t,e){return function(r){return r.lift(new xE(t,e))}}var xE=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new kE(e,this.compare,this.keySelector))},t}(),kE=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(T);function RE(t,e){return Md(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function ss(t){return t===void 0&&(t=TE),function(e){return e.lift(new ME(t))}}var ME=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new AE(e,this.errorFactory))},t}(),AE=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(T);function TE(){return new On}function Ec(t){return function(e){return t===0?Wr():e.lift(new NE(t))}}var NE=function(){function t(e){if(this.total=e,this.total<0)throw new Mr}return t.prototype.call=function(e,r){return r.subscribe(new OE(e,this.total))},t}(),OE=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(T);function LE(t,e){if(t<0)throw new Mr;var r=arguments.length>=2;return function(n){return n.pipe(Pt(function(i,s){return s===t}),Ec(1),r?$n(e):ss(function(){return new Mr}))}}function $E(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return dn(r,Wi.apply(void 0,t))}}function PE(t,e){return function(r){return r.lift(new DE(t,e,r))}}var DE=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new jE(e,this.predicate,this.thisArg,this.source))},t}(),jE=function(t){b(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(T);function FE(){return function(t){return t.lift(new BE)}}var BE=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new VE(e))},t}(),VE=function(t){b(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(le(r,new ce(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(ue);function Ad(t,e){return e?function(r){return r.pipe(Ad(function(n,i){return St(t(n,i)).pipe(qe(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new HE(t))}}var HE=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new WE(e,this.project))},t}(),WE=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new ce(this),i=this.destination;i.add(n);var s=le(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(ue);function zE(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new UE(t,e,r))}}var UE=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new qE(e,this.project,this.concurrent,this.scheduler))},t}(),qE=function(t){b(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(le(r,new ce(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(ue);function GE(t){return function(e){return e.lift(new JE(t))}}var JE=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new QE(e,this.callback))},t}(),QE=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new ae(n)),i}return e}(T);function ZE(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Td(t,r,!1,e))}}var Td=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new YE(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),YE=function(t){b(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(T);function KE(t,e){return function(r){return r.lift(new Td(t,r,!0,e))}}function XE(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Pt(function(i,s){return t(i,s,n)}):Lt,Ec(1),r?$n(e):ss(function(){return new On}))}}function e3(){return function(e){return e.lift(new t3)}}var t3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new r3(e))},t}(),r3=function(t){b(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(T);function n3(){return function(t){return t.lift(new i3)}}var i3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new s3(e))},t}(),s3=function(t){b(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(T);function fi(t){return function(r){return t===0?Wr():r.lift(new o3(t))}}var o3=function(){function t(e){if(this.total=e,this.total<0)throw new Mr}return t.prototype.call=function(e,r){return r.subscribe(new a3(e,this.total))},t}(),a3=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(T);function c3(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Pt(function(i,s){return t(i,s,n)}):Lt,fi(1),r?$n(e):ss(function(){return new On}))}}function u3(t){return function(e){return e.lift(new l3(t))}}var l3=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new h3(e,this.value))},t}(),h3=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(T);function f3(){return function(e){return e.lift(new d3)}}var d3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new p3(e))},t}(),p3=function(t){b(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(yt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(yt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(yt.createComplete()),r.complete()},e}(T);function di(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new g3(t,e,r))}}var g3=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new b3(e,this.accumulator,this.seed,this.hasSeed))},t}(),b3=function(t){b(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(T);function os(t,e){return arguments.length>=2?function(n){return ua(di(t,e),fi(1),$n(e))(n)}:function(n){return ua(di(function(i,s,o){return t(i,s,o+1)}),fi(1))(n)}}function m3(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return os(e)}function v3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(td.apply(void 0,[r].concat(t)))}}function y3(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Xt(function(){return t},e,r):(typeof e=="number"&&(r=e),Xt(function(){return t},r))}function _3(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new w3(t,e,r))}}var w3=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new S3(e,this.accumulator,this.seed,this.concurrent))},t}(),S3=function(t){b(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new ce(this),i=this.destination;i.add(n);var s=le(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(ue);function E3(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return os(e)}function er(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new C3(i,e));var s=Object.create(n,tw);return s.source=n,s.subjectFactory=i,s}}var C3=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function I3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Me(t[0])&&(t=t[0]),function(r){return r.lift(new x3(t))}}var x3=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new k3(e,this.nextSources))},t}(),k3=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new ce(this),i=this.destination;i.add(n);var s=le(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(ue);function R3(){return function(t){return t.lift(new M3)}}var M3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new A3(e))},t}(),A3=function(t){b(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(T);function T3(t,e){return function(r){return[Pt(t,e)(r),Pt(nd(t,e))(r)]}}function N3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return qe(O3(t,r))(n)}}function O3(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i?.[t[s]];if(o!==void 0)i=o;else return}return i};return r}function L3(t){return t?er(function(){return new ve},t):er(new ve)}function $3(t){return function(e){return er(new Pf(t))(e)}}function P3(){return function(t){return er(new zr)(t)}}function D3(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new ac(t,e,n);return function(o){return er(function(){return s},i)(o)}}function j3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Me(t[0])&&(t=t[0]),n.lift.call(id.apply(void 0,[n].concat(t)))}}function F3(t){return t===void 0&&(t=-1),function(e){return t===0?Wr():t<0?e.lift(new Wl(-1,e)):e.lift(new Wl(t-1,e))}}var Wl=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new B3(e,this.count,this.source))},t}(),B3=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(T);function V3(t){return function(e){return e.lift(new H3(t))}}var H3=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new W3(e,this.notifier,r))},t}(),W3=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new ve;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=le(r,new ce(this))},e}(ue);function z3(t){return t===void 0&&(t=-1),function(e){return e.lift(new U3(t,e))}}var U3=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new q3(e,this.count,this.source))},t}(),q3=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(T);function G3(t){return function(e){return e.lift(new J3(t,e))}}var J3=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Q3(e,this.notifier,this.source))},t}(),Q3=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new ve;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=le(i,new ce(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(ue);function Z3(t){return function(e){return e.lift(new Y3(t))}}var Y3=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new K3(e),i=r.subscribe(n);return i.add(le(this.notifier,new ce(n))),i},t}(),K3=function(t){b(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(ue);function X3(t,e){return e===void 0&&(e=Ae),function(r){return r.lift(new e4(t,e))}}var e4=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new t4(e,this.period,this.scheduler))},t}(),t4=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(r4,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(T);function r4(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function n4(t,e){return function(r){return r.lift(new i4(t,e))}}var i4=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new s4(e,this.compareTo,this.comparator))},t}(),s4=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new o4(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(T),o4=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(T);function a4(){return new ve}function c4(){return function(t){return ic()(er(a4)(t))}}function u4(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(l4(n))}}function l4(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,u,h=!1,l=!1;return function(d){c++;var p;!a||h?(h=!1,a=new ac(r,i,o),p=a.subscribe(this),u=d.subscribe({next:function(m){a.next(m)},error:function(m){h=!0,a.error(m)},complete:function(){l=!0,u=void 0,a.complete()}}),l&&(u=void 0)):p=a.subscribe(this),this.add(function(){c--,p.unsubscribe(),p=void 0,u&&!l&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function h4(t){return function(e){return e.lift(new f4(t,e))}}var f4=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new d4(e,this.predicate,this.source))},t}(),d4=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new On)},e}(T);function p4(t){return function(e){return e.lift(new g4(t))}}var g4=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new b4(e,this.total))},t}(),b4=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(T);function m4(t){return function(e){return e.lift(new v4(t))}}var v4=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new Mr}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new T(e)):r.subscribe(new y4(e,this._skipCount))},t}(),y4=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(T);function _4(t){return function(e){return e.lift(new w4(t))}}var w4=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new S4(e,this.notifier))},t}(),S4=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new ce(i);i.add(s),i.innerSubscription=s;var o=le(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(ue);function E4(t){return function(e){return e.lift(new C4(t))}}var C4=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new I4(e,this.predicate))},t}(),I4=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=!!n}catch(i){this.destination.error(i)}},e}(T);function x4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Pe(r)?(t.pop(),function(n){return dn(t,n,r)}):function(n){return dn(t,n)}}var k4=function(t){b(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Xn);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!Ar(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Xn),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Xn),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(W);function R4(t,e){return e===void 0&&(e=0),function(n){return n.lift(new M4(t,e))}}var M4=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new k4(r,this.delay,this.scheduler).subscribe(e)},t}();function pn(t,e){return typeof e=="function"?function(r){return r.pipe(pn(function(n,i){return St(t(n,i)).pipe(qe(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new A4(t))}}var A4=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new T4(e,this.project))},t}(),T4=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new ce(this),s=this.destination;s.add(i),this.innerSubscription=le(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(ue);function N4(){return pn(Lt)}function O4(t,e){return e?pn(function(){return t},e):pn(function(){return t})}function L4(t){return function(e){return e.lift(new $4(t))}}var $4=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new P4(e),i=le(this.notifier,new ce(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),P4=function(t){b(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(ue);function D4(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new j4(t,e))}}var j4=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new F4(e,this.predicate,this.inclusive))},t}(),F4=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;n?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(T);function B4(t,e,r){return function(i){return i.lift(new V4(t,e,r))}}var V4=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new H4(e,this.nextOrObserver,this.error,this.complete))},t}(),H4=function(t){b(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=ot,o._tapError=ot,o._tapComplete=ot,o._tapError=i||ot,o._tapComplete=s||ot,kr(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||ot,o._tapError=n.error||ot,o._tapComplete=n.complete||ot),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(T),Nd={leading:!0,trailing:!1};function W4(t,e){return e===void 0&&(e=Nd),function(r){return r.lift(new z4(t,!!e.leading,!!e.trailing))}}var z4=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new U4(e,this.durationSelector,this.leading,this.trailing))},t}(),U4=function(t){b(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=le(n,new ce(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(ue);function q4(t,e,r){return e===void 0&&(e=Ae),r===void 0&&(r=Nd),function(n){return n.lift(new G4(t,e,r.leading,r.trailing))}}var G4=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new J4(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),J4=function(t){b(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Q4,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(T);function Q4(t){var e=t.subscriber;e.clearThrottle()}function Z4(t){return t===void 0&&(t=Ae),function(e){return lc(function(){return e.pipe(di(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),qe(function(r){var n=r.current,i=r.last,s=r.value;return new Y4(s,n-i)}))})}}var Y4=function(){function t(e,r){this.value=e,this.interval=r}return t}();function Od(t,e,r){return r===void 0&&(r=Ae),function(n){var i=Rd(t),s=i?+t-r.now():Math.abs(t);return n.lift(new K4(s,i,e,r))}}var K4=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new X4(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),X4=function(t){b(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(le(n,new ce(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(ue);function e5(t,e){return e===void 0&&(e=Ae),Od(t,oc(new Uf),e)}function t5(t){return t===void 0&&(t=Ae),qe(function(e){return new r5(e,t.now())})}var r5=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function n5(t,e,r){return r===0?[e]:(t.push(e),t)}function i5(){return os(n5,[])}function s5(t){return function(r){return r.lift(new o5(t))}}var o5=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new a5(e),i=r.subscribe(n);return i.closed||n.add(le(this.windowBoundaries,new ce(n))),i},t}(),a5=function(t){b(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new ve,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new ve;n.next(i)},e}(ue);function c5(t,e){return e===void 0&&(e=0),function(n){return n.lift(new u5(t,e))}}var u5=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new l5(e,this.windowSize,this.startWindowEvery))},t}(),l5=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new ve],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var u=this.count-s+1;if(u>=0&&u%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var h=new ve;o.push(h),i.next(h)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(T);function h5(t){var e=Ae,r=null,n=Number.POSITIVE_INFINITY;return Pe(arguments[3])&&(e=arguments[3]),Pe(arguments[2])?e=arguments[2]:Ar(arguments[2])&&(n=Number(arguments[2])),Pe(arguments[1])?e=arguments[1]:Ar(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new f5(t,r,n,e))}}var f5=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new p5(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),d5=function(t){b(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(ve),p5=function(t){b(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},h={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Ld,n,u)),a.add(o.schedule(b5,i,h))}else{var l={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(g5,n,l))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new d5;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(T);function g5(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function b5(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(Ld,e,c),o.add(a.subscription),o.schedule(t,i)}function Ld(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function m5(t,e){return function(r){return r.lift(new v5(t,e))}}var v5=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new y5(e,this.openings,this.closingSelector))},t}(),y5=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=_t(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(d){return this.error(d)}var u=new ve,h=new ae,l={window:u,subscription:h};this.contexts.push(l);var f=_t(this,a,l);f.closed?this.closeWindow(this.contexts.length-1):(f.context=l,h.add(f)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(sr);function _5(t){return function(r){return r.lift(new w5(t))}}var w5=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new S5(e,this.closingSelector))},t}(),S5=function(t){b(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new ve;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=_t(this,s))},e}(sr);function E5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new C5(i,n))}}var C5=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new I5(e,this.observables,this.project))},t}(),I5=function(t){b(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(_t(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(sr);function x5(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(od.apply(void 0,[n].concat(t)))}}function k5(t){return function(e){return e.lift(new ad(t))}}const R5=Object.freeze(Object.defineProperty({__proto__:null,audit:Id,auditTime:RS,buffer:MS,bufferCount:NS,bufferTime:PS,bufferToggle:VS,bufferWhen:zS,catchError:GS,combineAll:ZS,combineLatest:YS,concat:KS,concatAll:Yf,concatMap:kd,concatMapTo:XS,count:eE,debounce:nE,debounceTime:oE,defaultIfEmpty:$n,delay:fE,delayWhen:bE,dematerialize:_E,distinct:EE,distinctUntilChanged:Md,distinctUntilKeyChanged:RE,elementAt:LE,endWith:$E,every:PE,exhaust:FE,exhaustMap:Ad,expand:zE,filter:Pt,finalize:GE,find:ZE,findIndex:KE,first:XE,flatMap:Qw,groupBy:nw,ignoreElements:e3,isEmpty:n3,last:c3,map:qe,mapTo:u3,materialize:f3,max:m3,merge:v3,mergeAll:uc,mergeMap:Xt,mergeMapTo:y3,mergeScan:_3,min:E3,multicast:er,observeOn:dw,onErrorResumeNext:I3,pairwise:R3,partition:T3,pluck:N3,publish:L3,publishBehavior:$3,publishLast:P3,publishReplay:D3,race:j3,reduce:os,refCount:ic,repeat:F3,repeatWhen:V3,retry:z3,retryWhen:G3,sample:Z3,sampleTime:X3,scan:di,sequenceEqual:n4,share:c4,shareReplay:u4,single:h4,skip:p4,skipLast:m4,skipUntil:_4,skipWhile:E4,startWith:x4,subscribeOn:R4,switchAll:N4,switchMap:pn,switchMapTo:O4,take:Ec,takeLast:fi,takeUntil:L4,takeWhile:D4,tap:B4,throttle:W4,throttleTime:q4,throwIfEmpty:ss,timeInterval:Z4,timeout:e5,timeoutWith:Od,timestamp:t5,toArray:i5,window:s5,windowCount:c5,windowTime:h5,windowToggle:m5,windowWhen:_5,withLatestFrom:E5,zip:x5,zipAll:k5},Symbol.toStringTag,{value:"Module"})),Cc=Dt(R5);var as={},He={};Object.defineProperty(He,"__esModule",{value:!0});He.ClientMessagePublishEvent=He.ClientMessageSetSessionConfig=He.ClientMessageGetSessionConfig=He.ClientMessageIsLinked=He.ClientMessageHostSession=void 0;function M5(t){return Object.assign({type:"HostSession"},t)}He.ClientMessageHostSession=M5;function A5(t){return Object.assign({type:"IsLinked"},t)}He.ClientMessageIsLinked=A5;function T5(t){return Object.assign({type:"GetSessionConfig"},t)}He.ClientMessageGetSessionConfig=T5;function N5(t){return Object.assign({type:"SetSessionConfig"},t)}He.ClientMessageSetSessionConfig=N5;function O5(t){return Object.assign({type:"PublishEvent"},t)}He.ClientMessagePublishEvent=O5;var $d={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=zi,r=Cc;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})($d);var cs={};Object.defineProperty(cs,"__esModule",{value:!0});cs.isServerMessageFail=void 0;function L5(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}cs.isServerMessageFail=L5;Object.defineProperty(as,"__esModule",{value:!0});as.WalletSDKConnection=void 0;const Je=zi,q=Cc,Zr=Pr,lr=bn,Yr=He,Kr=Lr,Qn=$d,zo=cs,zl=1e4,$5=6e4;class P5{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Je.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,lr.IntNumber)(1),this.connectedSubject=new Je.BehaviorSubject(!1),this.linkedSubject=new Je.BehaviorSubject(!1),this.sessionConfigSubject=new Je.ReplaySubject(1);const o=new Qn.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,q.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(Kr.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:Zr.Session.hash(e)})}),(0,q.skip)(1),(0,q.filter)(a=>a===Qn.ConnectionState.DISCONNECTED&&!this.destroyed),(0,q.delay)(5e3),(0,q.filter)(a=>!this.destroyed),(0,q.flatMap)(a=>o.connect()),(0,q.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,q.skip)(2),(0,q.switchMap)(a=>(0,Je.iif)(()=>a===Qn.ConnectionState.CONNECTED,this.authenticate().pipe((0,q.tap)(c=>this.sendIsLinked()),(0,q.tap)(c=>this.sendGetSessionConfig()),(0,q.map)(c=>!0)),(0,Je.of)(!1))),(0,q.distinctUntilChanged)(),(0,q.catchError)(a=>(0,Je.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,q.skip)(1),(0,q.switchMap)(a=>(0,Je.iif)(()=>a===Qn.ConnectionState.CONNECTED,(0,Je.timer)(0,zl)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,q.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,q.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Kr.EVENTS.LINKED,{sessionIdHash:Zr.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,q.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(Kr.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Zr.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Kr.EVENTS.STARTED_CONNECTING,{sessionIdHash:Zr.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Kr.EVENTS.DISCONNECTED,{sessionIdHash:Zr.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,q.filter)(e=>e),(0,q.take)(1),(0,q.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,q.filter)(e=>e),(0,q.take)(1),(0,q.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,q.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,q.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Yr.ClientMessageSetSessionConfig)({id:(0,lr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,q.flatMap)(i=>this.makeRequest(n)),(0,q.map)(i=>{if((0,zo.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Yr.ClientMessagePublishEvent)({id:(0,lr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,q.flatMap)(s=>this.makeRequest(i)),(0,q.map)(s=>{if((0,zo.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>zl*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=$5){const n=e.id;try{this.sendData(e)}catch(i){return(0,Je.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,q.timeoutWith)(r,(0,Je.throwError)(new Error(`request ${n} timed out`))),(0,q.filter)(i=>i.id===n),(0,q.take)(1))}authenticate(){const e=(0,Yr.ClientMessageHostSession)({id:(0,lr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,q.map)(r=>{if((0,zo.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Yr.ClientMessageIsLinked)({id:(0,lr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Yr.ClientMessageGetSessionConfig)({id:(0,lr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}as.WalletSDKConnection=P5;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.decrypt=Nr.encrypt=void 0;const pi=R;async function D5(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,pi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),h=new Uint8Array(c),l=new Uint8Array([...r,...u,...h]);return(0,pi.uint8ArrayToHex)(l)}Nr.encrypt=D5;function j5(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,pi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,pi.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),u=new Uint8Array([...c,...a]),h={name:"AES-GCM",iv:new Uint8Array(o)};try{const l=await window.crypto.subtle.decrypt(h,i,u),f=new TextDecoder;r(f.decode(l))}catch(l){n(l)}})()})}Nr.decrypt=j5;var us={},ls={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(ls);Object.defineProperty(us,"__esModule",{value:!0});us.Web3RequestCanceledMessage=void 0;const F5=ls;function B5(t){return{type:F5.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}us.Web3RequestCanceledMessage=B5;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.Web3RequestMessage=void 0;const V5=ls;function H5(t){return Object.assign({type:V5.RelayMessageType.WEB3_REQUEST},t)}hs.Web3RequestMessage=H5;var Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.isWeb3ResponseMessage=Or.Web3ResponseMessage=void 0;const Pd=ls;function W5(t){return Object.assign({type:Pd.RelayMessageType.WEB3_RESPONSE},t)}Or.Web3ResponseMessage=W5;function z5(t){return t&&t.type===Pd.RelayMessageType.WEB3_RESPONSE}Or.isWeb3ResponseMessage=z5;var U5=A&&A.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),q5=A&&A.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Dd=A&&A.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},G5=A&&A.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&U5(e,t,r);return q5(e,t),e},J5=A&&A.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ns,"__esModule",{value:!0});ns.WalletSDKRelay=void 0;const jd=J5(is),Vt=zi,de=Cc,Ce=Lr,Q5=as,hr=gn,Z5=bn,re=R,It=G5(Nr),xt=Pr,Zn=Ke,ye=_i,Y5=us,K5=hs,Be=te,Ne=Or;class Ye extends Zn.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Vt.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Vt.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=xt.Session.load(this.storage)||new xt.Session(this.storage).save(),r=new Q5.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ce.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,de.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,de.skip)(1),(0,de.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Zn.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Ce.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,de.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Ce.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,de.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,de.mergeMap)(i=>It.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Zn.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ce.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,de.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,de.mergeMap)(i=>It.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Zn.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ce.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,de.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,de.mergeMap)(i=>(0,Vt.zip)(It.decrypt(i.metadata.ChainId,e.secret),It.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,de.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ce.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,de.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,de.mergeMap)(i=>It.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Ye.accountRequestCallbackIds.size>0&&(Array.from(Ye.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,Ne.Web3ResponseMessage)({id:s,response:(0,Be.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Ye.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ce.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,de.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,de.mergeMap)(i=>It.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Ce.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,de.timeout)(1e3),(0,de.catchError)(e=>(0,Vt.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Ce.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Ce.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=xt.Session.load(this.storage);if(o?.id===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Ce.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:xt.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new Vt.Subscription;const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Ce.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:ye.Web3Method.signEthereumMessage,params:{message:(0,re.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:ye.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,re.hexStringFromBuffer)(e,!0),signature:(0,re.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:ye.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,re.bigIntStringFromBN)(e.weiValue),data:(0,re.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,re.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,re.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,re.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,re.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:ye.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,re.bigIntStringFromBN)(e.weiValue),data:(0,re.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,re.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,re.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,re.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,re.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:ye.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,re.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:ye.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,re.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:ye.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,re.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r?.()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r?.(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,K5.Web3RequestMessage)({id:e,request:r}),s=xt.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Ce.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?xt.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Ce.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?xt.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,Ne.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,Y5.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new Vt.Observable(s=>{It.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,de.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,Vt.from)(It.decrypt(e.data,this.session.secret)).pipe((0,de.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,Ne.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Ce.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Ce.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Be.isRequestEthereumAccountsResponse)(n)){Ye.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Ye.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n?.message)!==null&&s!==void 0?s:(0,hr.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,Ne.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:ye.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,re.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window?.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,re.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=h=>{this.handleWeb3ResponseMessage((0,Ne.Web3ResponseMessage)({id:r,response:(0,Be.RequestEthereumAccountsResponse)(h)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:u})}else{const u=hr.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(u)})}Ye.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:ye.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,re.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,h=>{if(h.errorMessage)return a(new Error(h.errorMessage));o(h)});const c=h=>{this.handleWeb3ResponseMessage((0,Ne.Web3ResponseMessage)({id:n,response:(0,Be.SelectProviderResponse)(Z5.ProviderType.Unselected)}))},u=h=>{this.handleWeb3ResponseMessage((0,Ne.Web3ResponseMessage)({id:n,response:(0,Be.SelectProviderResponse)(h)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:ye.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const u=(0,re.randomBytesHex)(8),h=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c?.()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}));const l=new Promise((f,d)=>{this.relayEventManager.callbacks.set(u,E=>{if(c?.(),E.errorMessage)return d(new Error(E.errorMessage));f(E)});const p=E=>{this.handleWeb3ResponseMessage((0,Ne.Web3ResponseMessage)({id:u,response:(0,Be.WatchAssetReponse)(!1)}))},m=()=>{this.handleWeb3ResponseMessage((0,Ne.Web3ResponseMessage)({id:u,response:(0,Be.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:m,onCancel:p,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:h,promise:l}}addEthereumChain(e,r,n,i,s,o){const a={method:ye.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const u=(0,re.randomBytesHex)(8),h=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,f),c?.()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload})),{promise:new Promise((f,d)=>{this.relayEventManager.callbacks.set(u,E=>{if(c?.(),E.errorMessage)return d(new Error(E.errorMessage));f(E)});const p=E=>{this.handleWeb3ResponseMessage((0,Ne.Web3ResponseMessage)({id:u,response:(0,Be.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},m=E=>{this.handleWeb3ResponseMessage((0,Ne.Web3ResponseMessage)({id:u,response:(0,Be.AddEthereumChainResponse)({isApproved:!0,rpcUrl:E})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:p,onApprove:m,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:h}}switchEthereumChain(e,r){const n={method:ye.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,re.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,l=>{if((0,Be.isErrorResponse)(l)&&l.errorCode)return c(hr.standardErrors.provider.custom({code:l.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(l.errorMessage)return c(new Error(l.errorMessage));a(l)});const u=l=>{var f;if(l){const d=(f=(0,hr.getErrorCode)(l))!==null&&f!==void 0?f:hr.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,ye.Web3Method.switchEthereumChain,l instanceof Error?l:hr.standardErrors.provider.unsupportedChain(e),d)}else this.handleWeb3ResponseMessage((0,Ne.Web3ResponseMessage)({id:i,response:(0,Be.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},h=l=>{this.handleWeb3ResponseMessage((0,Ne.Web3ResponseMessage)({id:i,response:(0,Be.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:l})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:h,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return xt.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,Ne.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case ye.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case ye.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ye.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case ye.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Ye.accountRequestCallbackIds=new Set;Dd([jd.default],Ye.prototype,"resetAndReload",null);Dd([jd.default],Ye.prototype,"handleIncomingEvent",null);ns.WalletSDKRelay=Ye;var fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.WalletSDKRelayEventManager=void 0;const X5=R;class eC{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,X5.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}fs.WalletSDKRelayEventManager=eC;Object.defineProperty(cn,"__esModule",{value:!0});cn.CoinbaseWalletSDK=void 0;const tC=bi,rC=mi,nC=vi,iC=wr,sC=Bi,oC=ns,aC=fs,cC=R,Fd=$r;class ds{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||rC.LINK_API_URL;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new sC.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new nC.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",ds.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new aC.WalletSDKRelayEventManager,this._relay=new oC.WalletSDKRelay({linkAPIUrl:s,version:Fd.LIB_VERSION,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new iC.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,cC.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,tC.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}cn.CoinbaseWalletSDK=ds;ds.VERSION=Fd.LIB_VERSION;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=cn,r=wr;var n=cn;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=wr;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(ql);const uC=Ud(ql),vC=Object.freeze(Object.defineProperty({__proto__:null,default:uC},Symbol.toStringTag,{value:"Module"}));export{vC as i};
