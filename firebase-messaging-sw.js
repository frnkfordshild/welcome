"use strict";(()=>{var Fg=Object.create;var Sn=Object.defineProperty;var Ug=Object.getOwnPropertyDescriptor;var Bg=Object.getOwnPropertyNames;var jg=Object.getPrototypeOf,kg=Object.prototype.hasOwnProperty;var eu=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Ht=(t,e)=>()=>(t&&(e=t(t=0)),e);var L=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ge=(t,e)=>{for(var n in e)Sn(t,n,{get:e[n],enumerable:!0})},Dn=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Bg(e))!kg.call(t,i)&&i!==n&&Sn(t,i,{get:()=>e[i],enumerable:!(r=Ug(e,i))||r.enumerable});return t},Ae=(t,e,n)=>(Dn(t,e,"default"),n&&Dn(n,e,"default")),le=(t,e,n)=>(n=t!=null?Fg(jg(t)):{},Dn(e||!t||!t.__esModule?Sn(n,"default",{value:t,enumerable:!0}):n,t)),Me=t=>Dn(Sn({},"__esModule",{value:!0}),t);var qt=L((u3,ys)=>{"use strict";var Vt=typeof Reflect=="object"?Reflect:null,tu=Vt&&typeof Vt.apply=="function"?Vt.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},In;Vt&&typeof Vt.ownKeys=="function"?In=Vt.ownKeys:Object.getOwnPropertySymbols?In=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:In=function(e){return Object.getOwnPropertyNames(e)};function Kg(t){console&&console.warn&&console.warn(t)}var nu=Number.isNaN||function(e){return e!==e};function se(){se.init.call(this)}ys.exports=se;ys.exports.once=Vg;se.EventEmitter=se;se.prototype._events=void 0;se.prototype._eventsCount=0;se.prototype._maxListeners=void 0;var ru=10;function On(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(se,"defaultMaxListeners",{enumerable:!0,get:function(){return ru},set:function(t){if(typeof t!="number"||t<0||nu(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");ru=t}});se.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};se.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||nu(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function iu(t){return t._maxListeners===void 0?se.defaultMaxListeners:t._maxListeners}se.prototype.getMaxListeners=function(){return iu(this)};se.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(u===void 0)return!1;if(typeof u=="function")tu(u,this,n);else for(var c=u.length,f=uu(u,c),r=0;r<c;++r)tu(f[r],this,n);return!0};function su(t,e,n,r){var i,s,o;if(On(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=iu(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,Kg(a)}return t}se.prototype.addListener=function(e,n){return su(this,e,n,!1)};se.prototype.on=se.prototype.addListener;se.prototype.prependListener=function(e,n){return su(this,e,n,!0)};function zg(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ou(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=zg.bind(r);return i.listener=n,r.wrapFn=i,i}se.prototype.once=function(e,n){return On(n),this.on(e,ou(this,e,n)),this};se.prototype.prependOnceListener=function(e,n){return On(n),this.prependListener(e,ou(this,e,n)),this};se.prototype.removeListener=function(e,n){var r,i,s,o,a;if(On(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():$g(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};se.prototype.off=se.prototype.removeListener;se.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function au(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?Hg(i):uu(i,i.length)}se.prototype.listeners=function(e){return au(this,e,!0)};se.prototype.rawListeners=function(e){return au(this,e,!1)};se.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):cu.call(t,e)};se.prototype.listenerCount=cu;function cu(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}se.prototype.eventNames=function(){return this._eventsCount>0?In(this._events):[]};function uu(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function $g(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Hg(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function Vg(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}fu(t,e,s,{once:!0}),e!=="error"&&qg(t,i,{once:!0})})}function qg(t,e,n){typeof t.on=="function"&&fu(t,"error",e,n)}function fu(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var Cr={};ge(Cr,{__assign:()=>Is,__asyncDelegator:()=>Im,__asyncGenerator:()=>Sm,__asyncValues:()=>Om,__await:()=>Ar,__awaiter:()=>wm,__classPrivateFieldGet:()=>Rm,__classPrivateFieldSet:()=>Nm,__createBinding:()=>_m,__decorate:()=>mm,__exportStar:()=>Em,__extends:()=>pm,__generator:()=>vm,__importDefault:()=>Cm,__importStar:()=>Am,__makeTemplateObject:()=>Tm,__metadata:()=>bm,__param:()=>ym,__read:()=>xu,__rest:()=>gm,__spread:()=>xm,__spreadArrays:()=>Dm,__values:()=>Os});function pm(t,e){Ss(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function gm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mm(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function ym(t,e){return function(n,r){e(n,r,t)}}function bm(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function wm(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(l){o(l)}}function u(f){try{c(r.throw(f))}catch(l){o(l)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function vm(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(f){c=[6,f],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function _m(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Em(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Os(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xu(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function xm(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(xu(arguments[e]));return t}function Dm(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Ar(t){return this instanceof Ar?(this.v=t,this):new Ar(t)}function Sm(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(d){return new Promise(function(p,y){s.push([h,d,p,y])>1||a(h,d)})})}function a(h,d){try{u(r[h](d))}catch(p){l(s[0][3],p)}}function u(h){h.value instanceof Ar?Promise.resolve(h.value.v).then(c,f):l(s[0][2],h)}function c(h){a("next",h)}function f(h){a("throw",h)}function l(h,d){h(d),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Im(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Ar(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Om(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Os=="function"?Os(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Tm(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Am(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Cm(t){return t&&t.__esModule?t:{default:t}}function Rm(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Nm(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}var Ss,Is,Rr=Ht(()=>{Ss=function(t,e){return Ss=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Ss(t,e)};Is=function(){return Is=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Is.apply(this,arguments)}});var Pr={};ge(Pr,{__assign:()=>As,__asyncDelegator:()=>Vm,__asyncGenerator:()=>Hm,__asyncValues:()=>qm,__await:()=>Nr,__awaiter:()=>Bm,__classPrivateFieldGet:()=>Ym,__classPrivateFieldSet:()=>Xm,__createBinding:()=>km,__decorate:()=>Mm,__exportStar:()=>Km,__extends:()=>Pm,__generator:()=>jm,__importDefault:()=>Jm,__importStar:()=>Gm,__makeTemplateObject:()=>Wm,__metadata:()=>Um,__param:()=>Fm,__read:()=>Du,__rest:()=>Lm,__spread:()=>zm,__spreadArrays:()=>$m,__values:()=>Cs});function Pm(t,e){Ts(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Lm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Mm(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Fm(t,e){return function(n,r){e(n,r,t)}}function Um(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Bm(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(l){o(l)}}function u(f){try{c(r.throw(f))}catch(l){o(l)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function jm(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(f){c=[6,f],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function km(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Km(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Cs(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Du(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function zm(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Du(arguments[e]));return t}function $m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Nr(t){return this instanceof Nr?(this.v=t,this):new Nr(t)}function Hm(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(d){return new Promise(function(p,y){s.push([h,d,p,y])>1||a(h,d)})})}function a(h,d){try{u(r[h](d))}catch(p){l(s[0][3],p)}}function u(h){h.value instanceof Nr?Promise.resolve(h.value.v).then(c,f):l(s[0][2],h)}function c(h){a("next",h)}function f(h){a("throw",h)}function l(h,d){h(d),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Vm(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Nr(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function qm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Cs=="function"?Cs(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function Wm(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Gm(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Jm(t){return t&&t.__esModule?t:{default:t}}function Ym(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Xm(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}var Ts,As,Lr=Ht(()=>{Ts=function(t,e){return Ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Ts(t,e)};As=function(){return As=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},As.apply(this,arguments)}});var Su=L(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.delay=void 0;function Qm(t){return new Promise(e=>{setTimeout(()=>{e(!0)},t)})}Cn.delay=Qm});var Iu=L(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.ONE_THOUSAND=Wt.ONE_HUNDRED=void 0;Wt.ONE_HUNDRED=100;Wt.ONE_THOUSAND=1e3});var Ou=L(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.ONE_YEAR=R.FOUR_WEEKS=R.THREE_WEEKS=R.TWO_WEEKS=R.ONE_WEEK=R.THIRTY_DAYS=R.SEVEN_DAYS=R.FIVE_DAYS=R.THREE_DAYS=R.ONE_DAY=R.TWENTY_FOUR_HOURS=R.TWELVE_HOURS=R.SIX_HOURS=R.THREE_HOURS=R.ONE_HOUR=R.SIXTY_MINUTES=R.THIRTY_MINUTES=R.TEN_MINUTES=R.FIVE_MINUTES=R.ONE_MINUTE=R.SIXTY_SECONDS=R.THIRTY_SECONDS=R.TEN_SECONDS=R.FIVE_SECONDS=R.ONE_SECOND=void 0;R.ONE_SECOND=1;R.FIVE_SECONDS=5;R.TEN_SECONDS=10;R.THIRTY_SECONDS=30;R.SIXTY_SECONDS=60;R.ONE_MINUTE=R.SIXTY_SECONDS;R.FIVE_MINUTES=R.ONE_MINUTE*5;R.TEN_MINUTES=R.ONE_MINUTE*10;R.THIRTY_MINUTES=R.ONE_MINUTE*30;R.SIXTY_MINUTES=R.ONE_MINUTE*60;R.ONE_HOUR=R.SIXTY_MINUTES;R.THREE_HOURS=R.ONE_HOUR*3;R.SIX_HOURS=R.ONE_HOUR*6;R.TWELVE_HOURS=R.ONE_HOUR*12;R.TWENTY_FOUR_HOURS=R.ONE_HOUR*24;R.ONE_DAY=R.TWENTY_FOUR_HOURS;R.THREE_DAYS=R.ONE_DAY*3;R.FIVE_DAYS=R.ONE_DAY*5;R.SEVEN_DAYS=R.ONE_DAY*7;R.THIRTY_DAYS=R.ONE_DAY*30;R.ONE_WEEK=R.SEVEN_DAYS;R.TWO_WEEKS=R.ONE_WEEK*2;R.THREE_WEEKS=R.ONE_WEEK*3;R.FOUR_WEEKS=R.ONE_WEEK*4;R.ONE_YEAR=R.ONE_DAY*365});var Rs=L(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});var Tu=(Lr(),Me(Pr));Tu.__exportStar(Iu(),Rn);Tu.__exportStar(Ou(),Rn)});var Cu=L(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});Gt.fromMiliseconds=Gt.toMiliseconds=void 0;var Au=Rs();function Zm(t){return t*Au.ONE_THOUSAND}Gt.toMiliseconds=Zm;function ey(t){return Math.floor(t/Au.ONE_THOUSAND)}Gt.fromMiliseconds=ey});var Nu=L(Nn=>{"use strict";Object.defineProperty(Nn,"__esModule",{value:!0});var Ru=(Lr(),Me(Pr));Ru.__exportStar(Su(),Nn);Ru.__exportStar(Cu(),Nn)});var Pu=L(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.Watch=void 0;var Pn=class{constructor(){this.timestamps=new Map}start(e){if(this.timestamps.has(e))throw new Error(`Watch already started for label: ${e}`);this.timestamps.set(e,{started:Date.now()})}stop(e){let n=this.get(e);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${e}`);let r=Date.now()-n.started;this.timestamps.set(e,{started:n.started,elapsed:r})}get(e){let n=this.timestamps.get(e);if(typeof n>"u")throw new Error(`No timestamp found for label: ${e}`);return n}elapsed(e){let n=this.get(e);return n.elapsed||Date.now()-n.started}};Mr.Watch=Pn;Mr.default=Pn});var Lu=L(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.IWatch=void 0;var Ns=class{};Ln.IWatch=Ns});var Mu=L(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});var ty=(Lr(),Me(Pr));ty.__exportStar(Lu(),Ps)});var Yt=L(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});var Mn=(Lr(),Me(Pr));Mn.__exportStar(Nu(),Jt);Mn.__exportStar(Pu(),Jt);Mn.__exportStar(Mu(),Jt);Mn.__exportStar(Rs(),Jt)});var je,Fu=Ht(()=>{je=class{}});var Uu={};ge(Uu,{IEvents:()=>je});var Ls=Ht(()=>{Fu()});var Bu=L(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.IHeartBeat=void 0;var ry=(Ls(),Me(Uu)),Ms=class extends ry.IEvents{constructor(e){super()}};Fn.IHeartBeat=Ms});var Us=L(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});var ny=(Rr(),Me(Cr));ny.__exportStar(Bu(),Fs)});var ju=L(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.HEARTBEAT_EVENTS=Xt.HEARTBEAT_INTERVAL=void 0;var iy=Yt();Xt.HEARTBEAT_INTERVAL=iy.FIVE_SECONDS;Xt.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"}});var js=L(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});var sy=(Rr(),Me(Cr));sy.__exportStar(ju(),Bs)});var ku=L(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.HeartBeat=void 0;var ks=(Rr(),Me(Cr)),oy=qt(),ay=Yt(),cy=Us(),Ks=js(),zs=class t extends cy.IHeartBeat{constructor(e){super(e),this.events=new oy.EventEmitter,this.interval=Ks.HEARTBEAT_INTERVAL,this.interval=e?.interval||Ks.HEARTBEAT_INTERVAL}static init(e){return ks.__awaiter(this,void 0,void 0,function*(){let n=new t(e);return yield n.init(),n})}init(){return ks.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}initialize(){return ks.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),ay.toMiliseconds(this.interval))})}pulse(){this.events.emit(Ks.HEARTBEAT_EVENTS.pulse)}};Un.HeartBeat=zs});var Ku=L(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});var $s=(Rr(),Me(Cr));$s.__exportStar(ku(),Fr);$s.__exportStar(Us(),Fr);$s.__exportStar(js(),Fr)});var $u={};ge($u,{__assign:()=>Vs,__asyncDelegator:()=>_y,__asyncGenerator:()=>vy,__asyncValues:()=>Ey,__await:()=>Ur,__awaiter:()=>py,__classPrivateFieldGet:()=>Iy,__classPrivateFieldSet:()=>Oy,__createBinding:()=>my,__decorate:()=>ly,__exportStar:()=>yy,__extends:()=>uy,__generator:()=>gy,__importDefault:()=>Sy,__importStar:()=>Dy,__makeTemplateObject:()=>xy,__metadata:()=>dy,__param:()=>hy,__read:()=>zu,__rest:()=>fy,__spread:()=>by,__spreadArrays:()=>wy,__values:()=>qs});function uy(t,e){Hs(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function fy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ly(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function hy(t,e){return function(n,r){e(n,r,t)}}function dy(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function py(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(l){o(l)}}function u(f){try{c(r.throw(f))}catch(l){o(l)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function gy(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(f){c=[6,f],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function my(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function yy(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function qs(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zu(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function by(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(zu(arguments[e]));return t}function wy(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Ur(t){return this instanceof Ur?(this.v=t,this):new Ur(t)}function vy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(d){return new Promise(function(p,y){s.push([h,d,p,y])>1||a(h,d)})})}function a(h,d){try{u(r[h](d))}catch(p){l(s[0][3],p)}}function u(h){h.value instanceof Ur?Promise.resolve(h.value.v).then(c,f):l(s[0][2],h)}function c(h){a("next",h)}function f(h){a("throw",h)}function l(h,d){h(d),s.shift(),s.length&&a(s[0][0],s[0][1])}}function _y(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Ur(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Ey(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof qs=="function"?qs(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function xy(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Dy(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Sy(t){return t&&t.__esModule?t:{default:t}}function Iy(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Oy(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}var Hs,Vs,Hu=Ht(()=>{Hs=function(t,e){return Hs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Hs(t,e)};Vs=function(){return Vs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vs.apply(this,arguments)}});var qu=L((j3,Vu)=>{"use strict";function Ty(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}Vu.exports=Ay;function Ay(t,e,n){var r=n&&n.stringify||Ty,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=r(t);for(var a=1;a<s;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var u=e.length;if(u===0)return t;for(var c="",f=1-i,l=-1,h=t&&t.length||0,d=0;d<h;){if(t.charCodeAt(d)===37&&d+1<h){switch(l=l>-1?l:0,t.charCodeAt(d+1)){case 100:case 102:if(f>=u||e[f]==null)break;l<d&&(c+=t.slice(l,d)),c+=Number(e[f]),l=d+2,d++;break;case 105:if(f>=u||e[f]==null)break;l<d&&(c+=t.slice(l,d)),c+=Math.floor(Number(e[f])),l=d+2,d++;break;case 79:case 111:case 106:if(f>=u||e[f]===void 0)break;l<d&&(c+=t.slice(l,d));var p=typeof e[f];if(p==="string"){c+="'"+e[f]+"'",l=d+2,d++;break}if(p==="function"){c+=e[f].name||"<anonymous>",l=d+2,d++;break}c+=r(e[f]),l=d+2,d++;break;case 115:if(f>=u)break;l<d&&(c+=t.slice(l,d)),c+=String(e[f]),l=d+2,d++;break;case 37:l<d&&(c+=t.slice(l,d)),c+="%",l=d+2,d++,f--;break}++f}++d}return l===-1?t:(l<h&&(c+=t.slice(l)),c)}});var Xu=L((k3,Yu)=>{"use strict";var Wu=qu();Yu.exports=ke;var Br=jy().console||{},Cy={mapHttpRequest:Bn,mapHttpResponse:Bn,wrapRequestSerializer:Ws,wrapResponseSerializer:Ws,wrapErrorSerializer:Ws,req:Bn,res:Bn,err:My};function Ry(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function ke(t){t=t||{},t.browser=t.browser||{};let e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");let n=t.browser.write||Br;t.browser.write&&(t.browser.asObject=!0);let r=t.serializers||{},i=Ry(t.browser.serialize,r),s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);let o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");let a=t.level||"info",u=Object.create(n);u.log||(u.log=jr),Object.defineProperty(u,"levelVal",{get:f}),Object.defineProperty(u,"level",{get:l,set:h});let c={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:Fy(t)};u.levels=ke.levels,u.level=a,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=jr,u.serializers=r,u._serialize=i,u._stdErrSerialize=s,u.child=d,e&&(u._logEvent=Gs());function f(){return this.level==="silent"?1/0:this.levels.values[this.level]}function l(){return this._level}function h(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,Qt(c,u,"error","log"),Qt(c,u,"fatal","error"),Qt(c,u,"warn","error"),Qt(c,u,"info","log"),Qt(c,u,"debug","log"),Qt(c,u,"trace","log")}function d(p,y){if(!p)throw new Error("missing bindings for child Pino");y=y||{},i&&p.serializers&&(y.serializers=p.serializers);let b=y.serializers;if(i&&b){var v=Object.assign({},r,b),D=t.browser.serialize===!0?Object.keys(v):i;delete p.serializers,jn([p],D,v,this._stdErrSerialize)}function w(_){this._childLevel=(_._childLevel|0)+1,this.error=Zt(_,p,"error"),this.fatal=Zt(_,p,"fatal"),this.warn=Zt(_,p,"warn"),this.info=Zt(_,p,"info"),this.debug=Zt(_,p,"debug"),this.trace=Zt(_,p,"trace"),v&&(this.serializers=v,this._serialize=D),e&&(this._logEvent=Gs([].concat(_._logEvent.bindings,p)))}return w.prototype=this,new w(this)}return u}ke.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};ke.stdSerializers=Cy;ke.stdTimeFunctions=Object.assign({},{nullTime:Gu,epochTime:Ju,unixTime:Uy,isoTime:By});function Qt(t,e,n,r){let i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?jr:i[n]?i[n]:Br[n]||Br[r]||jr,Ny(t,e,n)}function Ny(t,e,n){!t.transmit&&e[n]===jr||(e[n]=function(r){return function(){let s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Br?Br:this;for(var u=0;u<o.length;u++)o[u]=arguments[u];if(t.serialize&&!t.asObject&&jn(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,Py(this,n,o,s)):r.apply(a,o),t.transmit){let c=t.transmit.level||e.level,f=ke.levels.values[c],l=ke.levels.values[n];if(l<f)return;Ly(this,{ts:s,methodLevel:n,methodValue:l,transmitLevel:c,transmitValue:ke.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function Py(t,e,n,r){t._serialize&&jn(n,t._serialize,t.serializers,t._stdErrSerialize);let i=n.slice(),s=i[0],o={};r&&(o.time=r),o.level=ke.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?Wu(i.shift(),i):void 0}else typeof s=="string"&&(s=Wu(i.shift(),i));return s!==void 0&&(o.msg=s),o}function jn(t,e,n,r){for(let i in t)if(r&&t[i]instanceof Error)t[i]=ke.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(let s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function Zt(t,e,n){return function(){let r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function Ly(t,e,n){let r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,u=t._logEvent.bindings;jn(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(c){return u.indexOf(c)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=Gs(u)}function Gs(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function My(t){let e={type:t.constructor.name,msg:t.message,stack:t.stack};for(let n in t)e[n]===void 0&&(e[n]=t[n]);return e}function Fy(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?Gu:Ju}function Bn(){return{}}function Ws(t){return t}function jr(){}function Gu(){return!1}function Ju(){return Date.now()}function Uy(){return Math.round(Date.now()/1e3)}function By(){return new Date(Date.now()).toISOString()}function jy(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}});var Js=L(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.PINO_CUSTOM_CONTEXT_KEY=er.PINO_LOGGER_DEFAULTS=void 0;er.PINO_LOGGER_DEFAULTS={level:"info"};er.PINO_CUSTOM_CONTEXT_KEY="custom_context"});var rf=L(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.generateChildLogger=Ie.formatChildLoggerContext=Ie.getLoggerContext=Ie.setBrowserLoggerContext=Ie.getBrowserLoggerContext=Ie.getDefaultLoggerOptions=void 0;var tr=Js();function ky(t){return Object.assign(Object.assign({},t),{level:t?.level||tr.PINO_LOGGER_DEFAULTS.level})}Ie.getDefaultLoggerOptions=ky;function Qu(t,e=tr.PINO_CUSTOM_CONTEXT_KEY){return t[e]||""}Ie.getBrowserLoggerContext=Qu;function Zu(t,e,n=tr.PINO_CUSTOM_CONTEXT_KEY){return t[n]=e,t}Ie.setBrowserLoggerContext=Zu;function ef(t,e=tr.PINO_CUSTOM_CONTEXT_KEY){let n="";return typeof t.bindings>"u"?n=Qu(t,e):n=t.bindings().context||"",n}Ie.getLoggerContext=ef;function tf(t,e,n=tr.PINO_CUSTOM_CONTEXT_KEY){let r=ef(t,n);return r.trim()?`${r}/${e}`:e}Ie.formatChildLoggerContext=tf;function Ky(t,e,n=tr.PINO_CUSTOM_CONTEXT_KEY){let r=tf(t,e,n),i=t.child({context:r});return Zu(i,r,n)}Ie.generateChildLogger=Ky});var nf=L(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.pino=void 0;var Ys=(Hu(),Me($u)),zy=Ys.__importDefault(Xu());Object.defineProperty(rr,"pino",{enumerable:!0,get:function(){return zy.default}});Ys.__exportStar(Js(),rr);Ys.__exportStar(rf(),rr)});var af=L(Yn=>{"use strict";Object.defineProperty(Yn,"__esModule",{value:!0});Yn.BrowserRandomSource=void 0;var of=65536,Xs=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");let n=new Uint8Array(e);for(let r=0;r<n.length;r+=of)this._crypto.getRandomValues(n.subarray(r,r+Math.min(n.length-r,of)));return n}};Yn.BrowserRandomSource=Xs});var Re=L(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});function $y(t){for(var e=0;e<t.length;e++)t[e]=0;return t}Qs.wipe=$y});var cf=L(()=>{});var uf=L(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.NodeRandomSource=void 0;var Hy=Re(),Zs=class{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof eu<"u"){let e=cf();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let n=this._crypto.randomBytes(e);if(n.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");let r=new Uint8Array(e);for(let i=0;i<r.length;i++)r[i]=n[i];return(0,Hy.wipe)(n),r}};Xn.NodeRandomSource=Zs});var ff=L(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.SystemRandomSource=void 0;var Vy=af(),qy=uf(),eo=class{constructor(){if(this.isAvailable=!1,this.name="",this._source=new Vy.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new qy.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}};Qn.SystemRandomSource=eo});var lf=L(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});function Wy(t,e){var n=t>>>16&65535,r=t&65535,i=e>>>16&65535,s=e&65535;return r*s+(n*s+r*i<<16>>>0)|0}Ce.mul=Math.imul||Wy;function Gy(t,e){return t+e|0}Ce.add=Gy;function Jy(t,e){return t-e|0}Ce.sub=Jy;function Yy(t,e){return t<<e|t>>>32-e}Ce.rotl=Yy;function Xy(t,e){return t<<32-e|t>>>e}Ce.rotr=Xy;function Qy(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}Ce.isInteger=Number.isInteger||Qy;Ce.MAX_SAFE_INTEGER=9007199254740991;Ce.isSafeInteger=function(t){return Ce.isInteger(t)&&t>=-Ce.MAX_SAFE_INTEGER&&t<=Ce.MAX_SAFE_INTEGER}});var nr=L(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});var hf=lf();function Zy(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}q.readInt16BE=Zy;function eb(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}q.readUint16BE=eb;function tb(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}q.readInt16LE=tb;function rb(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}q.readUint16LE=rb;function df(t,e,n){return e===void 0&&(e=new Uint8Array(2)),n===void 0&&(n=0),e[n+0]=t>>>8,e[n+1]=t>>>0,e}q.writeUint16BE=df;q.writeInt16BE=df;function pf(t,e,n){return e===void 0&&(e=new Uint8Array(2)),n===void 0&&(n=0),e[n+0]=t>>>0,e[n+1]=t>>>8,e}q.writeUint16LE=pf;q.writeInt16LE=pf;function to(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}q.readInt32BE=to;function ro(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}q.readUint32BE=ro;function no(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}q.readInt32LE=no;function io(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}q.readUint32LE=io;function Zn(t,e,n){return e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0),e[n+0]=t>>>24,e[n+1]=t>>>16,e[n+2]=t>>>8,e[n+3]=t>>>0,e}q.writeUint32BE=Zn;q.writeInt32BE=Zn;function ei(t,e,n){return e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0),e[n+0]=t>>>0,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24,e}q.writeUint32LE=ei;q.writeInt32LE=ei;function nb(t,e){e===void 0&&(e=0);var n=to(t,e),r=to(t,e+4);return n*4294967296+r-(r>>31)*4294967296}q.readInt64BE=nb;function ib(t,e){e===void 0&&(e=0);var n=ro(t,e),r=ro(t,e+4);return n*4294967296+r}q.readUint64BE=ib;function sb(t,e){e===void 0&&(e=0);var n=no(t,e),r=no(t,e+4);return r*4294967296+n-(n>>31)*4294967296}q.readInt64LE=sb;function ob(t,e){e===void 0&&(e=0);var n=io(t,e),r=io(t,e+4);return r*4294967296+n}q.readUint64LE=ob;function gf(t,e,n){return e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0),Zn(t/4294967296>>>0,e,n),Zn(t>>>0,e,n+4),e}q.writeUint64BE=gf;q.writeInt64BE=gf;function mf(t,e,n){return e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0),ei(t>>>0,e,n),ei(t/4294967296>>>0,e,n+4),e}q.writeUint64LE=mf;q.writeInt64LE=mf;function ab(t,e,n){if(n===void 0&&(n=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,i=1,s=t/8+n-1;s>=n;s--)r+=e[s]*i,i*=256;return r}q.readUintBE=ab;function cb(t,e,n){if(n===void 0&&(n=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,i=1,s=n;s<n+t/8;s++)r+=e[s]*i,i*=256;return r}q.readUintLE=cb;function ub(t,e,n,r){if(n===void 0&&(n=new Uint8Array(t/8)),r===void 0&&(r=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!hf.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+r-1;s>=r;s--)n[s]=e/i&255,i*=256;return n}q.writeUintBE=ub;function fb(t,e,n,r){if(n===void 0&&(n=new Uint8Array(t/8)),r===void 0&&(r=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!hf.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=r;s<r+t/8;s++)n[s]=e/i&255,i*=256;return n}q.writeUintLE=fb;function lb(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat32(e)}q.readFloat32BE=lb;function hb(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat32(e,!0)}q.readFloat32LE=hb;function db(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat64(e)}q.readFloat64BE=db;function pb(t,e){e===void 0&&(e=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.getFloat64(e,!0)}q.readFloat64LE=pb;function gb(t,e,n){e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat32(n,t),e}q.writeFloat32BE=gb;function mb(t,e,n){e===void 0&&(e=new Uint8Array(4)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat32(n,t,!0),e}q.writeFloat32LE=mb;function yb(t,e,n){e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat64(n,t),e}q.writeFloat64BE=yb;function bb(t,e,n){e===void 0&&(e=new Uint8Array(8)),n===void 0&&(n=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.setFloat64(n,t,!0),e}q.writeFloat64LE=bb});var kr=L(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.randomStringForEntropy=ve.randomString=ve.randomUint32=ve.randomBytes=ve.defaultRandomSource=void 0;var wb=ff(),vb=nr(),yf=Re();ve.defaultRandomSource=new wb.SystemRandomSource;function so(t,e=ve.defaultRandomSource){return e.randomBytes(t)}ve.randomBytes=so;function _b(t=ve.defaultRandomSource){let e=so(4,t),n=(0,vb.readUint32LE)(e);return(0,yf.wipe)(e),n}ve.randomUint32=_b;var bf="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function wf(t,e=bf,n=ve.defaultRandomSource){if(e.length<2)throw new Error("randomString charset is too short");if(e.length>256)throw new Error("randomString charset is too long");let r="",i=e.length,s=256-256%i;for(;t>0;){let o=so(Math.ceil(t*256/s),n);for(let a=0;a<o.length&&t>0;a++){let u=o[a];u<s&&(r+=e.charAt(u%i),t--)}(0,yf.wipe)(o)}return r}ve.randomString=wf;function Eb(t,e=bf,n=ve.defaultRandomSource){let r=Math.ceil(t/(Math.log(e.length)/Math.LN2));return wf(r,e,n)}ve.randomStringForEntropy=Eb});var Ef=L(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});var sr=nr(),ir=Re();Je.DIGEST_LENGTH=64;Je.BLOCK_SIZE=128;var _f=function(){function t(){this.digestLength=Je.DIGEST_LENGTH,this.blockSize=Je.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){ir.wipe(this._buffer),ir.wipe(this._tempHi),ir.wipe(this._tempLo),this.reset()},t.prototype.update=function(e,n){if(n===void 0&&(n=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var r=0;if(this._bytesHashed+=n,this._bufferLength>0){for(;this._bufferLength<Je.BLOCK_SIZE&&n>0;)this._buffer[this._bufferLength++]=e[r++],n--;this._bufferLength===this.blockSize&&(oo(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(n>=this.blockSize&&(r=oo(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,r,n),n%=this.blockSize);n>0;)this._buffer[this._bufferLength++]=e[r++],n--;return this},t.prototype.finish=function(e){if(!this._finished){var n=this._bytesHashed,r=this._bufferLength,i=n/536870912|0,s=n<<3,o=n%128<112?128:256;this._buffer[r]=128;for(var a=r+1;a<o-8;a++)this._buffer[a]=0;sr.writeUint32BE(i,this._buffer,o-8),sr.writeUint32BE(s,this._buffer,o-4),oo(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/8;a++)sr.writeUint32BE(this._stateHi[a],e,a*8),sr.writeUint32BE(this._stateLo[a],e,a*8+4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){ir.wipe(e.stateHi),ir.wipe(e.stateLo),e.buffer&&ir.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();Je.SHA512=_f;var vf=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function oo(t,e,n,r,i,s,o){for(var a=n[0],u=n[1],c=n[2],f=n[3],l=n[4],h=n[5],d=n[6],p=n[7],y=r[0],b=r[1],v=r[2],D=r[3],w=r[4],_=r[5],O=r[6],T=r[7],g,m,A,N,S,E,x,I;o>=128;){for(var F=0;F<16;F++){var U=8*F+s;t[F]=sr.readUint32BE(i,U),e[F]=sr.readUint32BE(i,U+4)}for(var F=0;F<80;F++){var C=a,V=u,ae=c,M=f,j=l,k=h,K=d,B=p,z=y,$=b,H=v,W=D,J=w,Y=_,X=O,G=T;if(g=p,m=T,S=m&65535,E=m>>>16,x=g&65535,I=g>>>16,g=(l>>>14|w<<32-14)^(l>>>18|w<<32-18)^(w>>>41-32|l<<32-(41-32)),m=(w>>>14|l<<32-14)^(w>>>18|l<<32-18)^(l>>>41-32|w<<32-(41-32)),S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,g=l&h^~l&d,m=w&_^~w&O,S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,g=vf[F*2],m=vf[F*2+1],S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,g=t[F%16],m=e[F%16],S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,E+=S>>>16,x+=E>>>16,I+=x>>>16,A=x&65535|I<<16,N=S&65535|E<<16,g=A,m=N,S=m&65535,E=m>>>16,x=g&65535,I=g>>>16,g=(a>>>28|y<<32-28)^(y>>>34-32|a<<32-(34-32))^(y>>>39-32|a<<32-(39-32)),m=(y>>>28|a<<32-28)^(a>>>34-32|y<<32-(34-32))^(a>>>39-32|y<<32-(39-32)),S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,g=a&u^a&c^u&c,m=y&b^y&v^b&v,S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,E+=S>>>16,x+=E>>>16,I+=x>>>16,B=x&65535|I<<16,G=S&65535|E<<16,g=M,m=W,S=m&65535,E=m>>>16,x=g&65535,I=g>>>16,g=A,m=N,S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,E+=S>>>16,x+=E>>>16,I+=x>>>16,M=x&65535|I<<16,W=S&65535|E<<16,u=C,c=V,f=ae,l=M,h=j,d=k,p=K,a=B,b=z,v=$,D=H,w=W,_=J,O=Y,T=X,y=G,F%16===15)for(var U=0;U<16;U++)g=t[U],m=e[U],S=m&65535,E=m>>>16,x=g&65535,I=g>>>16,g=t[(U+9)%16],m=e[(U+9)%16],S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,A=t[(U+1)%16],N=e[(U+1)%16],g=(A>>>1|N<<32-1)^(A>>>8|N<<32-8)^A>>>7,m=(N>>>1|A<<32-1)^(N>>>8|A<<32-8)^(N>>>7|A<<32-7),S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,A=t[(U+14)%16],N=e[(U+14)%16],g=(A>>>19|N<<32-19)^(N>>>61-32|A<<32-(61-32))^A>>>6,m=(N>>>19|A<<32-19)^(A>>>61-32|N<<32-(61-32))^(N>>>6|A<<32-6),S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,E+=S>>>16,x+=E>>>16,I+=x>>>16,t[U]=x&65535|I<<16,e[U]=S&65535|E<<16}g=a,m=y,S=m&65535,E=m>>>16,x=g&65535,I=g>>>16,g=n[0],m=r[0],S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,E+=S>>>16,x+=E>>>16,I+=x>>>16,n[0]=a=x&65535|I<<16,r[0]=y=S&65535|E<<16,g=u,m=b,S=m&65535,E=m>>>16,x=g&65535,I=g>>>16,g=n[1],m=r[1],S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,E+=S>>>16,x+=E>>>16,I+=x>>>16,n[1]=u=x&65535|I<<16,r[1]=b=S&65535|E<<16,g=c,m=v,S=m&65535,E=m>>>16,x=g&65535,I=g>>>16,g=n[2],m=r[2],S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,E+=S>>>16,x+=E>>>16,I+=x>>>16,n[2]=c=x&65535|I<<16,r[2]=v=S&65535|E<<16,g=f,m=D,S=m&65535,E=m>>>16,x=g&65535,I=g>>>16,g=n[3],m=r[3],S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,E+=S>>>16,x+=E>>>16,I+=x>>>16,n[3]=f=x&65535|I<<16,r[3]=D=S&65535|E<<16,g=l,m=w,S=m&65535,E=m>>>16,x=g&65535,I=g>>>16,g=n[4],m=r[4],S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,E+=S>>>16,x+=E>>>16,I+=x>>>16,n[4]=l=x&65535|I<<16,r[4]=w=S&65535|E<<16,g=h,m=_,S=m&65535,E=m>>>16,x=g&65535,I=g>>>16,g=n[5],m=r[5],S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,E+=S>>>16,x+=E>>>16,I+=x>>>16,n[5]=h=x&65535|I<<16,r[5]=_=S&65535|E<<16,g=d,m=O,S=m&65535,E=m>>>16,x=g&65535,I=g>>>16,g=n[6],m=r[6],S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,E+=S>>>16,x+=E>>>16,I+=x>>>16,n[6]=d=x&65535|I<<16,r[6]=O=S&65535|E<<16,g=p,m=T,S=m&65535,E=m>>>16,x=g&65535,I=g>>>16,g=n[7],m=r[7],S+=m&65535,E+=m>>>16,x+=g&65535,I+=g>>>16,E+=S>>>16,x+=E>>>16,I+=x>>>16,n[7]=p=x&65535|I<<16,r[7]=T=S&65535|E<<16,s+=128,o-=128}return s}function xb(t){var e=new _f;e.update(t);var n=e.digest();return e.clean(),n}Je.hash=xb});var Ff=L(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.convertSecretKeyToX25519=ne.convertPublicKeyToX25519=ne.verify=ne.sign=ne.extractPublicKeyFromSecretKey=ne.generateKeyPair=ne.generateKeyPairFromSeed=ne.SEED_LENGTH=ne.SECRET_KEY_LENGTH=ne.PUBLIC_KEY_LENGTH=ne.SIGNATURE_LENGTH=void 0;var Db=kr(),Kr=Ef(),Of=Re();ne.SIGNATURE_LENGTH=64;ne.PUBLIC_KEY_LENGTH=32;ne.SECRET_KEY_LENGTH=64;ne.SEED_LENGTH=32;function P(t){let e=new Float64Array(16);if(t)for(let n=0;n<t.length;n++)e[n]=t[n];return e}var Sb=new Uint8Array(32);Sb[0]=9;var uo=P(),or=P([1]),Ib=P([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Ob=P([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),xf=P([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Df=P([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Tb=P([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ft(t,e){for(let n=0;n<16;n++)t[n]=e[n]|0}function ao(t){let e=1;for(let n=0;n<16;n++){let r=t[n]+e+65535;e=Math.floor(r/65536),t[n]=r-e*65536}t[0]+=e-1+37*(e-1)}function Tf(t,e,n){let r=~(n-1);for(let i=0;i<16;i++){let s=r&(t[i]^e[i]);t[i]^=s,e[i]^=s}}function zr(t,e){let n=P(),r=P();for(let i=0;i<16;i++)r[i]=e[i];ao(r),ao(r),ao(r);for(let i=0;i<2;i++){n[0]=r[0]-65517;for(let o=1;o<15;o++)n[o]=r[o]-65535-(n[o-1]>>16&1),n[o-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);let s=n[15]>>16&1;n[14]&=65535,Tf(r,n,1-s)}for(let i=0;i<16;i++)t[2*i]=r[i]&255,t[2*i+1]=r[i]>>8}function Af(t,e){let n=0;for(let r=0;r<32;r++)n|=t[r]^e[r];return(1&n-1>>>8)-1}function Sf(t,e){let n=new Uint8Array(32),r=new Uint8Array(32);return zr(n,t),zr(r,e),Af(n,r)}function Cf(t){let e=new Uint8Array(32);return zr(e,t),e[0]&1}function Ab(t,e){for(let n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function Dt(t,e,n){for(let r=0;r<16;r++)t[r]=e[r]+n[r]}function It(t,e,n){for(let r=0;r<16;r++)t[r]=e[r]-n[r]}function oe(t,e,n){let r,i,s=0,o=0,a=0,u=0,c=0,f=0,l=0,h=0,d=0,p=0,y=0,b=0,v=0,D=0,w=0,_=0,O=0,T=0,g=0,m=0,A=0,N=0,S=0,E=0,x=0,I=0,F=0,U=0,C=0,V=0,ae=0,M=n[0],j=n[1],k=n[2],K=n[3],B=n[4],z=n[5],$=n[6],H=n[7],W=n[8],J=n[9],Y=n[10],X=n[11],G=n[12],Z=n[13],ee=n[14],te=n[15];r=e[0],s+=r*M,o+=r*j,a+=r*k,u+=r*K,c+=r*B,f+=r*z,l+=r*$,h+=r*H,d+=r*W,p+=r*J,y+=r*Y,b+=r*X,v+=r*G,D+=r*Z,w+=r*ee,_+=r*te,r=e[1],o+=r*M,a+=r*j,u+=r*k,c+=r*K,f+=r*B,l+=r*z,h+=r*$,d+=r*H,p+=r*W,y+=r*J,b+=r*Y,v+=r*X,D+=r*G,w+=r*Z,_+=r*ee,O+=r*te,r=e[2],a+=r*M,u+=r*j,c+=r*k,f+=r*K,l+=r*B,h+=r*z,d+=r*$,p+=r*H,y+=r*W,b+=r*J,v+=r*Y,D+=r*X,w+=r*G,_+=r*Z,O+=r*ee,T+=r*te,r=e[3],u+=r*M,c+=r*j,f+=r*k,l+=r*K,h+=r*B,d+=r*z,p+=r*$,y+=r*H,b+=r*W,v+=r*J,D+=r*Y,w+=r*X,_+=r*G,O+=r*Z,T+=r*ee,g+=r*te,r=e[4],c+=r*M,f+=r*j,l+=r*k,h+=r*K,d+=r*B,p+=r*z,y+=r*$,b+=r*H,v+=r*W,D+=r*J,w+=r*Y,_+=r*X,O+=r*G,T+=r*Z,g+=r*ee,m+=r*te,r=e[5],f+=r*M,l+=r*j,h+=r*k,d+=r*K,p+=r*B,y+=r*z,b+=r*$,v+=r*H,D+=r*W,w+=r*J,_+=r*Y,O+=r*X,T+=r*G,g+=r*Z,m+=r*ee,A+=r*te,r=e[6],l+=r*M,h+=r*j,d+=r*k,p+=r*K,y+=r*B,b+=r*z,v+=r*$,D+=r*H,w+=r*W,_+=r*J,O+=r*Y,T+=r*X,g+=r*G,m+=r*Z,A+=r*ee,N+=r*te,r=e[7],h+=r*M,d+=r*j,p+=r*k,y+=r*K,b+=r*B,v+=r*z,D+=r*$,w+=r*H,_+=r*W,O+=r*J,T+=r*Y,g+=r*X,m+=r*G,A+=r*Z,N+=r*ee,S+=r*te,r=e[8],d+=r*M,p+=r*j,y+=r*k,b+=r*K,v+=r*B,D+=r*z,w+=r*$,_+=r*H,O+=r*W,T+=r*J,g+=r*Y,m+=r*X,A+=r*G,N+=r*Z,S+=r*ee,E+=r*te,r=e[9],p+=r*M,y+=r*j,b+=r*k,v+=r*K,D+=r*B,w+=r*z,_+=r*$,O+=r*H,T+=r*W,g+=r*J,m+=r*Y,A+=r*X,N+=r*G,S+=r*Z,E+=r*ee,x+=r*te,r=e[10],y+=r*M,b+=r*j,v+=r*k,D+=r*K,w+=r*B,_+=r*z,O+=r*$,T+=r*H,g+=r*W,m+=r*J,A+=r*Y,N+=r*X,S+=r*G,E+=r*Z,x+=r*ee,I+=r*te,r=e[11],b+=r*M,v+=r*j,D+=r*k,w+=r*K,_+=r*B,O+=r*z,T+=r*$,g+=r*H,m+=r*W,A+=r*J,N+=r*Y,S+=r*X,E+=r*G,x+=r*Z,I+=r*ee,F+=r*te,r=e[12],v+=r*M,D+=r*j,w+=r*k,_+=r*K,O+=r*B,T+=r*z,g+=r*$,m+=r*H,A+=r*W,N+=r*J,S+=r*Y,E+=r*X,x+=r*G,I+=r*Z,F+=r*ee,U+=r*te,r=e[13],D+=r*M,w+=r*j,_+=r*k,O+=r*K,T+=r*B,g+=r*z,m+=r*$,A+=r*H,N+=r*W,S+=r*J,E+=r*Y,x+=r*X,I+=r*G,F+=r*Z,U+=r*ee,C+=r*te,r=e[14],w+=r*M,_+=r*j,O+=r*k,T+=r*K,g+=r*B,m+=r*z,A+=r*$,N+=r*H,S+=r*W,E+=r*J,x+=r*Y,I+=r*X,F+=r*G,U+=r*Z,C+=r*ee,V+=r*te,r=e[15],_+=r*M,O+=r*j,T+=r*k,g+=r*K,m+=r*B,A+=r*z,N+=r*$,S+=r*H,E+=r*W,x+=r*J,I+=r*Y,F+=r*X,U+=r*G,C+=r*Z,V+=r*ee,ae+=r*te,s+=38*O,o+=38*T,a+=38*g,u+=38*m,c+=38*A,f+=38*N,l+=38*S,h+=38*E,d+=38*x,p+=38*I,y+=38*F,b+=38*U,v+=38*C,D+=38*V,w+=38*ae,i=1,r=s+i+65535,i=Math.floor(r/65536),s=r-i*65536,r=o+i+65535,i=Math.floor(r/65536),o=r-i*65536,r=a+i+65535,i=Math.floor(r/65536),a=r-i*65536,r=u+i+65535,i=Math.floor(r/65536),u=r-i*65536,r=c+i+65535,i=Math.floor(r/65536),c=r-i*65536,r=f+i+65535,i=Math.floor(r/65536),f=r-i*65536,r=l+i+65535,i=Math.floor(r/65536),l=r-i*65536,r=h+i+65535,i=Math.floor(r/65536),h=r-i*65536,r=d+i+65535,i=Math.floor(r/65536),d=r-i*65536,r=p+i+65535,i=Math.floor(r/65536),p=r-i*65536,r=y+i+65535,i=Math.floor(r/65536),y=r-i*65536,r=b+i+65535,i=Math.floor(r/65536),b=r-i*65536,r=v+i+65535,i=Math.floor(r/65536),v=r-i*65536,r=D+i+65535,i=Math.floor(r/65536),D=r-i*65536,r=w+i+65535,i=Math.floor(r/65536),w=r-i*65536,r=_+i+65535,i=Math.floor(r/65536),_=r-i*65536,s+=i-1+37*(i-1),i=1,r=s+i+65535,i=Math.floor(r/65536),s=r-i*65536,r=o+i+65535,i=Math.floor(r/65536),o=r-i*65536,r=a+i+65535,i=Math.floor(r/65536),a=r-i*65536,r=u+i+65535,i=Math.floor(r/65536),u=r-i*65536,r=c+i+65535,i=Math.floor(r/65536),c=r-i*65536,r=f+i+65535,i=Math.floor(r/65536),f=r-i*65536,r=l+i+65535,i=Math.floor(r/65536),l=r-i*65536,r=h+i+65535,i=Math.floor(r/65536),h=r-i*65536,r=d+i+65535,i=Math.floor(r/65536),d=r-i*65536,r=p+i+65535,i=Math.floor(r/65536),p=r-i*65536,r=y+i+65535,i=Math.floor(r/65536),y=r-i*65536,r=b+i+65535,i=Math.floor(r/65536),b=r-i*65536,r=v+i+65535,i=Math.floor(r/65536),v=r-i*65536,r=D+i+65535,i=Math.floor(r/65536),D=r-i*65536,r=w+i+65535,i=Math.floor(r/65536),w=r-i*65536,r=_+i+65535,i=Math.floor(r/65536),_=r-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=u,t[4]=c,t[5]=f,t[6]=l,t[7]=h,t[8]=d,t[9]=p,t[10]=y,t[11]=b,t[12]=v,t[13]=D,t[14]=w,t[15]=_}function St(t,e){oe(t,e,e)}function Rf(t,e){let n=P(),r;for(r=0;r<16;r++)n[r]=e[r];for(r=253;r>=0;r--)St(n,n),r!==2&&r!==4&&oe(n,n,e);for(r=0;r<16;r++)t[r]=n[r]}function Cb(t,e){let n=P(),r;for(r=0;r<16;r++)n[r]=e[r];for(r=250;r>=0;r--)St(n,n),r!==1&&oe(n,n,e);for(r=0;r<16;r++)t[r]=n[r]}function fo(t,e){let n=P(),r=P(),i=P(),s=P(),o=P(),a=P(),u=P(),c=P(),f=P();It(n,t[1],t[0]),It(f,e[1],e[0]),oe(n,n,f),Dt(r,t[0],t[1]),Dt(f,e[0],e[1]),oe(r,r,f),oe(i,t[3],e[3]),oe(i,i,Ob),oe(s,t[2],e[2]),Dt(s,s,s),It(o,r,n),It(a,s,i),Dt(u,s,i),Dt(c,r,n),oe(t[0],o,a),oe(t[1],c,u),oe(t[2],u,a),oe(t[3],o,c)}function If(t,e,n){for(let r=0;r<4;r++)Tf(t[r],e[r],n)}function ho(t,e){let n=P(),r=P(),i=P();Rf(i,e[2]),oe(n,e[0],i),oe(r,e[1],i),zr(t,r),t[31]^=Cf(n)<<7}function Nf(t,e,n){ft(t[0],uo),ft(t[1],or),ft(t[2],or),ft(t[3],uo);for(let r=255;r>=0;--r){let i=n[r/8|0]>>(r&7)&1;If(t,e,i),fo(e,t),fo(t,t),If(t,e,i)}}function po(t,e){let n=[P(),P(),P(),P()];ft(n[0],xf),ft(n[1],Df),ft(n[2],or),oe(n[3],xf,Df),Nf(t,n,e)}function Pf(t){if(t.length!==ne.SEED_LENGTH)throw new Error(`ed25519: seed must be ${ne.SEED_LENGTH} bytes`);let e=(0,Kr.hash)(t);e[0]&=248,e[31]&=127,e[31]|=64;let n=new Uint8Array(32),r=[P(),P(),P(),P()];po(r,e),ho(n,r);let i=new Uint8Array(64);return i.set(t),i.set(n,32),{publicKey:n,secretKey:i}}ne.generateKeyPairFromSeed=Pf;function Rb(t){let e=(0,Db.randomBytes)(32,t),n=Pf(e);return(0,Of.wipe)(e),n}ne.generateKeyPair=Rb;function Nb(t){if(t.length!==ne.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${ne.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(t.subarray(32))}ne.extractPublicKeyFromSecretKey=Nb;var co=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Lf(t,e){let n,r,i,s;for(r=63;r>=32;--r){for(n=0,i=r-32,s=r-12;i<s;++i)e[i]+=n-16*e[r]*co[i-(r-32)],n=Math.floor((e[i]+128)/256),e[i]-=n*256;e[i]+=n,e[r]=0}for(n=0,i=0;i<32;i++)e[i]+=n-(e[31]>>4)*co[i],n=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=n*co[i];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=e[r]&255}function lo(t){let e=new Float64Array(64);for(let n=0;n<64;n++)e[n]=t[n];for(let n=0;n<64;n++)t[n]=0;Lf(t,e)}function Pb(t,e){let n=new Float64Array(64),r=[P(),P(),P(),P()],i=(0,Kr.hash)(t.subarray(0,32));i[0]&=248,i[31]&=127,i[31]|=64;let s=new Uint8Array(64);s.set(i.subarray(32),32);let o=new Kr.SHA512;o.update(s.subarray(32)),o.update(e);let a=o.digest();o.clean(),lo(a),po(r,a),ho(s,r),o.reset(),o.update(s.subarray(0,32)),o.update(t.subarray(32)),o.update(e);let u=o.digest();lo(u);for(let c=0;c<32;c++)n[c]=a[c];for(let c=0;c<32;c++)for(let f=0;f<32;f++)n[c+f]+=u[c]*i[f];return Lf(s.subarray(32),n),s}ne.sign=Pb;function Mf(t,e){let n=P(),r=P(),i=P(),s=P(),o=P(),a=P(),u=P();return ft(t[2],or),Ab(t[1],e),St(i,t[1]),oe(s,i,Ib),It(i,i,t[2]),Dt(s,t[2],s),St(o,s),St(a,o),oe(u,a,o),oe(n,u,i),oe(n,n,s),Cb(n,n),oe(n,n,i),oe(n,n,s),oe(n,n,s),oe(t[0],n,s),St(r,t[0]),oe(r,r,s),Sf(r,i)&&oe(t[0],t[0],Tb),St(r,t[0]),oe(r,r,s),Sf(r,i)?-1:(Cf(t[0])===e[31]>>7&&It(t[0],uo,t[0]),oe(t[3],t[0],t[1]),0)}function Lb(t,e,n){let r=new Uint8Array(32),i=[P(),P(),P(),P()],s=[P(),P(),P(),P()];if(n.length!==ne.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${ne.SIGNATURE_LENGTH} bytes`);if(Mf(s,t))return!1;let o=new Kr.SHA512;o.update(n.subarray(0,32)),o.update(t),o.update(e);let a=o.digest();return lo(a),Nf(i,s,a),po(s,n.subarray(32)),fo(i,s),ho(r,i),!Af(n,r)}ne.verify=Lb;function Mb(t){let e=[P(),P(),P(),P()];if(Mf(e,t))throw new Error("Ed25519: invalid public key");let n=P(),r=P(),i=e[1];Dt(n,or,i),It(r,or,i),Rf(r,r),oe(n,n,r);let s=new Uint8Array(32);return zr(s,n),s}ne.convertPublicKeyToX25519=Mb;function Fb(t){let e=(0,Kr.hash)(t.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;let n=new Uint8Array(e.subarray(0,32));return(0,Of.wipe)(e),n}ne.convertSecretKeyToX25519=Fb});var bl=L(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});var _e=nr(),ko=Re(),Y0=20;function X0(t,e,n){for(var r=1634760805,i=857760878,s=2036477234,o=1797285236,a=n[3]<<24|n[2]<<16|n[1]<<8|n[0],u=n[7]<<24|n[6]<<16|n[5]<<8|n[4],c=n[11]<<24|n[10]<<16|n[9]<<8|n[8],f=n[15]<<24|n[14]<<16|n[13]<<8|n[12],l=n[19]<<24|n[18]<<16|n[17]<<8|n[16],h=n[23]<<24|n[22]<<16|n[21]<<8|n[20],d=n[27]<<24|n[26]<<16|n[25]<<8|n[24],p=n[31]<<24|n[30]<<16|n[29]<<8|n[28],y=e[3]<<24|e[2]<<16|e[1]<<8|e[0],b=e[7]<<24|e[6]<<16|e[5]<<8|e[4],v=e[11]<<24|e[10]<<16|e[9]<<8|e[8],D=e[15]<<24|e[14]<<16|e[13]<<8|e[12],w=r,_=i,O=s,T=o,g=a,m=u,A=c,N=f,S=l,E=h,x=d,I=p,F=y,U=b,C=v,V=D,ae=0;ae<Y0;ae+=2)w=w+g|0,F^=w,F=F>>>32-16|F<<16,S=S+F|0,g^=S,g=g>>>32-12|g<<12,_=_+m|0,U^=_,U=U>>>32-16|U<<16,E=E+U|0,m^=E,m=m>>>32-12|m<<12,O=O+A|0,C^=O,C=C>>>32-16|C<<16,x=x+C|0,A^=x,A=A>>>32-12|A<<12,T=T+N|0,V^=T,V=V>>>32-16|V<<16,I=I+V|0,N^=I,N=N>>>32-12|N<<12,O=O+A|0,C^=O,C=C>>>32-8|C<<8,x=x+C|0,A^=x,A=A>>>32-7|A<<7,T=T+N|0,V^=T,V=V>>>32-8|V<<8,I=I+V|0,N^=I,N=N>>>32-7|N<<7,_=_+m|0,U^=_,U=U>>>32-8|U<<8,E=E+U|0,m^=E,m=m>>>32-7|m<<7,w=w+g|0,F^=w,F=F>>>32-8|F<<8,S=S+F|0,g^=S,g=g>>>32-7|g<<7,w=w+m|0,V^=w,V=V>>>32-16|V<<16,x=x+V|0,m^=x,m=m>>>32-12|m<<12,_=_+A|0,F^=_,F=F>>>32-16|F<<16,I=I+F|0,A^=I,A=A>>>32-12|A<<12,O=O+N|0,U^=O,U=U>>>32-16|U<<16,S=S+U|0,N^=S,N=N>>>32-12|N<<12,T=T+g|0,C^=T,C=C>>>32-16|C<<16,E=E+C|0,g^=E,g=g>>>32-12|g<<12,O=O+N|0,U^=O,U=U>>>32-8|U<<8,S=S+U|0,N^=S,N=N>>>32-7|N<<7,T=T+g|0,C^=T,C=C>>>32-8|C<<8,E=E+C|0,g^=E,g=g>>>32-7|g<<7,_=_+A|0,F^=_,F=F>>>32-8|F<<8,I=I+F|0,A^=I,A=A>>>32-7|A<<7,w=w+m|0,V^=w,V=V>>>32-8|V<<8,x=x+V|0,m^=x,m=m>>>32-7|m<<7;_e.writeUint32LE(w+r|0,t,0),_e.writeUint32LE(_+i|0,t,4),_e.writeUint32LE(O+s|0,t,8),_e.writeUint32LE(T+o|0,t,12),_e.writeUint32LE(g+a|0,t,16),_e.writeUint32LE(m+u|0,t,20),_e.writeUint32LE(A+c|0,t,24),_e.writeUint32LE(N+f|0,t,28),_e.writeUint32LE(S+l|0,t,32),_e.writeUint32LE(E+h|0,t,36),_e.writeUint32LE(x+d|0,t,40),_e.writeUint32LE(I+p|0,t,44),_e.writeUint32LE(F+y|0,t,48),_e.writeUint32LE(U+b|0,t,52),_e.writeUint32LE(C+v|0,t,56),_e.writeUint32LE(V+D|0,t,60)}function yl(t,e,n,r,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(r.length<n.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var a=new Uint8Array(64),u=0;u<n.length;u+=64){X0(a,s,t);for(var c=u;c<u+64&&c<n.length;c++)r[c]=n[c]^a[c-u];Z0(s,0,o)}return ko.wipe(a),i===0&&ko.wipe(s),r}ci.streamXOR=yl;function Q0(t,e,n,r){return r===void 0&&(r=0),ko.wipe(n),yl(t,e,n,n,r)}ci.stream=Q0;function Z0(t,e,n){for(var r=1;n--;)r=r+(t[e]&255)|0,t[e]=r&255,r>>>=8,e++;if(r>0)throw new Error("ChaCha: counter overflow")}});var ui=L(dr=>{"use strict";Object.defineProperty(dr,"__esModule",{value:!0});function ew(t,e,n){return~(t-1)&e|t-1&n}dr.select=ew;function tw(t,e){return(t|0)-(e|0)-1>>>31&1}dr.lessOrEqual=tw;function wl(t,e){if(t.length!==e.length)return 0;for(var n=0,r=0;r<t.length;r++)n|=t[r]^e[r];return 1&n-1>>>8}dr.compare=wl;function rw(t,e){return t.length===0||e.length===0?!1:wl(t,e)!==0}dr.equal=rw});var _l=L(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});var nw=ui(),fi=Re();Xe.DIGEST_LENGTH=16;var vl=function(){function t(e){this.digestLength=Xe.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var n=e[0]|e[1]<<8;this._r[0]=n&8191;var r=e[2]|e[3]<<8;this._r[1]=(n>>>13|r<<3)&8191;var i=e[4]|e[5]<<8;this._r[2]=(r>>>10|i<<6)&7939;var s=e[6]|e[7]<<8;this._r[3]=(i>>>7|s<<9)&8191;var o=e[8]|e[9]<<8;this._r[4]=(s>>>4|o<<12)&255,this._r[5]=o>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=(o>>>14|a<<2)&8191;var u=e[12]|e[13]<<8;this._r[7]=(a>>>11|u<<5)&8065;var c=e[14]|e[15]<<8;this._r[8]=(u>>>8|c<<8)&8191,this._r[9]=c>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return t.prototype._blocks=function(e,n,r){for(var i=this._fin?0:2048,s=this._h[0],o=this._h[1],a=this._h[2],u=this._h[3],c=this._h[4],f=this._h[5],l=this._h[6],h=this._h[7],d=this._h[8],p=this._h[9],y=this._r[0],b=this._r[1],v=this._r[2],D=this._r[3],w=this._r[4],_=this._r[5],O=this._r[6],T=this._r[7],g=this._r[8],m=this._r[9];r>=16;){var A=e[n+0]|e[n+1]<<8;s+=A&8191;var N=e[n+2]|e[n+3]<<8;o+=(A>>>13|N<<3)&8191;var S=e[n+4]|e[n+5]<<8;a+=(N>>>10|S<<6)&8191;var E=e[n+6]|e[n+7]<<8;u+=(S>>>7|E<<9)&8191;var x=e[n+8]|e[n+9]<<8;c+=(E>>>4|x<<12)&8191,f+=x>>>1&8191;var I=e[n+10]|e[n+11]<<8;l+=(x>>>14|I<<2)&8191;var F=e[n+12]|e[n+13]<<8;h+=(I>>>11|F<<5)&8191;var U=e[n+14]|e[n+15]<<8;d+=(F>>>8|U<<8)&8191,p+=U>>>5|i;var C=0,V=C;V+=s*y,V+=o*(5*m),V+=a*(5*g),V+=u*(5*T),V+=c*(5*O),C=V>>>13,V&=8191,V+=f*(5*_),V+=l*(5*w),V+=h*(5*D),V+=d*(5*v),V+=p*(5*b),C+=V>>>13,V&=8191;var ae=C;ae+=s*b,ae+=o*y,ae+=a*(5*m),ae+=u*(5*g),ae+=c*(5*T),C=ae>>>13,ae&=8191,ae+=f*(5*O),ae+=l*(5*_),ae+=h*(5*w),ae+=d*(5*D),ae+=p*(5*v),C+=ae>>>13,ae&=8191;var M=C;M+=s*v,M+=o*b,M+=a*y,M+=u*(5*m),M+=c*(5*g),C=M>>>13,M&=8191,M+=f*(5*T),M+=l*(5*O),M+=h*(5*_),M+=d*(5*w),M+=p*(5*D),C+=M>>>13,M&=8191;var j=C;j+=s*D,j+=o*v,j+=a*b,j+=u*y,j+=c*(5*m),C=j>>>13,j&=8191,j+=f*(5*g),j+=l*(5*T),j+=h*(5*O),j+=d*(5*_),j+=p*(5*w),C+=j>>>13,j&=8191;var k=C;k+=s*w,k+=o*D,k+=a*v,k+=u*b,k+=c*y,C=k>>>13,k&=8191,k+=f*(5*m),k+=l*(5*g),k+=h*(5*T),k+=d*(5*O),k+=p*(5*_),C+=k>>>13,k&=8191;var K=C;K+=s*_,K+=o*w,K+=a*D,K+=u*v,K+=c*b,C=K>>>13,K&=8191,K+=f*y,K+=l*(5*m),K+=h*(5*g),K+=d*(5*T),K+=p*(5*O),C+=K>>>13,K&=8191;var B=C;B+=s*O,B+=o*_,B+=a*w,B+=u*D,B+=c*v,C=B>>>13,B&=8191,B+=f*b,B+=l*y,B+=h*(5*m),B+=d*(5*g),B+=p*(5*T),C+=B>>>13,B&=8191;var z=C;z+=s*T,z+=o*O,z+=a*_,z+=u*w,z+=c*D,C=z>>>13,z&=8191,z+=f*v,z+=l*b,z+=h*y,z+=d*(5*m),z+=p*(5*g),C+=z>>>13,z&=8191;var $=C;$+=s*g,$+=o*T,$+=a*O,$+=u*_,$+=c*w,C=$>>>13,$&=8191,$+=f*D,$+=l*v,$+=h*b,$+=d*y,$+=p*(5*m),C+=$>>>13,$&=8191;var H=C;H+=s*m,H+=o*g,H+=a*T,H+=u*O,H+=c*_,C=H>>>13,H&=8191,H+=f*w,H+=l*D,H+=h*v,H+=d*b,H+=p*y,C+=H>>>13,H&=8191,C=(C<<2)+C|0,C=C+V|0,V=C&8191,C=C>>>13,ae+=C,s=V,o=ae,a=M,u=j,c=k,f=K,l=B,h=z,d=$,p=H,n+=16,r-=16}this._h[0]=s,this._h[1]=o,this._h[2]=a,this._h[3]=u,this._h[4]=c,this._h[5]=f,this._h[6]=l,this._h[7]=h,this._h[8]=d,this._h[9]=p},t.prototype.finish=function(e,n){n===void 0&&(n=0);var r=new Uint16Array(10),i,s,o,a;if(this._leftover){for(a=this._leftover,this._buffer[a++]=1;a<16;a++)this._buffer[a]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(i=this._h[1]>>>13,this._h[1]&=8191,a=2;a<10;a++)this._h[a]+=i,i=this._h[a]>>>13,this._h[a]&=8191;for(this._h[0]+=i*5,i=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=i,i=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=i,r[0]=this._h[0]+5,i=r[0]>>>13,r[0]&=8191,a=1;a<10;a++)r[a]=this._h[a]+i,i=r[a]>>>13,r[a]&=8191;for(r[9]-=8192,s=(i^1)-1,a=0;a<10;a++)r[a]&=s;for(s=~s,a=0;a<10;a++)this._h[a]=this._h[a]&s|r[a];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,o=this._h[0]+this._pad[0],this._h[0]=o&65535,a=1;a<8;a++)o=(this._h[a]+this._pad[a]|0)+(o>>>16)|0,this._h[a]=o&65535;return e[n+0]=this._h[0]>>>0,e[n+1]=this._h[0]>>>8,e[n+2]=this._h[1]>>>0,e[n+3]=this._h[1]>>>8,e[n+4]=this._h[2]>>>0,e[n+5]=this._h[2]>>>8,e[n+6]=this._h[3]>>>0,e[n+7]=this._h[3]>>>8,e[n+8]=this._h[4]>>>0,e[n+9]=this._h[4]>>>8,e[n+10]=this._h[5]>>>0,e[n+11]=this._h[5]>>>8,e[n+12]=this._h[6]>>>0,e[n+13]=this._h[6]>>>8,e[n+14]=this._h[7]>>>0,e[n+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(e){var n=0,r=e.length,i;if(this._leftover){i=16-this._leftover,i>r&&(i=r);for(var s=0;s<i;s++)this._buffer[this._leftover+s]=e[n+s];if(r-=i,n+=i,this._leftover+=i,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(r>=16&&(i=r-r%16,this._blocks(e,n,i),n+=i,r-=i),r){for(var s=0;s<r;s++)this._buffer[this._leftover+s]=e[n+s];this._leftover+=r}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},t.prototype.clean=function(){return fi.wipe(this._buffer),fi.wipe(this._r),fi.wipe(this._h),fi.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();Xe.Poly1305=vl;function iw(t,e){var n=new vl(t);n.update(e);var r=n.digest();return n.clean(),r}Xe.oneTimeAuth=iw;function sw(t,e){return t.length!==Xe.DIGEST_LENGTH||e.length!==Xe.DIGEST_LENGTH?!1:nw.equal(t,e)}Xe.equal=sw});var Dl=L(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});var li=bl(),ow=_l(),Jr=Re(),El=nr(),aw=ui();Qe.KEY_LENGTH=32;Qe.NONCE_LENGTH=12;Qe.TAG_LENGTH=16;var xl=new Uint8Array(16),cw=function(){function t(e){if(this.nonceLength=Qe.NONCE_LENGTH,this.tagLength=Qe.TAG_LENGTH,e.length!==Qe.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(e)}return t.prototype.seal=function(e,n,r,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);li.stream(this._key,s,o,4);var a=n.length+this.tagLength,u;if(i){if(i.length!==a)throw new Error("ChaCha20Poly1305: incorrect destination length");u=i}else u=new Uint8Array(a);return li.streamXOR(this._key,s,n,u,4),this._authenticate(u.subarray(u.length-this.tagLength,u.length),o,u.subarray(0,u.length-this.tagLength),r),Jr.wipe(s),u},t.prototype.open=function(e,n,r,i){if(e.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(n.length<this.tagLength)return null;var s=new Uint8Array(16);s.set(e,s.length-e.length);var o=new Uint8Array(32);li.stream(this._key,s,o,4);var a=new Uint8Array(this.tagLength);if(this._authenticate(a,o,n.subarray(0,n.length-this.tagLength),r),!aw.equal(a,n.subarray(n.length-this.tagLength,n.length)))return null;var u=n.length-this.tagLength,c;if(i){if(i.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");c=i}else c=new Uint8Array(u);return li.streamXOR(this._key,s,n.subarray(0,n.length-this.tagLength),c,4),Jr.wipe(s),c},t.prototype.clean=function(){return Jr.wipe(this._key),this},t.prototype._authenticate=function(e,n,r,i){var s=new ow.Poly1305(n);i&&(s.update(i),i.length%16>0&&s.update(xl.subarray(i.length%16))),s.update(r),r.length%16>0&&s.update(xl.subarray(r.length%16));var o=new Uint8Array(8);i&&El.writeUint64LE(i.length,o),s.update(o),El.writeUint64LE(r.length,o),s.update(o);for(var a=s.digest(),u=0;u<a.length;u++)e[u]=a[u];s.clean(),Jr.wipe(a),Jr.wipe(o)},t}();Qe.ChaCha20Poly1305=cw});var Sl=L(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});function uw(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}Ko.isSerializableHash=uw});var Ol=L(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});var ze=Sl(),fw=ui(),lw=Re(),Il=function(){function t(e,n){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);n.length>this.blockSize?this._inner.update(n).finish(r).clean():r.set(n);for(var i=0;i<r.length;i++)r[i]^=54;this._inner.update(r);for(var i=0;i<r.length;i++)r[i]^=106;this._outer.update(r),ze.isSerializableHash(this._inner)&&ze.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),lw.wipe(r)}return t.prototype.reset=function(){if(!ze.isSerializableHash(this._inner)||!ze.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){ze.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),ze.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!ze.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!ze.isSerializableHash(this._inner)||!ze.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!ze.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();Yr.HMAC=Il;function hw(t,e,n){var r=new Il(t,e);r.update(n);var i=r.digest();return r.clean(),i}Yr.hmac=hw;Yr.equal=fw.equal});var Cl=L(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});var Tl=Ol(),Al=Re(),dw=function(){function t(e,n,r,i){r===void 0&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=Tl.hmac(this._hash,r,n);this._hmac=new Tl.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var n=new Uint8Array(e),r=0;r<n.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),n[r]=this._buffer[this._bufpos++];return n},t.prototype.clean=function(){this._hmac.clean(),Al.wipe(this._buffer),Al.wipe(this._counter),this._bufpos=0},t}();zo.HKDF=dw});var Nl=L(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});var di=nr(),hi=Re();ht.DIGEST_LENGTH=32;ht.BLOCK_SIZE=64;var Rl=function(){function t(){this.digestLength=ht.DIGEST_LENGTH,this.blockSize=ht.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){hi.wipe(this._buffer),hi.wipe(this._temp),this.reset()},t.prototype.update=function(e,n){if(n===void 0&&(n=e.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=n,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&n>0;)this._buffer[this._bufferLength++]=e[r++],n--;this._bufferLength===this.blockSize&&($o(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(n>=this.blockSize&&(r=$o(this._temp,this._state,e,r,n),n%=this.blockSize);n>0;)this._buffer[this._bufferLength++]=e[r++],n--;return this},t.prototype.finish=function(e){if(!this._finished){var n=this._bytesHashed,r=this._bufferLength,i=n/536870912|0,s=n<<3,o=n%64<56?64:128;this._buffer[r]=128;for(var a=r+1;a<o-8;a++)this._buffer[a]=0;di.writeUint32BE(i,this._buffer,o-8),di.writeUint32BE(s,this._buffer,o-4),$o(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(var a=0;a<this.digestLength/4;a++)di.writeUint32BE(this._state[a],e,a*4);return this},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(e){hi.wipe(e.state),e.buffer&&hi.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},t}();ht.SHA256=Rl;var pw=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function $o(t,e,n,r,i){for(;i>=64;){for(var s=e[0],o=e[1],a=e[2],u=e[3],c=e[4],f=e[5],l=e[6],h=e[7],d=0;d<16;d++){var p=r+d*4;t[d]=di.readUint32BE(n,p)}for(var d=16;d<64;d++){var y=t[d-2],b=(y>>>17|y<<32-17)^(y>>>19|y<<32-19)^y>>>10;y=t[d-15];var v=(y>>>7|y<<32-7)^(y>>>18|y<<32-18)^y>>>3;t[d]=(b+t[d-7]|0)+(v+t[d-16]|0)}for(var d=0;d<64;d++){var b=(((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))+(c&f^~c&l)|0)+(h+(pw[d]+t[d]|0)|0)|0,v=((s>>>2|s<<32-2)^(s>>>13|s<<32-13)^(s>>>22|s<<32-22))+(s&o^s&a^o&a)|0;h=l,l=f,f=c,c=u+b|0,u=a,a=o,o=s,s=b+v|0}e[0]+=s,e[1]+=o,e[2]+=a,e[3]+=u,e[4]+=c,e[5]+=f,e[6]+=l,e[7]+=h,r+=64,i-=64}return r}function gw(t){var e=new Rl;e.update(t);var n=e.digest();return e.clean(),n}ht.hash=gw});var Fl=L(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.sharedKey=de.generateKeyPair=de.generateKeyPairFromSeed=de.scalarMultBase=de.scalarMult=de.SHARED_KEY_LENGTH=de.SECRET_KEY_LENGTH=de.PUBLIC_KEY_LENGTH=void 0;var mw=kr(),yw=Re();de.PUBLIC_KEY_LENGTH=32;de.SECRET_KEY_LENGTH=32;de.SHARED_KEY_LENGTH=32;function $e(t){let e=new Float64Array(16);if(t)for(let n=0;n<t.length;n++)e[n]=t[n];return e}var Pl=new Uint8Array(32);Pl[0]=9;var bw=$e([56129,1]);function Ho(t){let e=1;for(let n=0;n<16;n++){let r=t[n]+e+65535;e=Math.floor(r/65536),t[n]=r-e*65536}t[0]+=e-1+37*(e-1)}function Xr(t,e,n){let r=~(n-1);for(let i=0;i<16;i++){let s=r&(t[i]^e[i]);t[i]^=s,e[i]^=s}}function ww(t,e){let n=$e(),r=$e();for(let i=0;i<16;i++)r[i]=e[i];Ho(r),Ho(r),Ho(r);for(let i=0;i<2;i++){n[0]=r[0]-65517;for(let o=1;o<15;o++)n[o]=r[o]-65535-(n[o-1]>>16&1),n[o-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);let s=n[15]>>16&1;n[14]&=65535,Xr(r,n,1-s)}for(let i=0;i<16;i++)t[2*i]=r[i]&255,t[2*i+1]=r[i]>>8}function vw(t,e){for(let n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function pi(t,e,n){for(let r=0;r<16;r++)t[r]=e[r]+n[r]}function gi(t,e,n){for(let r=0;r<16;r++)t[r]=e[r]-n[r]}function Ze(t,e,n){let r,i,s=0,o=0,a=0,u=0,c=0,f=0,l=0,h=0,d=0,p=0,y=0,b=0,v=0,D=0,w=0,_=0,O=0,T=0,g=0,m=0,A=0,N=0,S=0,E=0,x=0,I=0,F=0,U=0,C=0,V=0,ae=0,M=n[0],j=n[1],k=n[2],K=n[3],B=n[4],z=n[5],$=n[6],H=n[7],W=n[8],J=n[9],Y=n[10],X=n[11],G=n[12],Z=n[13],ee=n[14],te=n[15];r=e[0],s+=r*M,o+=r*j,a+=r*k,u+=r*K,c+=r*B,f+=r*z,l+=r*$,h+=r*H,d+=r*W,p+=r*J,y+=r*Y,b+=r*X,v+=r*G,D+=r*Z,w+=r*ee,_+=r*te,r=e[1],o+=r*M,a+=r*j,u+=r*k,c+=r*K,f+=r*B,l+=r*z,h+=r*$,d+=r*H,p+=r*W,y+=r*J,b+=r*Y,v+=r*X,D+=r*G,w+=r*Z,_+=r*ee,O+=r*te,r=e[2],a+=r*M,u+=r*j,c+=r*k,f+=r*K,l+=r*B,h+=r*z,d+=r*$,p+=r*H,y+=r*W,b+=r*J,v+=r*Y,D+=r*X,w+=r*G,_+=r*Z,O+=r*ee,T+=r*te,r=e[3],u+=r*M,c+=r*j,f+=r*k,l+=r*K,h+=r*B,d+=r*z,p+=r*$,y+=r*H,b+=r*W,v+=r*J,D+=r*Y,w+=r*X,_+=r*G,O+=r*Z,T+=r*ee,g+=r*te,r=e[4],c+=r*M,f+=r*j,l+=r*k,h+=r*K,d+=r*B,p+=r*z,y+=r*$,b+=r*H,v+=r*W,D+=r*J,w+=r*Y,_+=r*X,O+=r*G,T+=r*Z,g+=r*ee,m+=r*te,r=e[5],f+=r*M,l+=r*j,h+=r*k,d+=r*K,p+=r*B,y+=r*z,b+=r*$,v+=r*H,D+=r*W,w+=r*J,_+=r*Y,O+=r*X,T+=r*G,g+=r*Z,m+=r*ee,A+=r*te,r=e[6],l+=r*M,h+=r*j,d+=r*k,p+=r*K,y+=r*B,b+=r*z,v+=r*$,D+=r*H,w+=r*W,_+=r*J,O+=r*Y,T+=r*X,g+=r*G,m+=r*Z,A+=r*ee,N+=r*te,r=e[7],h+=r*M,d+=r*j,p+=r*k,y+=r*K,b+=r*B,v+=r*z,D+=r*$,w+=r*H,_+=r*W,O+=r*J,T+=r*Y,g+=r*X,m+=r*G,A+=r*Z,N+=r*ee,S+=r*te,r=e[8],d+=r*M,p+=r*j,y+=r*k,b+=r*K,v+=r*B,D+=r*z,w+=r*$,_+=r*H,O+=r*W,T+=r*J,g+=r*Y,m+=r*X,A+=r*G,N+=r*Z,S+=r*ee,E+=r*te,r=e[9],p+=r*M,y+=r*j,b+=r*k,v+=r*K,D+=r*B,w+=r*z,_+=r*$,O+=r*H,T+=r*W,g+=r*J,m+=r*Y,A+=r*X,N+=r*G,S+=r*Z,E+=r*ee,x+=r*te,r=e[10],y+=r*M,b+=r*j,v+=r*k,D+=r*K,w+=r*B,_+=r*z,O+=r*$,T+=r*H,g+=r*W,m+=r*J,A+=r*Y,N+=r*X,S+=r*G,E+=r*Z,x+=r*ee,I+=r*te,r=e[11],b+=r*M,v+=r*j,D+=r*k,w+=r*K,_+=r*B,O+=r*z,T+=r*$,g+=r*H,m+=r*W,A+=r*J,N+=r*Y,S+=r*X,E+=r*G,x+=r*Z,I+=r*ee,F+=r*te,r=e[12],v+=r*M,D+=r*j,w+=r*k,_+=r*K,O+=r*B,T+=r*z,g+=r*$,m+=r*H,A+=r*W,N+=r*J,S+=r*Y,E+=r*X,x+=r*G,I+=r*Z,F+=r*ee,U+=r*te,r=e[13],D+=r*M,w+=r*j,_+=r*k,O+=r*K,T+=r*B,g+=r*z,m+=r*$,A+=r*H,N+=r*W,S+=r*J,E+=r*Y,x+=r*X,I+=r*G,F+=r*Z,U+=r*ee,C+=r*te,r=e[14],w+=r*M,_+=r*j,O+=r*k,T+=r*K,g+=r*B,m+=r*z,A+=r*$,N+=r*H,S+=r*W,E+=r*J,x+=r*Y,I+=r*X,F+=r*G,U+=r*Z,C+=r*ee,V+=r*te,r=e[15],_+=r*M,O+=r*j,T+=r*k,g+=r*K,m+=r*B,A+=r*z,N+=r*$,S+=r*H,E+=r*W,x+=r*J,I+=r*Y,F+=r*X,U+=r*G,C+=r*Z,V+=r*ee,ae+=r*te,s+=38*O,o+=38*T,a+=38*g,u+=38*m,c+=38*A,f+=38*N,l+=38*S,h+=38*E,d+=38*x,p+=38*I,y+=38*F,b+=38*U,v+=38*C,D+=38*V,w+=38*ae,i=1,r=s+i+65535,i=Math.floor(r/65536),s=r-i*65536,r=o+i+65535,i=Math.floor(r/65536),o=r-i*65536,r=a+i+65535,i=Math.floor(r/65536),a=r-i*65536,r=u+i+65535,i=Math.floor(r/65536),u=r-i*65536,r=c+i+65535,i=Math.floor(r/65536),c=r-i*65536,r=f+i+65535,i=Math.floor(r/65536),f=r-i*65536,r=l+i+65535,i=Math.floor(r/65536),l=r-i*65536,r=h+i+65535,i=Math.floor(r/65536),h=r-i*65536,r=d+i+65535,i=Math.floor(r/65536),d=r-i*65536,r=p+i+65535,i=Math.floor(r/65536),p=r-i*65536,r=y+i+65535,i=Math.floor(r/65536),y=r-i*65536,r=b+i+65535,i=Math.floor(r/65536),b=r-i*65536,r=v+i+65535,i=Math.floor(r/65536),v=r-i*65536,r=D+i+65535,i=Math.floor(r/65536),D=r-i*65536,r=w+i+65535,i=Math.floor(r/65536),w=r-i*65536,r=_+i+65535,i=Math.floor(r/65536),_=r-i*65536,s+=i-1+37*(i-1),i=1,r=s+i+65535,i=Math.floor(r/65536),s=r-i*65536,r=o+i+65535,i=Math.floor(r/65536),o=r-i*65536,r=a+i+65535,i=Math.floor(r/65536),a=r-i*65536,r=u+i+65535,i=Math.floor(r/65536),u=r-i*65536,r=c+i+65535,i=Math.floor(r/65536),c=r-i*65536,r=f+i+65535,i=Math.floor(r/65536),f=r-i*65536,r=l+i+65535,i=Math.floor(r/65536),l=r-i*65536,r=h+i+65535,i=Math.floor(r/65536),h=r-i*65536,r=d+i+65535,i=Math.floor(r/65536),d=r-i*65536,r=p+i+65535,i=Math.floor(r/65536),p=r-i*65536,r=y+i+65535,i=Math.floor(r/65536),y=r-i*65536,r=b+i+65535,i=Math.floor(r/65536),b=r-i*65536,r=v+i+65535,i=Math.floor(r/65536),v=r-i*65536,r=D+i+65535,i=Math.floor(r/65536),D=r-i*65536,r=w+i+65535,i=Math.floor(r/65536),w=r-i*65536,r=_+i+65535,i=Math.floor(r/65536),_=r-i*65536,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=u,t[4]=c,t[5]=f,t[6]=l,t[7]=h,t[8]=d,t[9]=p,t[10]=y,t[11]=b,t[12]=v,t[13]=D,t[14]=w,t[15]=_}function Qr(t,e){Ze(t,e,e)}function _w(t,e){let n=$e();for(let r=0;r<16;r++)n[r]=e[r];for(let r=253;r>=0;r--)Qr(n,n),r!==2&&r!==4&&Ze(n,n,e);for(let r=0;r<16;r++)t[r]=n[r]}function Vo(t,e){let n=new Uint8Array(32),r=new Float64Array(80),i=$e(),s=$e(),o=$e(),a=$e(),u=$e(),c=$e();for(let d=0;d<31;d++)n[d]=t[d];n[31]=t[31]&127|64,n[0]&=248,vw(r,e);for(let d=0;d<16;d++)s[d]=r[d];i[0]=a[0]=1;for(let d=254;d>=0;--d){let p=n[d>>>3]>>>(d&7)&1;Xr(i,s,p),Xr(o,a,p),pi(u,i,o),gi(i,i,o),pi(o,s,a),gi(s,s,a),Qr(a,u),Qr(c,i),Ze(i,o,i),Ze(o,s,u),pi(u,i,o),gi(i,i,o),Qr(s,i),gi(o,a,c),Ze(i,o,bw),pi(i,i,a),Ze(o,o,i),Ze(i,a,c),Ze(a,s,r),Qr(s,u),Xr(i,s,p),Xr(o,a,p)}for(let d=0;d<16;d++)r[d+16]=i[d],r[d+32]=o[d],r[d+48]=s[d],r[d+64]=a[d];let f=r.subarray(32),l=r.subarray(16);_w(f,f),Ze(l,l,f);let h=new Uint8Array(32);return ww(h,l),h}de.scalarMult=Vo;function Ll(t){return Vo(t,Pl)}de.scalarMultBase=Ll;function Ml(t){if(t.length!==de.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${de.SECRET_KEY_LENGTH} bytes`);let e=new Uint8Array(t);return{publicKey:Ll(e),secretKey:e}}de.generateKeyPairFromSeed=Ml;function Ew(t){let e=(0,mw.randomBytes)(32,t),n=Ml(e);return(0,yw.wipe)(e),n}de.generateKeyPair=Ew;function xw(t,e,n=!1){if(t.length!==de.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(e.length!==de.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");let r=Vo(t,e);if(n){let i=0;for(let s=0;s<r.length;s++)i|=r[s];if(i===0)throw new Error("X25519: invalid shared key")}return r}de.sharedKey=xw});var qo=L(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.getLocalStorage=ce.getLocalStorageOrThrow=ce.getCrypto=ce.getCryptoOrThrow=ce.getLocation=ce.getLocationOrThrow=ce.getNavigator=ce.getNavigatorOrThrow=ce.getDocument=ce.getDocumentOrThrow=ce.getFromWindowOrThrow=ce.getFromWindow=void 0;function At(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}ce.getFromWindow=At;function pr(t){let e=At(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}ce.getFromWindowOrThrow=pr;function Fw(){return pr("document")}ce.getDocumentOrThrow=Fw;function Uw(){return At("document")}ce.getDocument=Uw;function Bw(){return pr("navigator")}ce.getNavigatorOrThrow=Bw;function jw(){return At("navigator")}ce.getNavigator=jw;function kw(){return pr("location")}ce.getLocationOrThrow=kw;function Kw(){return At("location")}ce.getLocation=Kw;function zw(){return pr("crypto")}ce.getCryptoOrThrow=zw;function $w(){return At("crypto")}ce.getCrypto=$w;function Hw(){return pr("localStorage")}ce.getLocalStorageOrThrow=Hw;function Vw(){return At("localStorage")}ce.getLocalStorage=Vw});var $l=L(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.getWindowMetadata=void 0;var zl=qo();function qw(){let t,e;try{t=zl.getDocumentOrThrow(),e=zl.getLocationOrThrow()}catch{return null}function n(){let l=t.getElementsByTagName("link"),h=[];for(let d=0;d<l.length;d++){let p=l[d],y=p.getAttribute("rel");if(y&&y.toLowerCase().indexOf("icon")>-1){let b=p.getAttribute("href");if(b)if(b.toLowerCase().indexOf("https:")===-1&&b.toLowerCase().indexOf("http:")===-1&&b.indexOf("//")!==0){let v=e.protocol+"//"+e.host;if(b.indexOf("/")===0)v+=b;else{let D=e.pathname.split("/");D.pop();let w=D.join("/");v+=w+"/"+b}h.push(v)}else if(b.indexOf("//")===0){let v=e.protocol+b;h.push(v)}else h.push(b)}}return h}function r(...l){let h=t.getElementsByTagName("meta");for(let d=0;d<h.length;d++){let p=h[d],y=["itemprop","property","name"].map(b=>p.getAttribute(b)).filter(b=>b?l.includes(b):!1);if(y.length&&y){let b=p.getAttribute("content");if(b)return b}}return""}function i(){let l=r("name","og:site_name","og:title","twitter:title");return l||(l=t.title),l}function s(){return r("description","og:description","twitter:description","keywords")}let o=i(),a=s(),u=e.origin,c=n();return{description:a,url:u,icons:c,name:o}}mi.getWindowMetadata=qw});var Vl=L((K2,Hl)=>{"use strict";Hl.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)});var Yl=L((z2,Jl)=>{"use strict";var Gl="%[a-f0-9]{2}",ql=new RegExp("("+Gl+")|([^%]+?)","gi"),Wl=new RegExp("("+Gl+")+","gi");function Wo(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],Wo(n),Wo(r))}function Ww(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(ql)||[],n=1;n<e.length;n++)t=Wo(e,n).join(""),e=t.match(ql)||[];return t}}function Gw(t){for(var e={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},n=Wl.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{var r=Ww(n[0]);r!==n[0]&&(e[n[0]]=r)}n=Wl.exec(t)}e["%C2"]="\uFFFD";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}Jl.exports=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return Gw(t)}}});var Ql=L(($2,Xl)=>{"use strict";Xl.exports=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];let n=t.indexOf(e);return n===-1?[t]:[t.slice(0,n),t.slice(n+e.length)]}});var eh=L((H2,Zl)=>{"use strict";Zl.exports=function(t,e){for(var n={},r=Object.keys(t),i=Array.isArray(e),s=0;s<r.length;s++){var o=r[s],a=t[o];(i?e.indexOf(o)!==-1:e(o,a,t))&&(n[o]=a)}return n}});var ch=L(Oe=>{"use strict";var Jw=Vl(),Yw=Yl(),rh=Ql(),Xw=eh(),Qw=t=>t==null,Go=Symbol("encodeFragmentIdentifier");function Zw(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{let i=n.length;return r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[pe(e,t),"[",i,"]"].join("")]:[...n,[pe(e,t),"[",pe(i,t),"]=",pe(r,t)].join("")]};case"bracket":return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[pe(e,t),"[]"].join("")]:[...n,[pe(e,t),"[]=",pe(r,t)].join("")];case"colon-list-separator":return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[pe(e,t),":list="].join("")]:[...n,[pe(e,t),":list=",pe(r,t)].join("")];case"comma":case"separator":case"bracket-separator":{let e=t.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:(i=i===null?"":i,r.length===0?[[pe(n,t),e,pe(i,t)].join("")]:[[r,pe(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,pe(e,t)]:[...n,[pe(e,t),"=",pe(r,t)].join("")]}}function ev(t){let e;switch(t.arrayFormat){case"index":return(n,r,i)=>{if(e=/\[(\d*)\]$/.exec(n),n=n.replace(/\[\d*\]$/,""),!e){i[n]=r;return}i[n]===void 0&&(i[n]={}),i[n][e[1]]=r};case"bracket":return(n,r,i)=>{if(e=/(\[\])$/.exec(n),n=n.replace(/\[\]$/,""),!e){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[].concat(i[n],r)};case"colon-list-separator":return(n,r,i)=>{if(e=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!e){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[].concat(i[n],r)};case"comma":case"separator":return(n,r,i)=>{let s=typeof r=="string"&&r.includes(t.arrayFormatSeparator),o=typeof r=="string"&&!s&&et(r,t).includes(t.arrayFormatSeparator);r=o?et(r,t):r;let a=s||o?r.split(t.arrayFormatSeparator).map(u=>et(u,t)):r===null?r:et(r,t);i[n]=a};case"bracket-separator":return(n,r,i)=>{let s=/(\[\])$/.test(n);if(n=n.replace(/\[\]$/,""),!s){i[n]=r&&et(r,t);return}let o=r===null?[]:r.split(t.arrayFormatSeparator).map(a=>et(a,t));if(i[n]===void 0){i[n]=o;return}i[n]=[].concat(i[n],o)};default:return(n,r,i)=>{if(i[n]===void 0){i[n]=r;return}i[n]=[].concat(i[n],r)}}}function nh(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function pe(t,e){return e.encode?e.strict?Jw(t):encodeURIComponent(t):t}function et(t,e){return e.decode?Yw(t):t}function ih(t){return Array.isArray(t)?t.sort():typeof t=="object"?ih(Object.keys(t)).sort((e,n)=>Number(e)-Number(n)).map(e=>t[e]):t}function sh(t){let e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function tv(t){let e="",n=t.indexOf("#");return n!==-1&&(e=t.slice(n)),e}function oh(t){t=sh(t);let e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function th(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function ah(t,e){e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e),nh(e.arrayFormatSeparator);let n=ev(e),r=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return r;for(let i of t.split("&")){if(i==="")continue;let[s,o]=rh(e.decode?i.replace(/\+/g," "):i,"=");o=o===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:et(o,e),n(et(s,e),o,r)}for(let i of Object.keys(r)){let s=r[i];if(typeof s=="object"&&s!==null)for(let o of Object.keys(s))s[o]=th(s[o],e);else r[i]=th(s,e)}return e.sort===!1?r:(e.sort===!0?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((i,s)=>{let o=r[s];return o&&typeof o=="object"&&!Array.isArray(o)?i[s]=ih(o):i[s]=o,i},Object.create(null))}Oe.extract=oh;Oe.parse=ah;Oe.stringify=(t,e)=>{if(!t)return"";e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e),nh(e.arrayFormatSeparator);let n=o=>e.skipNull&&Qw(t[o])||e.skipEmptyString&&t[o]==="",r=Zw(e),i={};for(let o of Object.keys(t))n(o)||(i[o]=t[o]);let s=Object.keys(i);return e.sort!==!1&&s.sort(e.sort),s.map(o=>{let a=t[o];return a===void 0?"":a===null?pe(o,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?pe(o,e)+"[]":a.reduce(r(o),[]).join("&"):pe(o,e)+"="+pe(a,e)}).filter(o=>o.length>0).join("&")};Oe.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);let[n,r]=rh(t,"#");return Object.assign({url:n.split("?")[0]||"",query:ah(oh(t),e)},e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:et(r,e)}:{})};Oe.stringifyUrl=(t,e)=>{e=Object.assign({encode:!0,strict:!0,[Go]:!0},e);let n=sh(t.url).split("?")[0]||"",r=Oe.extract(t.url),i=Oe.parse(r,{sort:!1}),s=Object.assign(i,t.query),o=Oe.stringify(s,e);o&&(o=`?${o}`);let a=tv(t.url);return t.fragmentIdentifier&&(a=`#${e[Go]?pe(t.fragmentIdentifier,e):t.fragmentIdentifier}`),`${n}${o}${a}`};Oe.pick=(t,e,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[Go]:!1},n);let{url:r,query:i,fragmentIdentifier:s}=Oe.parseUrl(t,n);return Oe.stringifyUrl({url:r,query:Xw(i,e),fragmentIdentifier:s},n)};Oe.exclude=(t,e,n)=>{let r=Array.isArray(e)?i=>!e.includes(i):(i,s)=>!e(i,s);return Oe.pick(t,r,n)}});var Hh={};ge(Hh,{__assign:()=>ha,__asyncDelegator:()=>Hv,__asyncGenerator:()=>$v,__asyncValues:()=>Vv,__await:()=>cn,__awaiter:()=>Uv,__classPrivateFieldGet:()=>Jv,__classPrivateFieldSet:()=>Yv,__createBinding:()=>jv,__decorate:()=>Lv,__exportStar:()=>kv,__extends:()=>Nv,__generator:()=>Bv,__importDefault:()=>Gv,__importStar:()=>Wv,__makeTemplateObject:()=>qv,__metadata:()=>Fv,__param:()=>Mv,__read:()=>$h,__rest:()=>Pv,__spread:()=>Kv,__spreadArrays:()=>zv,__values:()=>da});function Nv(t,e){la(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Pv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Lv(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Mv(t,e){return function(n,r){e(n,r,t)}}function Fv(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Uv(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{c(r.next(f))}catch(l){o(l)}}function u(f){try{c(r.throw(f))}catch(l){o(l)}}function c(f){f.done?s(f.value):i(f.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}function Bv(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(f){return u([c,f])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(f){c=[6,f],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function jv(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function kv(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function da(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function $h(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Kv(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($h(arguments[e]));return t}function zv(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function cn(t){return this instanceof cn?(this.v=t,this):new cn(t)}function $v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(d){return new Promise(function(p,y){s.push([h,d,p,y])>1||a(h,d)})})}function a(h,d){try{u(r[h](d))}catch(p){l(s[0][3],p)}}function u(h){h.value instanceof cn?Promise.resolve(h.value.v).then(c,f):l(s[0][2],h)}function c(h){a("next",h)}function f(h){a("throw",h)}function l(h,d){h(d),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Hv(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:cn(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Vv(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof da=="function"?da(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}}function qv(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Wv(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Gv(t){return t&&t.__esModule?t:{default:t}}function Jv(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Yv(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}var la,ha,Vh=Ht(()=>{la=function(t,e){return la=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},la(t,e)};ha=function(){return ha=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ha.apply(this,arguments)}});var Wh=L(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.isBrowserCryptoAvailable=gt.getSubtleCrypto=gt.getBrowerCrypto=void 0;function pa(){return(global==null?void 0:global.crypto)||(global==null?void 0:global.msCrypto)||{}}gt.getBrowerCrypto=pa;function qh(){let t=pa();return t.subtle||t.webkitSubtle}gt.getSubtleCrypto=qh;function Xv(){return!!pa()&&!!qh()}gt.isBrowserCryptoAvailable=Xv});var Yh=L(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.isBrowser=mt.isNode=mt.isReactNative=void 0;function Gh(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}mt.isReactNative=Gh;function Jh(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}mt.isNode=Jh;function Qv(){return!Gh()&&!Jh()}mt.isBrowser=Qv});var ga=L(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});var Xh=(Vh(),Me(Hh));Xh.__exportStar(Wh(),Ci);Xh.__exportStar(Yh(),Ci)});var id=L((r5,nd)=>{"use strict";nd.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var zd=L((hn,xr)=>{var f_=200,Ca="__lodash_hash_undefined__",Wi=1,wd=2,vd=9007199254740991,ki="[object Arguments]",xa="[object Array]",l_="[object AsyncFunction]",_d="[object Boolean]",Ed="[object Date]",xd="[object Error]",Dd="[object Function]",h_="[object GeneratorFunction]",Ki="[object Map]",Sd="[object Number]",d_="[object Null]",Er="[object Object]",cd="[object Promise]",p_="[object Proxy]",Id="[object RegExp]",zi="[object Set]",Od="[object String]",g_="[object Symbol]",m_="[object Undefined]",Da="[object WeakMap]",Td="[object ArrayBuffer]",$i="[object DataView]",y_="[object Float32Array]",b_="[object Float64Array]",w_="[object Int8Array]",v_="[object Int16Array]",__="[object Int32Array]",E_="[object Uint8Array]",x_="[object Uint8ClampedArray]",D_="[object Uint16Array]",S_="[object Uint32Array]",I_=/[\\^$.*+?()[\]{}|]/g,O_=/^\[object .+?Constructor\]$/,T_=/^(?:0|[1-9]\d*)$/,ue={};ue[y_]=ue[b_]=ue[w_]=ue[v_]=ue[__]=ue[E_]=ue[x_]=ue[D_]=ue[S_]=!0;ue[ki]=ue[xa]=ue[Td]=ue[_d]=ue[$i]=ue[Ed]=ue[xd]=ue[Dd]=ue[Ki]=ue[Sd]=ue[Er]=ue[Id]=ue[zi]=ue[Od]=ue[Da]=!1;var Ad=typeof global=="object"&&global&&global.Object===Object&&global,A_=typeof self=="object"&&self&&self.Object===Object&&self,rt=Ad||A_||Function("return this")(),Cd=typeof hn=="object"&&hn&&!hn.nodeType&&hn,ud=Cd&&typeof xr=="object"&&xr&&!xr.nodeType&&xr,Rd=ud&&ud.exports===Cd,va=Rd&&Ad.process,fd=function(){try{return va&&va.binding&&va.binding("util")}catch{}}(),ld=fd&&fd.isTypedArray;function C_(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function R_(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function N_(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function P_(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function L_(t){return function(e){return t(e)}}function M_(t,e){return t.has(e)}function F_(t,e){return t?.[e]}function U_(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function B_(t,e){return function(n){return t(e(n))}}function j_(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var k_=Array.prototype,K_=Function.prototype,Gi=Object.prototype,_a=rt["__core-js_shared__"],Nd=K_.toString,He=Gi.hasOwnProperty,hd=function(){var t=/[^.]+$/.exec(_a&&_a.keys&&_a.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Pd=Gi.toString,z_=RegExp("^"+Nd.call(He).replace(I_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dd=Rd?rt.Buffer:void 0,Hi=rt.Symbol,pd=rt.Uint8Array,Ld=Gi.propertyIsEnumerable,$_=k_.splice,Pt=Hi?Hi.toStringTag:void 0,gd=Object.getOwnPropertySymbols,H_=dd?dd.isBuffer:void 0,V_=B_(Object.keys,Object),Sa=Dr(rt,"DataView"),dn=Dr(rt,"Map"),Ia=Dr(rt,"Promise"),Oa=Dr(rt,"Set"),Ta=Dr(rt,"WeakMap"),pn=Dr(Object,"create"),q_=Ft(Sa),W_=Ft(dn),G_=Ft(Ia),J_=Ft(Oa),Y_=Ft(Ta),md=Hi?Hi.prototype:void 0,Ea=md?md.valueOf:void 0;function Lt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function X_(){this.__data__=pn?pn(null):{},this.size=0}function Q_(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Z_(t){var e=this.__data__;if(pn){var n=e[t];return n===Ca?void 0:n}return He.call(e,t)?e[t]:void 0}function e1(t){var e=this.__data__;return pn?e[t]!==void 0:He.call(e,t)}function t1(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=pn&&e===void 0?Ca:e,this}Lt.prototype.clear=X_;Lt.prototype.delete=Q_;Lt.prototype.get=Z_;Lt.prototype.has=e1;Lt.prototype.set=t1;function nt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function r1(){this.__data__=[],this.size=0}function n1(t){var e=this.__data__,n=Ji(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():$_.call(e,n,1),--this.size,!0}function i1(t){var e=this.__data__,n=Ji(e,t);return n<0?void 0:e[n][1]}function s1(t){return Ji(this.__data__,t)>-1}function o1(t,e){var n=this.__data__,r=Ji(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}nt.prototype.clear=r1;nt.prototype.delete=n1;nt.prototype.get=i1;nt.prototype.has=s1;nt.prototype.set=o1;function Mt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function a1(){this.size=0,this.__data__={hash:new Lt,map:new(dn||nt),string:new Lt}}function c1(t){var e=Yi(this,t).delete(t);return this.size-=e?1:0,e}function u1(t){return Yi(this,t).get(t)}function f1(t){return Yi(this,t).has(t)}function l1(t,e){var n=Yi(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}Mt.prototype.clear=a1;Mt.prototype.delete=c1;Mt.prototype.get=u1;Mt.prototype.has=f1;Mt.prototype.set=l1;function Vi(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Mt;++e<n;)this.add(t[e])}function h1(t){return this.__data__.set(t,Ca),this}function d1(t){return this.__data__.has(t)}Vi.prototype.add=Vi.prototype.push=h1;Vi.prototype.has=d1;function bt(t){var e=this.__data__=new nt(t);this.size=e.size}function p1(){this.__data__=new nt,this.size=0}function g1(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function m1(t){return this.__data__.get(t)}function y1(t){return this.__data__.has(t)}function b1(t,e){var n=this.__data__;if(n instanceof nt){var r=n.__data__;if(!dn||r.length<f_-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Mt(r)}return n.set(t,e),this.size=n.size,this}bt.prototype.clear=p1;bt.prototype.delete=g1;bt.prototype.get=m1;bt.prototype.has=y1;bt.prototype.set=b1;function w1(t,e){var n=qi(t),r=!n&&L1(t),i=!n&&!r&&Aa(t),s=!n&&!r&&!i&&Kd(t),o=n||r||i||s,a=o?P_(t.length,String):[],u=a.length;for(var c in t)(e||He.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||A1(c,u)))&&a.push(c);return a}function Ji(t,e){for(var n=t.length;n--;)if(Ud(t[n][0],e))return n;return-1}function v1(t,e,n){var r=e(t);return qi(t)?r:R_(r,n(t))}function mn(t){return t==null?t===void 0?m_:d_:Pt&&Pt in Object(t)?O1(t):P1(t)}function yd(t){return gn(t)&&mn(t)==ki}function Md(t,e,n,r,i){return t===e?!0:t==null||e==null||!gn(t)&&!gn(e)?t!==t&&e!==e:_1(t,e,n,r,Md,i)}function _1(t,e,n,r,i,s){var o=qi(t),a=qi(e),u=o?xa:yt(t),c=a?xa:yt(e);u=u==ki?Er:u,c=c==ki?Er:c;var f=u==Er,l=c==Er,h=u==c;if(h&&Aa(t)){if(!Aa(e))return!1;o=!0,f=!1}if(h&&!f)return s||(s=new bt),o||Kd(t)?Fd(t,e,n,r,i,s):S1(t,e,u,n,r,i,s);if(!(n&Wi)){var d=f&&He.call(t,"__wrapped__"),p=l&&He.call(e,"__wrapped__");if(d||p){var y=d?t.value():t,b=p?e.value():e;return s||(s=new bt),i(y,b,n,r,s)}}return h?(s||(s=new bt),I1(t,e,n,r,i,s)):!1}function E1(t){if(!kd(t)||R1(t))return!1;var e=Bd(t)?z_:O_;return e.test(Ft(t))}function x1(t){return gn(t)&&jd(t.length)&&!!ue[mn(t)]}function D1(t){if(!N1(t))return V_(t);var e=[];for(var n in Object(t))He.call(t,n)&&n!="constructor"&&e.push(n);return e}function Fd(t,e,n,r,i,s){var o=n&Wi,a=t.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var c=s.get(t);if(c&&s.get(e))return c==e;var f=-1,l=!0,h=n&wd?new Vi:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var d=t[f],p=e[f];if(r)var y=o?r(p,d,f,e,t,s):r(d,p,f,t,e,s);if(y!==void 0){if(y)continue;l=!1;break}if(h){if(!N_(e,function(b,v){if(!M_(h,v)&&(d===b||i(d,b,n,r,s)))return h.push(v)})){l=!1;break}}else if(!(d===p||i(d,p,n,r,s))){l=!1;break}}return s.delete(t),s.delete(e),l}function S1(t,e,n,r,i,s,o){switch(n){case $i:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Td:return!(t.byteLength!=e.byteLength||!s(new pd(t),new pd(e)));case _d:case Ed:case Sd:return Ud(+t,+e);case xd:return t.name==e.name&&t.message==e.message;case Id:case Od:return t==e+"";case Ki:var a=U_;case zi:var u=r&Wi;if(a||(a=j_),t.size!=e.size&&!u)return!1;var c=o.get(t);if(c)return c==e;r|=wd,o.set(t,e);var f=Fd(a(t),a(e),r,i,s,o);return o.delete(t),f;case g_:if(Ea)return Ea.call(t)==Ea.call(e)}return!1}function I1(t,e,n,r,i,s){var o=n&Wi,a=bd(t),u=a.length,c=bd(e),f=c.length;if(u!=f&&!o)return!1;for(var l=u;l--;){var h=a[l];if(!(o?h in e:He.call(e,h)))return!1}var d=s.get(t);if(d&&s.get(e))return d==e;var p=!0;s.set(t,e),s.set(e,t);for(var y=o;++l<u;){h=a[l];var b=t[h],v=e[h];if(r)var D=o?r(v,b,h,e,t,s):r(b,v,h,t,e,s);if(!(D===void 0?b===v||i(b,v,n,r,s):D)){p=!1;break}y||(y=h=="constructor")}if(p&&!y){var w=t.constructor,_=e.constructor;w!=_&&"constructor"in t&&"constructor"in e&&!(typeof w=="function"&&w instanceof w&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return s.delete(t),s.delete(e),p}function bd(t){return v1(t,U1,T1)}function Yi(t,e){var n=t.__data__;return C1(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Dr(t,e){var n=F_(t,e);return E1(n)?n:void 0}function O1(t){var e=He.call(t,Pt),n=t[Pt];try{t[Pt]=void 0;var r=!0}catch{}var i=Pd.call(t);return r&&(e?t[Pt]=n:delete t[Pt]),i}var T1=gd?function(t){return t==null?[]:(t=Object(t),C_(gd(t),function(e){return Ld.call(t,e)}))}:B1,yt=mn;(Sa&&yt(new Sa(new ArrayBuffer(1)))!=$i||dn&&yt(new dn)!=Ki||Ia&&yt(Ia.resolve())!=cd||Oa&&yt(new Oa)!=zi||Ta&&yt(new Ta)!=Da)&&(yt=function(t){var e=mn(t),n=e==Er?t.constructor:void 0,r=n?Ft(n):"";if(r)switch(r){case q_:return $i;case W_:return Ki;case G_:return cd;case J_:return zi;case Y_:return Da}return e});function A1(t,e){return e=e??vd,!!e&&(typeof t=="number"||T_.test(t))&&t>-1&&t%1==0&&t<e}function C1(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function R1(t){return!!hd&&hd in t}function N1(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Gi;return t===n}function P1(t){return Pd.call(t)}function Ft(t){if(t!=null){try{return Nd.call(t)}catch{}try{return t+""}catch{}}return""}function Ud(t,e){return t===e||t!==t&&e!==e}var L1=yd(function(){return arguments}())?yd:function(t){return gn(t)&&He.call(t,"callee")&&!Ld.call(t,"callee")},qi=Array.isArray;function M1(t){return t!=null&&jd(t.length)&&!Bd(t)}var Aa=H_||j1;function F1(t,e){return Md(t,e)}function Bd(t){if(!kd(t))return!1;var e=mn(t);return e==Dd||e==h_||e==l_||e==p_}function jd(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=vd}function kd(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function gn(t){return t!=null&&typeof t=="object"}var Kd=ld?L_(ld):x1;function U1(t){return M1(t)?w1(t):D1(t)}function B1(){return[]}function j1(){return!1}xr.exports=F1});var Ra=L((o5,$d)=>{$d.exports=function(t,e){return e=e||{},new Promise(function(n,r){var i=new XMLHttpRequest,s=[],o=[],a={},u=function(){return{ok:(i.status/100|0)==2,statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return s},entries:function(){return o},get:function(f){return a[f.toLowerCase()]},has:function(f){return f.toLowerCase()in a}}}};for(var c in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(f,l,h){s.push(l=l.toLowerCase()),o.push([l,h]),a[l]=a[l]?a[l]+","+h:h}),n(u())},i.onerror=r,i.withCredentials=e.credentials=="include",e.headers)i.setRequestHeader(c,e.headers[c]);i.send(e.body||null)})}});var Vd=L((a5,Hd)=>{Hd.exports=self.fetch||(self.fetch=Ra().default||Ra())});var st=le(qt());var Wg=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Gg=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Jg=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Yg(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Xg(t);return}return e}function Xg(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Sr(t,e={}){if(typeof t!="string")return t;let n=t.trim();if(t[0]==='"'&&t.at(-1)==='"'&&!t.includes("\\"))return n.slice(1,-1);if(n.length<=9){let r=n.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="undefined")return;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r==="-infinity")return Number.NEGATIVE_INFINITY}if(!Jg.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Wg.test(t)||Gg.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Yg)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function Qg(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function me(t,...e){try{return Qg(t(...e))}catch(n){return Promise.reject(n)}}function Zg(t){let e=typeof t;return t===null||e!=="object"&&e!=="function"}function em(t){let e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Ir(t){if(Zg(t))return String(t);if(em(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Ir(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function lu(){if(typeof Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}var bs="base64:";function hu(t){if(typeof t=="string")return t;lu();let e=Buffer.from(t).toString("base64");return bs+e}function du(t){return typeof t!="string"||!t.startsWith(bs)?t:(lu(),Buffer.from(t.slice(bs.length),"base64"))}function xe(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function pu(...t){return xe(t.join(":"))}function Or(t){return t=xe(t),t?t+":":""}var tm="memory",rm=()=>{let t=new Map;return{name:tm,options:{},hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return Array.from(t.keys())},clear(){t.clear()},dispose(){t.clear()}}};function yu(t={}){let e={mounts:{"":t.driver||rm()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=c=>{for(let f of e.mountpoints)if(c.startsWith(f))return{base:f,relativeKey:c.slice(f.length),driver:e.mounts[f]};return{base:"",relativeKey:c,driver:e.mounts[""]}},r=(c,f)=>e.mountpoints.filter(l=>l.startsWith(c)||f&&c.startsWith(l)).map(l=>({relativeBase:c.length>l.length?c.slice(l.length):void 0,mountpoint:l,driver:e.mounts[l]})),i=(c,f)=>{if(e.watching){f=xe(f);for(let l of e.watchListeners)l(c,f)}},s=async()=>{if(!e.watching){e.watching=!0;for(let c in e.mounts)e.unwatch[c]=await gu(e.mounts[c],i,c)}},o=async()=>{if(e.watching){for(let c in e.unwatch)await e.unwatch[c]();e.unwatch={},e.watching=!1}},a=(c,f,l)=>{let h=new Map,d=p=>{let y=h.get(p.base);return y||(y={driver:p.driver,base:p.base,items:[]},h.set(p.base,y)),y};for(let p of c){let y=typeof p=="string",b=xe(y?p:p.key),v=y?void 0:p.value,D=y||!p.options?f:{...f,...p.options},w=n(b);d(w).items.push({key:b,value:v,relativeKey:w.relativeKey,options:D})}return Promise.all([...h.values()].map(p=>l(p))).then(p=>p.flat())},u={hasItem(c,f={}){c=xe(c);let{relativeKey:l,driver:h}=n(c);return me(h.hasItem,l,f)},getItem(c,f={}){c=xe(c);let{relativeKey:l,driver:h}=n(c);return me(h.getItem,l,f).then(d=>Sr(d))},getItems(c,f){return a(c,f,l=>l.driver.getItems?me(l.driver.getItems,l.items.map(h=>({key:h.relativeKey,options:h.options})),f).then(h=>h.map(d=>({key:pu(l.base,d.key),value:Sr(d.value)}))):Promise.all(l.items.map(h=>me(l.driver.getItem,h.relativeKey,h.options).then(d=>({key:h.key,value:Sr(d)})))))},getItemRaw(c,f={}){c=xe(c);let{relativeKey:l,driver:h}=n(c);return h.getItemRaw?me(h.getItemRaw,l,f):me(h.getItem,l,f).then(d=>du(d))},async setItem(c,f,l={}){if(f===void 0)return u.removeItem(c);c=xe(c);let{relativeKey:h,driver:d}=n(c);d.setItem&&(await me(d.setItem,h,Ir(f),l),d.watch||i("update",c))},async setItems(c,f){await a(c,f,async l=>{l.driver.setItems&&await me(l.driver.setItems,l.items.map(h=>({key:h.relativeKey,value:Ir(h.value),options:h.options})),f),l.driver.setItem&&await Promise.all(l.items.map(h=>me(l.driver.setItem,h.relativeKey,Ir(h.value),h.options)))})},async setItemRaw(c,f,l={}){if(f===void 0)return u.removeItem(c,l);c=xe(c);let{relativeKey:h,driver:d}=n(c);if(d.setItemRaw)await me(d.setItemRaw,h,f,l);else if(d.setItem)await me(d.setItem,h,hu(f),l);else return;d.watch||i("update",c)},async removeItem(c,f={}){typeof f=="boolean"&&(f={removeMeta:f}),c=xe(c);let{relativeKey:l,driver:h}=n(c);h.removeItem&&(await me(h.removeItem,l,f),(f.removeMeta||f.removeMata)&&await me(h.removeItem,l+"$",f),h.watch||i("remove",c))},async getMeta(c,f={}){typeof f=="boolean"&&(f={nativeOnly:f}),c=xe(c);let{relativeKey:l,driver:h}=n(c),d=Object.create(null);if(h.getMeta&&Object.assign(d,await me(h.getMeta,l,f)),!f.nativeOnly){let p=await me(h.getItem,l+"$",f).then(y=>Sr(y));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(d,p))}return d},setMeta(c,f,l={}){return this.setItem(c+"$",f,l)},removeMeta(c,f={}){return this.removeItem(c+"$",f)},async getKeys(c,f={}){c=Or(c);let l=r(c,!0),h=[],d=[];for(let p of l){let b=(await me(p.driver.getKeys,p.relativeBase,f)).map(v=>p.mountpoint+xe(v)).filter(v=>!h.some(D=>v.startsWith(D)));d.push(...b),h=[p.mountpoint,...h.filter(v=>!v.startsWith(p.mountpoint))]}return c?d.filter(p=>p.startsWith(c)&&!p.endsWith("$")):d.filter(p=>!p.endsWith("$"))},async clear(c,f={}){c=Or(c),await Promise.all(r(c,!1).map(async l=>{if(l.driver.clear)return me(l.driver.clear,l.relativeBase,f);if(l.driver.removeItem){let h=await l.driver.getKeys(l.relativeBase||"",f);return Promise.all(h.map(d=>l.driver.removeItem(d,f)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(c=>mu(c)))},async watch(c){return await s(),e.watchListeners.push(c),async()=>{e.watchListeners=e.watchListeners.filter(f=>f!==c),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(c,f){if(c=Or(c),c&&e.mounts[c])throw new Error(`already mounted at ${c}`);return c&&(e.mountpoints.push(c),e.mountpoints.sort((l,h)=>h.length-l.length)),e.mounts[c]=f,e.watching&&Promise.resolve(gu(f,i,c)).then(l=>{e.unwatch[c]=l}).catch(console.error),u},async unmount(c,f=!0){c=Or(c),!(!c||!e.mounts[c])&&(e.watching&&c in e.unwatch&&(e.unwatch[c](),delete e.unwatch[c]),f&&await mu(e.mounts[c]),e.mountpoints=e.mountpoints.filter(l=>l!==c),delete e.mounts[c])},getMount(c=""){c=xe(c)+":";let f=n(c);return{driver:f.driver,base:f.base}},getMounts(c="",f={}){return c=xe(c),r(c,f.parents).map(h=>({driver:h.driver,base:h.mountpoint}))}};return u}function gu(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function mu(t){typeof t.dispose=="function"&&await me(t.dispose)}function xt(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function vs(t,e){let n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);let r=xt(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}var ws;function Tr(){return ws||(ws=vs("keyval-store","keyval")),ws}function _s(t,e=Tr()){return e("readonly",n=>xt(n.get(t)))}function bu(t,e,n=Tr()){return n("readwrite",r=>(r.put(e,t),xt(r.transaction)))}function wu(t,e=Tr()){return e("readwrite",n=>(n.delete(t),xt(n.transaction)))}function vu(t=Tr()){return t("readwrite",e=>(e.clear(),xt(e.transaction)))}function nm(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},xt(t.transaction)}function _u(t=Tr()){return t("readonly",e=>{if(e.getAllKeys)return xt(e.getAllKeys());let n=[];return nm(e,r=>n.push(r.key)).then(()=>n)})}var im=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),sm=t=>{let e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function ut(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return sm(t)}catch{return t}}function Ge(t){return typeof t=="string"?t:im(t)||""}var om="idb-keyval",am=(t={})=>{let e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i,r;return t.dbName&&t.storeName&&(r=vs(t.dbName,t.storeName)),{name:om,options:t,async hasItem(i){return!(typeof await _s(n(i),r)>"u")},async getItem(i){return await _s(n(i),r)??null},setItem(i,s){return bu(n(i),s,r)},removeItem(i){return wu(n(i),r)},getKeys(){return _u(r)},clear(){return vu(r)}}},cm="WALLET_CONNECT_V2_INDEXED_DB",um="keyvaluestorage",xs=class{constructor(){this.indexedDb=yu({driver:am({dbName:cm,storeName:um})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){let n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Ge(n))}async removeItem(e){await this.indexedDb.removeItem(e)}},Es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tn={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){let n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Es<"u"&&Es.localStorage?Tn.exports=Es.localStorage:typeof window<"u"&&window.localStorage?Tn.exports=window.localStorage:Tn.exports=new e})();function fm(t){var e;return[t[0],ut((e=t[1])!=null?e:"")]}var Ds=class{constructor(){this.localStorage=Tn.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(fm)}async getItem(e){let n=this.localStorage.getItem(e);if(n!==null)return ut(n)}async setItem(e,n){this.localStorage.setItem(e,Ge(n))}async removeItem(e){this.localStorage.removeItem(e)}},lm="wc_storage_version",Eu=1,hm=async(t,e,n)=>{let r=lm,i=await e.getItem(r);if(i&&i>=Eu){n(e);return}let s=await t.getKeys();if(!s.length){n(e);return}let o=[];for(;s.length;){let a=s.shift();if(!a)continue;let u=a.toLowerCase();if(u.includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect")){let c=await t.getItem(a);await e.setItem(a,c),o.push(a)}}await e.setItem(r,Eu),n(e),dm(t,o)},dm=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})},An=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};let e=new Ds;this.storage=e;try{let n=new xs;hm(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{let n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var Ut=le(Ku()),re=le(nf());Ls();var sf=le(qt()),kn=class extends je{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}};var Kn=class extends je{constructor(e,n){super(),this.core=e,this.logger=n,this.records=new Map}},zn=class{constructor(e,n){this.logger=e,this.core=n}},$n=class extends je{constructor(e,n){super(),this.relayer=e,this.logger=n}},Hn=class extends je{constructor(e){super()}},Vn=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}};var qn=class extends je{constructor(e,n){super(),this.relayer=e,this.logger=n}};var Wn=class extends je{constructor(e,n){super(),this.core=e,this.logger=n}};var Gn=class{constructor(e,n){this.projectId=e,this.logger=n}},Jn=class{constructor(e,n){this.projectId=e,this.logger=n}};var Gr=le(Ff()),pl=le(kr()),gl=le(Yt());var Uf="EdDSA",Bf="JWT",go=".",mo="base64url",jf="utf8",kf="utf8",Kf=":",zf="did",$f="key",yo="base58btc",Hf="z",Vf="K36";function Ot(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function $r(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Ot(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function ar(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));let n=$r(e),r=0;for(let i of t)n.set(i,r),r+=i.length;return Ot(n)}var Eo={};ge(Eo,{identity:()=>zb});function Ub(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var y=0,b=0,v=0,D=p.length;v!==D&&p[v]===0;)v++,y++;for(var w=(D-v)*f+1>>>0,_=new Uint8Array(w);v!==D;){for(var O=p[v],T=0,g=w-1;(O!==0||T<b)&&g!==-1;g--,T++)O+=256*_[g]>>>0,_[g]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");b=T,v++}for(var m=w-b;m!==w&&_[m]===0;)m++;for(var A=u.repeat(y);m<w;++m)A+=t.charAt(_[m]);return A}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var y=0;if(p[y]!==" "){for(var b=0,v=0;p[y]===u;)b++,y++;for(var D=(p.length-y)*c+1>>>0,w=new Uint8Array(D);p[y];){var _=n[p.charCodeAt(y)];if(_===255)return;for(var O=0,T=D-1;(_!==0||O<v)&&T!==-1;T--,O++)_+=a*w[T]>>>0,w[T]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");v=O,y++}if(p[y]!==" "){for(var g=D-v;g!==D&&w[g]===0;)g++;for(var m=new Uint8Array(b+(D-g)),A=b;g!==D;)m[A++]=w[g++];return m}}}function d(p){var y=h(p);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:h,decode:d}}var Bb=Ub,jb=Bb,qf=jb;var hI=new Uint8Array(0);var Wf=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0},Ye=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var Gf=t=>new TextEncoder().encode(t),Jf=t=>new TextDecoder().decode(t);var bo=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},wo=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Xf(this,e)}},vo=class{constructor(e){this.decoders=e}or(e){return Xf(this,e)}decode(e){let n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Xf=(t,e)=>new vo({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),_o=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new bo(e,n,r),this.decoder=new wo(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},cr=({name:t,prefix:e,encode:n,decode:r})=>new _o(t,e,n,r),lt=({prefix:t,name:e,alphabet:n})=>{let{encode:r,decode:i}=qf(n,e);return cr({prefix:t,name:e,encode:r,decode:s=>Ye(i(s))})},kb=(t,e,n,r)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*n/8|0),a=0,u=0,c=0;for(let f=0;f<s;++f){let l=i[t[f]];if(l===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|l,a+=n,a>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},Kb=(t,e,n)=>{let r=e[e.length-1]==="=",i=(1<<n)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},he=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>cr({prefix:e,name:t,encode(i){return Kb(i,r,n)},decode(i){return kb(i,r,n,t)}});var zb=cr({prefix:"\0",name:"identity",encode:t=>Jf(t),decode:t=>Gf(t)});var xo={};ge(xo,{base2:()=>$b});var $b=he({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Do={};ge(Do,{base8:()=>Hb});var Hb=he({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var So={};ge(So,{base10:()=>Vb});var Vb=lt({prefix:"9",name:"base10",alphabet:"0123456789"});var Io={};ge(Io,{base16:()=>qb,base16upper:()=>Wb});var qb=he({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Wb=he({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Oo={};ge(Oo,{base32:()=>ur,base32hex:()=>Xb,base32hexpad:()=>Zb,base32hexpadupper:()=>e0,base32hexupper:()=>Qb,base32pad:()=>Jb,base32padupper:()=>Yb,base32upper:()=>Gb,base32z:()=>t0});var ur=he({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Gb=he({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Jb=he({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Yb=he({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Xb=he({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Qb=he({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Zb=he({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),e0=he({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),t0=he({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var To={};ge(To,{base36:()=>r0,base36upper:()=>n0});var r0=lt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),n0=lt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ao={};ge(Ao,{base58btc:()=>Ke,base58flickr:()=>i0});var Ke=lt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),i0=lt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Co={};ge(Co,{base64:()=>s0,base64pad:()=>o0,base64url:()=>a0,base64urlpad:()=>c0});var s0=he({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),o0=he({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),a0=he({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),c0=he({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Ro={};ge(Ro,{base256emoji:()=>d0});var Qf=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),u0=Qf.reduce((t,e,n)=>(t[n]=e,t),[]),f0=Qf.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function l0(t){return t.reduce((e,n)=>(e+=u0[n],e),"")}function h0(t){let e=[];for(let n of t){let r=f0[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}var d0=cr({prefix:"\u{1F680}",name:"base256emoji",encode:l0,decode:h0});var Mo={};ge(Mo,{sha256:()=>N0,sha512:()=>P0});var p0=tl,Zf=128,g0=127,m0=~g0,y0=Math.pow(2,31);function tl(t,e,n){e=e||[],n=n||0;for(var r=n;t>=y0;)e[n++]=t&255|Zf,t/=128;for(;t&m0;)e[n++]=t&255|Zf,t>>>=7;return e[n]=t|0,tl.bytes=n-r+1,e}var b0=No,w0=128,el=127;function No(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw No.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&el)<<i:(o&el)*Math.pow(2,i),i+=7}while(o>=w0);return No.bytes=s-r,n}var v0=Math.pow(2,7),_0=Math.pow(2,14),E0=Math.pow(2,21),x0=Math.pow(2,28),D0=Math.pow(2,35),S0=Math.pow(2,42),I0=Math.pow(2,49),O0=Math.pow(2,56),T0=Math.pow(2,63),A0=function(t){return t<v0?1:t<_0?2:t<E0?3:t<x0?4:t<D0?5:t<S0?6:t<I0?7:t<O0?8:t<T0?9:10},C0={encode:p0,decode:b0,encodingLength:A0},R0=C0,Hr=R0;var Vr=(t,e=0)=>[Hr.decode(t,e),Hr.decode.bytes],fr=(t,e,n=0)=>(Hr.encode(t,e,n),e),lr=t=>Hr.encodingLength(t);var Tt=(t,e)=>{let n=e.byteLength,r=lr(t),i=r+lr(n),s=new Uint8Array(i+n);return fr(t,s,0),fr(n,s,r),s.set(e,i),new hr(t,n,e,s)},rl=t=>{let e=Ye(t),[n,r]=Vr(e),[i,s]=Vr(e.subarray(r)),o=e.subarray(r+s);if(o.byteLength!==i)throw new Error("Incorrect length");return new hr(n,i,o,e)},nl=(t,e)=>t===e?!0:t.code===e.code&&t.size===e.size&&Wf(t.bytes,e.bytes),hr=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};var Lo=({name:t,code:e,encode:n})=>new Po(t,e,n),Po=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){let n=this.encode(e);return n instanceof Uint8Array?Tt(this.code,n):n.then(r=>Tt(this.code,r))}else throw Error("Unknown type, must be binary type")}};var sl=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),N0=Lo({name:"sha2-256",code:18,encode:sl("SHA-256")}),P0=Lo({name:"sha2-512",code:19,encode:sl("SHA-512")});var Fo={};ge(Fo,{identity:()=>F0});var ol=0,L0="identity",al=Ye,M0=t=>Tt(ol,al(t)),F0={code:ol,name:L0,encode:al,digest:M0};var PI=new TextEncoder,LI=new TextDecoder;var ii=class t{constructor(e,n,r,i){this.code=n,this.version=e,this.multihash=r,this.bytes=i,this.byteOffset=i.byteOffset,this.byteLength=i.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:ni,byteLength:ni,code:ri,version:ri,multihash:ri,bytes:ri,_baseCache:ni,asCID:ni})}toV0(){switch(this.version){case 0:return this;default:{let{code:e,multihash:n}=this;if(e!==Wr)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(n.code!==z0)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(n)}}}toV1(){switch(this.version){case 0:{let{code:e,digest:n}=this.multihash,r=Tt(e,n);return t.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&nl(this.multihash,e.multihash)}toString(e){let{bytes:n,version:r,_baseCache:i}=this;switch(r){case 0:return k0(n,i,e||Ke.encoder);default:return K0(n,i,e||ur.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return H0(/^0\.0/,V0),!!(e&&(e[ul]||e.asCID===e))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof t)return e;if(e!=null&&e.asCID===e){let{version:n,code:r,multihash:i,bytes:s}=e;return new t(n,r,i,s||cl(n,r,i.bytes))}else if(e!=null&&e[ul]===!0){let{version:n,multihash:r,code:i}=e,s=rl(r);return t.create(n,i,s)}else return null}static create(e,n,r){if(typeof n!="number")throw new Error("String codecs are no longer supported");switch(e){case 0:{if(n!==Wr)throw new Error(`Version 0 CID must use dag-pb (code: ${Wr}) block encoding`);return new t(e,n,r,r.bytes)}case 1:{let i=cl(e,n,r.bytes);return new t(e,n,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,Wr,e)}static createV1(e,n){return t.create(1,e,n)}static decode(e){let[n,r]=t.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return n}static decodeFirst(e){let n=t.inspectBytes(e),r=n.size-n.multihashSize,i=Ye(e.subarray(r,r+n.multihashSize));if(i.byteLength!==n.multihashSize)throw new Error("Incorrect length");let s=i.subarray(n.multihashSize-n.digestSize),o=new hr(n.multihashCode,n.digestSize,s,i);return[n.version===0?t.createV0(o):t.createV1(n.codec,o),e.subarray(n.size)]}static inspectBytes(e){let n=0,r=()=>{let[l,h]=Vr(e.subarray(n));return n+=h,l},i=r(),s=Wr;if(i===18?(i=0,n=0):i===1&&(s=r()),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let o=n,a=r(),u=r(),c=n+u,f=c-o;return{version:i,codec:s,multihashCode:a,digestSize:u,multihashSize:f,size:c}}static parse(e,n){let[r,i]=j0(e,n),s=t.decode(i);return s._baseCache.set(r,e),s}},j0=(t,e)=>{switch(t[0]){case"Q":{let n=e||Ke;return[Ke.prefix,n.decode(`${Ke.prefix}${t}`)]}case Ke.prefix:{let n=e||Ke;return[Ke.prefix,n.decode(t)]}case ur.prefix:{let n=e||ur;return[ur.prefix,n.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},k0=(t,e,n)=>{let{prefix:r}=n;if(r!==Ke.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);let i=e.get(r);if(i==null){let s=n.encode(t).slice(1);return e.set(r,s),s}else return i},K0=(t,e,n)=>{let{prefix:r}=n,i=e.get(r);if(i==null){let s=n.encode(t);return e.set(r,s),s}else return i},Wr=112,z0=18,cl=(t,e,n)=>{let r=lr(t),i=r+lr(e),s=new Uint8Array(i+n.byteLength);return fr(t,s,0),fr(e,s,r),s.set(n,i),s},ul=Symbol.for("@ipld/js-cid/CID"),ri={writable:!1,configurable:!1,enumerable:!0},ni={writable:!1,enumerable:!1,configurable:!1},$0="0.0.0-dev",H0=(t,e)=>{if(t.test($0))console.warn(e);else throw new Error(e)},V0=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var Uo={...Eo,...xo,...Do,...So,...Io,...Oo,...To,...Ao,...Co,...Ro},zI={...Mo,...Fo};function ll(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}var fl=ll("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Bo=ll("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);let e=$r(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),q0={utf8:fl,"utf-8":fl,hex:Uo.base16,latin1:Bo,ascii:Bo,binary:Bo,...Uo},si=q0;function ye(t,e="utf8"){let n=si[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function be(t,e="utf8"){let n=si[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Ot(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function oi(t){return ye(be(Ge(t),jf),mo)}function ai(t){let e=be(Vf,yo),n=Hf+ye(ar([e,t]),yo);return[zf,$f,n].join(Kf)}function W0(t){return ye(t,mo)}function hl(t){return be([oi(t.header),oi(t.payload)].join(go),kf)}function dl(t){return[oi(t.header),oi(t.payload),W0(t.signature)].join(go)}function jo(t=(0,pl.randomBytes)(32)){return Gr.generateKeyPairFromSeed(t)}async function ml(t,e,n,r,i=(0,gl.fromMiliseconds)(Date.now())){let s={alg:Uf,typ:Bf},o=ai(r.publicKey),a=i+n,u={iss:o,sub:t,aud:e,iat:i,exp:a},c=hl({header:s,payload:u}),f=Gr.sign(r.secretKey,c);return dl({header:s,payload:u,signature:f})}var Xo=le(Dl()),mh=le(Cl()),Qo=le(kr()),Zr=le(Nl()),yi=le(Fl());var Ul=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Dw=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}();var Sw=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}();var Iw=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}();var Ow=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}();var Tw=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}();var Aw=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Cw=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Bl=3,Rw=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",Aw]],jl=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Kl(t){return t?kl(t):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new Tw:typeof navigator<"u"?kl(navigator.userAgent):Lw()}function Nw(t){return t!==""&&Rw.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function kl(t){var e=Nw(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new Ow;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<Bl&&(i=Ul(Ul([],i,!0),Mw(Bl-i.length),!0)):i=[];var s=i.join("."),o=Pw(t),a=Cw.exec(t);return a&&a[1]?new Iw(n,s,o,a[1]):new Dw(n,s,o)}function Pw(t){for(var e=0,n=jl.length;e<n;e++){var r=jl[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function Lw(){var t=typeof process<"u"&&process.version;return t?new Sw(process.version.slice(1)):null}function Mw(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var tt=le(Yt()),dt=le(qo()),rv=le($l()),gr=le(ch());var uh={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}};var yh="base10",Ee="base16",Jo="base64pad",Zo="utf8",bh=0,Ct=1,nv=0,fh=1,Yo=12,ea=32;function wh(){let t=yi.generateKeyPair();return{privateKey:ye(t.secretKey,Ee),publicKey:ye(t.publicKey,Ee)}}function bi(){let t=(0,Qo.randomBytes)(ea);return ye(t,Ee)}function vh(t,e){let n=yi.sharedKey(be(t,Ee),be(e,Ee),!0),r=new mh.HKDF(Zr.SHA256,n).expand(ea);return ye(r,Ee)}function _h(t){let e=(0,Zr.hash)(be(t,Ee));return ye(e,Ee)}function wi(t){let e=(0,Zr.hash)(be(t,Zo));return ye(e,Ee)}function iv(t){return be(`${t}`,yh)}function mr(t){return Number(ye(t,yh))}function Eh(t){let e=iv(typeof t.type<"u"?t.type:bh);if(mr(e)===Ct&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let n=typeof t.senderPublicKey<"u"?be(t.senderPublicKey,Ee):void 0,r=typeof t.iv<"u"?be(t.iv,Ee):(0,Qo.randomBytes)(Yo),i=new Xo.ChaCha20Poly1305(be(t.symKey,Ee)).seal(r,be(t.message,Zo));return sv({type:e,sealed:i,iv:r,senderPublicKey:n})}function xh(t){let e=new Xo.ChaCha20Poly1305(be(t.symKey,Ee)),{sealed:n,iv:r}=en(t.encoded),i=e.open(r,n);if(i===null)throw new Error("Failed to decrypt");return ye(i,Zo)}function sv(t){if(mr(t.type)===Ct){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ye(ar([t.type,t.senderPublicKey,t.iv,t.sealed]),Jo)}return ye(ar([t.type,t.iv,t.sealed]),Jo)}function en(t){let e=be(t,Jo),n=e.slice(nv,fh),r=fh;if(mr(n)===Ct){let a=r+ea,u=a+Yo,c=e.slice(r,a),f=e.slice(a,u),l=e.slice(u);return{type:n,sealed:l,iv:f,senderPublicKey:c}}let i=r+Yo,s=e.slice(r,i),o=e.slice(i);return{type:n,sealed:o,iv:s}}function Dh(t,e){let n=en(t);return ta({type:mr(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?ye(n.senderPublicKey,Ee):void 0,receiverPublicKey:e?.receiverPublicKey})}function ta(t){let e=t?.type||bh;if(e===Ct){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function ra(t){return t.type===Ct&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}var ov=Object.defineProperty,lh=Object.getOwnPropertySymbols,av=Object.prototype.hasOwnProperty,cv=Object.prototype.propertyIsEnumerable,hh=(t,e,n)=>e in t?ov(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dh=(t,e)=>{for(var n in e||(e={}))av.call(e,n)&&hh(t,n,e[n]);if(lh)for(var n of lh(e))cv.call(e,n)&&hh(t,n,e[n]);return t},uv="ReactNative",Ne={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};var fv="js";function vi(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Rt(){return!(0,dt.getDocument)()&&!!(0,dt.getNavigator)()&&navigator.product===uv}function tn(){return!vi()&&!!(0,dt.getNavigator)()&&!!(0,dt.getDocument)()}function _i(){return Rt()?Ne.reactNative:vi()?Ne.node:tn()?Ne.browser:Ne.unknown}function Sh(){var t;try{return Rt()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function lv(t,e){let n=gr.parse(t);return n=dh(dh({},n),e),t=gr.stringify(n),t}function hv(){if(_i()===Ne.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){let{OS:n,Version:r}=global.Platform;return[n,r].join("-")}let t=Kl();if(t===null)return"unknown";let e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function dv(){var t;let e=_i();return e===Ne.browser?[e,((t=(0,dt.getLocation)())==null?void 0:t.host)||"unknown"].join(":"):e}function pv(t,e,n){let r=hv(),i=dv();return[[t,e].join("-"),[fv,n].join("-"),r,i].join("/")}function Ih({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a}){let u=n.split("?"),c=pv(t,e,r),f={auth:i,ua:c,projectId:s,useOnCloseEvent:o||void 0,origin:a||void 0},l=lv(u[1]||"",f);return u[0]+"?"+l}function na(t){return Object.fromEntries(t.entries())}function ia(t){return new Map(Object.entries(t))}function Oh(t=tt.FIVE_MINUTES,e){let n=(0,tt.toMiliseconds)(t||tt.FIVE_MINUTES),r,i,s;return{resolve:o=>{s&&r&&(clearTimeout(s),r(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,a)=>{s=setTimeout(()=>{a(new Error(e))},n),r=o,i=a})}}function yr(t,e,n){return new Promise(async(r,i)=>{let s=setTimeout(()=>i(new Error(n)),e);try{let o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function Th(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Ah(t){return Th("topic",t)}function Ch(t){return Th("id",t)}function Rh(t){let[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function rn(t,e){return(0,tt.fromMiliseconds)((e||Date.now())+(0,tt.toMiliseconds)(t))}function sa(t){return Date.now()>=(0,tt.toMiliseconds)(t)}function Ei(t,e){return`${t}${e?`:${e}`:""}`}var gv="irn";function xi(t){return t?.relay||{protocol:gv}}function nn(t){let e=uh[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var mv=Object.defineProperty,ph=Object.getOwnPropertySymbols,yv=Object.prototype.hasOwnProperty,bv=Object.prototype.propertyIsEnumerable,gh=(t,e,n)=>e in t?mv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wv=(t,e)=>{for(var n in e||(e={}))yv.call(e,n)&&gh(t,n,e[n]);if(ph)for(var n of ph(e))bv.call(e,n)&&gh(t,n,e[n]);return t};function vv(t,e="-"){let n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){let s=i.replace(r,""),o=t[i];n[s]=o}}),n}function oa(t){t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;let e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=gr.parse(s);return{protocol:r,topic:_v(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:vv(o)}}function _v(t){return t.startsWith("//")?t.substring(2):t}function Ev(t,e="-"){let n="relay",r={};return Object.keys(t).forEach(i=>{let s=n+e+i;t[i]&&(r[s]=t[i])}),r}function Nh(t){return`${t.protocol}:${t.topic}@${t.version}?`+gr.stringify(wv({symKey:t.symKey},Ev(t.relay)))}var xv={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Dv={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ie(t,e){let{message:n,code:r}=Dv[t];return{message:e?`${n} ${e}`:n,code:r}}function br(t,e){let{message:n,code:r}=xv[t];return{message:e?`${n} ${e}`:n,code:r}}function Ph(t,e){return Array.isArray(t)?typeof e<"u"&&t.length?t.every(e):!0:!1}function sn(t){return typeof t>"u"}function aa(t,e){return e&&sn(t)?!0:typeof t=="string"&&!!t.trim().length}function Lh(t){if(aa(t,!1))try{return typeof new URL(t)<"u"}catch{return!1}return!1}function Mh(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function Fh(t){return t?.topic}function Di(t){return typeof t<"u"&&typeof t!==null}function ca(){let t=_i();return new Promise(e=>{switch(t){case Ne.browser:e(Sv());break;case Ne.reactNative:e(Iv());break;case Ne.node:e(Ov());break;default:e(!0)}})}function Sv(){return tn()&&navigator?.onLine}async function Iv(){return Rt()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function Ov(){return!0}function Uh(t){switch(_i()){case Ne.browser:Tv(t);break;case Ne.reactNative:Av(t);break;case Ne.node:break}}function Tv(t){!Rt()&&tn()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function Av(t){Rt()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}var Q=le(Yt());var rd=le(qt());var Se={};ge(Se,{DEFAULT_ERROR:()=>an,IBaseJsonRpcProvider:()=>Li,IEvents:()=>vr,IJsonRpcConnection:()=>ya,IJsonRpcProvider:()=>ln,INTERNAL_ERROR:()=>Si,INVALID_PARAMS:()=>Kh,INVALID_REQUEST:()=>jh,METHOD_NOT_FOUND:()=>kh,PARSE_ERROR:()=>Bh,RESERVED_ERROR_CODES:()=>ua,SERVER_ERROR:()=>on,SERVER_ERROR_CODE_RANGE:()=>Ii,STANDARD_ERROR_MAP:()=>pt,formatErrorMessage:()=>ed,formatJsonRpcError:()=>fn,formatJsonRpcRequest:()=>wr,formatJsonRpcResult:()=>Ri,getBigIntRpcId:()=>un,getError:()=>Ti,getErrorByCode:()=>Ai,isHttpUrl:()=>s_,isJsonRpcError:()=>Nt,isJsonRpcPayload:()=>wa,isJsonRpcRequest:()=>Fi,isJsonRpcResponse:()=>_r,isJsonRpcResult:()=>Ui,isJsonRpcValidationInvalid:()=>o_,isLocalhostUrl:()=>ba,isNodeJs:()=>Zh,isReservedErrorCode:()=>Oi,isServerErrorCode:()=>Cv,isValidDefaultRoute:()=>Ni,isValidErrorCode:()=>zh,isValidLeadingWildcardRoute:()=>e_,isValidRoute:()=>Zv,isValidTrailingWildcardRoute:()=>t_,isValidWildcardRoute:()=>Pi,isWsUrl:()=>Mi,parseConnectionError:()=>fa,payloadId:()=>ma,validateJsonRpcError:()=>Rv});var Bh="PARSE_ERROR",jh="INVALID_REQUEST",kh="METHOD_NOT_FOUND",Kh="INVALID_PARAMS",Si="INTERNAL_ERROR",on="SERVER_ERROR",ua=[-32700,-32600,-32601,-32602,-32603],Ii=[-32e3,-32099],pt={[Bh]:{code:-32700,message:"Parse error"},[jh]:{code:-32600,message:"Invalid Request"},[kh]:{code:-32601,message:"Method not found"},[Kh]:{code:-32602,message:"Invalid params"},[Si]:{code:-32603,message:"Internal error"},[on]:{code:-32e3,message:"Server error"}},an=on;function Cv(t){return t<=Ii[0]&&t>=Ii[1]}function Oi(t){return ua.includes(t)}function zh(t){return typeof t=="number"}function Ti(t){return Object.keys(pt).includes(t)?pt[t]:pt[an]}function Ai(t){let e=Object.values(pt).find(n=>n.code===t);return e||pt[an]}function Rv(t){if(typeof t.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof t.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!zh(t.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${t.error.code}`};if(Oi(t.error.code)){let e=Ai(t.error.code);if(e.message!==pt[an].message&&t.error.message===e.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${t.error.code}`}}return{valid:!0}}function fa(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var De={};ge(De,{isNodeJs:()=>Zh});var Qh=le(ga());Ae(De,le(ga()));var Zh=Qh.isNode;Ae(Se,De);function ma(t=3){let e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function un(t=6){return BigInt(ma(t))}function wr(t,e,n){return{id:n||ma(),jsonrpc:"2.0",method:t,params:e}}function Ri(t,e){return{id:t,jsonrpc:"2.0",result:e}}function fn(t,e,n){return{id:t,jsonrpc:"2.0",error:ed(e,n)}}function ed(t,e){return typeof t>"u"?Ti(Si):(typeof t=="string"&&(t=Object.assign(Object.assign({},Ti(on)),{message:t})),typeof e<"u"&&(t.data=e),Oi(t.code)&&(t=Ai(t.code)),t)}function Zv(t){return t.includes("*")?Pi(t):!/\W/g.test(t)}function Ni(t){return t==="*"}function Pi(t){return Ni(t)?!0:!(!t.includes("*")||t.split("*").length!==2||t.split("*").filter(e=>e.trim()==="").length!==1)}function e_(t){return!Ni(t)&&Pi(t)&&!t.split("*")[0].trim()}function t_(t){return!Ni(t)&&Pi(t)&&!t.split("*")[1].trim()}var vr=class{};var ya=class extends vr{constructor(e){super()}},Li=class extends vr{constructor(){super()}},ln=class extends Li{constructor(e){super()}};var r_="^https?:",n_="^wss?:";function i_(t){let e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function td(t,e){let n=i_(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function s_(t){return td(t,r_)}function Mi(t){return td(t,n_)}function ba(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function wa(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Fi(t){return wa(t)&&"method"in t}function _r(t){return wa(t)&&(Ui(t)||Nt(t))}function Ui(t){return"result"in t}function Nt(t){return"error"in t}function o_(t){return"error"in t&&t.valid===!1}var Bi=class extends ln{constructor(e){super(e),this.events=new rd.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(wr(e.method,e.params||[],e.id||un().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Nt(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),_r(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};var ad=le(qt());var a_=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:id(),c_=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",sd=t=>t.split("?")[0],od=10,u_=a_(),ji=class{constructor(e){if(this.url=e,this.events=new ad.EventEmitter,this.registering=!1,!Mi(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ge(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!Mi(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){let n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{let i=new URLSearchParams(e).get("origin"),s=(0,Se.isReactNative)()?{headers:{origin:i}}:{rejectUnauthorized:!ba(e)},o=new u_(e,[],s);c_()?o.onerror=a=>{let u=a;r(this.emitError(u.error))}:o.on("error",a=>{r(this.emitError(a))}),o.onopen=()=>{this.onOpen(o),n(o)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;let n=typeof e.data=="string"?ut(e.data):e.data;this.events.emit("payload",n)}onError(e,n){let r=this.parseError(n),i=r.message||r.toString(),s=fn(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return fa(e,sd(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>od&&this.events.setMaxListeners(od)}emitError(e){let n=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${sd(this.url)}`));return this.events.emit("register_error",n),n}};var fp=le(zd()),lp=le(Vd());function k1(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,u=t.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var y=0,b=0,v=0,D=p.length;v!==D&&p[v]===0;)v++,y++;for(var w=(D-v)*f+1>>>0,_=new Uint8Array(w);v!==D;){for(var O=p[v],T=0,g=w-1;(O!==0||T<b)&&g!==-1;g--,T++)O+=256*_[g]>>>0,_[g]=O%a>>>0,O=O/a>>>0;if(O!==0)throw new Error("Non-zero carry");b=T,v++}for(var m=w-b;m!==w&&_[m]===0;)m++;for(var A=u.repeat(y);m<w;++m)A+=t.charAt(_[m]);return A}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var y=0;if(p[y]!==" "){for(var b=0,v=0;p[y]===u;)b++,y++;for(var D=(p.length-y)*c+1>>>0,w=new Uint8Array(D);p[y];){var _=n[p.charCodeAt(y)];if(_===255)return;for(var O=0,T=D-1;(_!==0||O<v)&&T!==-1;T--,O++)_+=a*w[T]>>>0,w[T]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");v=O,y++}if(p[y]!==" "){for(var g=D-v;g!==D&&w[g]===0;)g++;for(var m=new Uint8Array(b+(D-g)),A=b;g!==D;)m[A++]=w[g++];return m}}}function d(p){var y=h(p);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:l,decodeUnsafe:h,decode:d}}var K1=k1,z1=K1,hp=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},$1=t=>new TextEncoder().encode(t),H1=t=>new TextDecoder().decode(t),Ma=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Fa=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return dp(this,e)}},Ua=class{constructor(e){this.decoders=e}or(e){return dp(this,e)}decode(e){let n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},dp=(t,e)=>new Ua({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),Ba=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Ma(e,n,r),this.decoder=new Fa(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Qi=({name:t,prefix:e,encode:n,decode:r})=>new Ba(t,e,n,r),_n=({prefix:t,name:e,alphabet:n})=>{let{encode:r,decode:i}=z1(n,e);return Qi({prefix:t,name:e,encode:r,decode:s=>hp(i(s))})},V1=(t,e,n,r)=>{let i={};for(let f=0;f<e.length;++f)i[e[f]]=f;let s=t.length;for(;t[s-1]==="=";)--s;let o=new Uint8Array(s*n/8|0),a=0,u=0,c=0;for(let f=0;f<s;++f){let l=i[t[f]];if(l===void 0)throw new SyntaxError(`Non-${r} character`);u=u<<n|l,a+=n,a>=8&&(a-=8,o[c++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return o},q1=(t,e,n)=>{let r=e[e.length-1]==="=",i=(1<<n)-1,s="",o=0,a=0;for(let u=0;u<t.length;++u)for(a=a<<8|t[u],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},we=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>Qi({prefix:e,name:t,encode(i){return q1(i,r,n)},decode(i){return V1(i,r,n,t)}}),W1=Qi({prefix:"\0",name:"identity",encode:t=>H1(t),decode:t=>$1(t)}),G1=Object.freeze({__proto__:null,identity:W1}),J1=we({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Y1=Object.freeze({__proto__:null,base2:J1}),X1=we({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Q1=Object.freeze({__proto__:null,base8:X1}),Z1=_n({prefix:"9",name:"base10",alphabet:"0123456789"}),eE=Object.freeze({__proto__:null,base10:Z1}),tE=we({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),rE=we({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),nE=Object.freeze({__proto__:null,base16:tE,base16upper:rE}),iE=we({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),sE=we({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),oE=we({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),aE=we({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),cE=we({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),uE=we({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),fE=we({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),lE=we({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),hE=we({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),dE=Object.freeze({__proto__:null,base32:iE,base32upper:sE,base32pad:oE,base32padupper:aE,base32hex:cE,base32hexupper:uE,base32hexpad:fE,base32hexpadupper:lE,base32z:hE}),pE=_n({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),gE=_n({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),mE=Object.freeze({__proto__:null,base36:pE,base36upper:gE}),yE=_n({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),bE=_n({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),wE=Object.freeze({__proto__:null,base58btc:yE,base58flickr:bE}),vE=we({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),_E=we({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),EE=we({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),xE=we({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),DE=Object.freeze({__proto__:null,base64:vE,base64pad:_E,base64url:EE,base64urlpad:xE}),pp=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),SE=pp.reduce((t,e,n)=>(t[n]=e,t),[]),IE=pp.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function OE(t){return t.reduce((e,n)=>(e+=SE[n],e),"")}function TE(t){let e=[];for(let n of t){let r=IE[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}var AE=Qi({prefix:"\u{1F680}",name:"base256emoji",encode:OE,decode:TE}),CE=Object.freeze({__proto__:null,base256emoji:AE}),RE=gp,qd=128,NE=127,PE=~NE,LE=Math.pow(2,31);function gp(t,e,n){e=e||[],n=n||0;for(var r=n;t>=LE;)e[n++]=t&255|qd,t/=128;for(;t&PE;)e[n++]=t&255|qd,t>>>=7;return e[n]=t|0,gp.bytes=n-r+1,e}var ME=ja,FE=128,Wd=127;function ja(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw ja.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&Wd)<<i:(o&Wd)*Math.pow(2,i),i+=7}while(o>=FE);return ja.bytes=s-r,n}var UE=Math.pow(2,7),BE=Math.pow(2,14),jE=Math.pow(2,21),kE=Math.pow(2,28),KE=Math.pow(2,35),zE=Math.pow(2,42),$E=Math.pow(2,49),HE=Math.pow(2,56),VE=Math.pow(2,63),qE=function(t){return t<UE?1:t<BE?2:t<jE?3:t<kE?4:t<KE?5:t<zE?6:t<$E?7:t<HE?8:t<VE?9:10},WE={encode:RE,decode:ME,encodingLength:qE},mp=WE,Gd=(t,e,n=0)=>(mp.encode(t,e,n),e),Jd=t=>mp.encodingLength(t),ka=(t,e)=>{let n=e.byteLength,r=Jd(t),i=r+Jd(n),s=new Uint8Array(i+n);return Gd(t,s,0),Gd(n,s,r),s.set(e,i),new Ka(t,n,e,s)},Ka=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}},yp=({name:t,code:e,encode:n})=>new za(t,e,n),za=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){let n=this.encode(e);return n instanceof Uint8Array?ka(this.code,n):n.then(r=>ka(this.code,r))}else throw Error("Unknown type, must be binary type")}},bp=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),GE=yp({name:"sha2-256",code:18,encode:bp("SHA-256")}),JE=yp({name:"sha2-512",code:19,encode:bp("SHA-512")}),YE=Object.freeze({__proto__:null,sha256:GE,sha512:JE}),wp=0,XE="identity",vp=hp,QE=t=>ka(wp,vp(t)),ZE={code:wp,name:XE,encode:vp,digest:QE},ex=Object.freeze({__proto__:null,identity:ZE});new TextEncoder,new TextDecoder;var Yd={...G1,...Y1,...Q1,...eE,...nE,...dE,...mE,...wE,...DE,...CE};({...YE,...ex});function _p(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function tx(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?_p(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Ep(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}var Xd=Ep("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Na=Ep("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);let e=tx(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),rx={utf8:Xd,"utf-8":Xd,hex:Yd.base16,latin1:Na,ascii:Na,binary:Na,...Yd};function nx(t,e="utf8"){let n=rx[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?_p(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}var xp="wc",ix=2,nc="core",wt=`${xp}@2:${nc}:`,sx={name:nc,logger:"error"},ox={database:":memory:"},ax="crypto",Qd="client_ed25519_seed",cx=Q.ONE_DAY,ux="keychain",fx="0.3",lx="messages",hx="0.3",dx=Q.SIX_HOURS,px="publisher",gx="irn",mx="error",Dp="wss://relay.walletconnect.com",Zd="wss://relay.walletconnect.org",yx="relayer",Te={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},bx="_subscription",it={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},wx=Q.ONE_SECOND;var vx="2.11.0",_x=1e4,Ex="0.3",xx="WALLETCONNECT_CLIENT_ID",Ue={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"};var Dx="subscription",Sx="0.3",Ix=Q.FIVE_SECONDS*1e3,Ox="pairing",Tx="0.3";var yn={wc_pairingDelete:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Q.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Q.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Q.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Q.ONE_DAY,prompt:!1,tag:0},res:{ttl:Q.ONE_DAY,prompt:!1,tag:0}}},Xi={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ve={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Ax="history",Cx="0.3",Rx="expirer",Fe={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},Nx="0.3";var Pa="verify-api",wn="https://verify.walletconnect.com",$a="https://verify.walletconnect.org",Px=[wn,$a],Lx="echo",Mx="https://echo.walletconnect.com",Ha=class{constructor(e,n){this.core=e,this.logger=n,this.keychain=new Map,this.name=ux,this.version=fx,this.initialized=!1,this.storagePrefix=wt,this.init=async()=>{if(!this.initialized){let r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}},this.has=r=>(this.isInitialized(),this.keychain.has(r)),this.set=async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()},this.get=r=>{this.isInitialized();let i=this.keychain.get(r);if(typeof i>"u"){let{message:s}=ie("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i},this.del=async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()},this.core=e,this.logger=(0,re.generateChildLogger)(n,this.name)}get context(){return(0,re.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,na(e))}async getKeyChain(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ia(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:e}=ie("NOT_INITIALIZED",this.name);throw new Error(e)}}},vn=class{constructor(e,n,r){this.core=e,this.logger=n,this.name=ax,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();let i=await this.getClientSeed(),s=jo(i);return ai(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();let i=wh();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();let s=await this.getClientSeed(),o=jo(s),a=bi();return await ml(a,i,cx,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();let a=this.getPrivateKey(i),u=vh(a,s);return this.setSymKey(u,o)},this.setSymKey=async(i,s)=>{this.isInitialized();let o=s||_h(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();let a=ta(o),u=Ge(s);if(ra(a)){let h=a.senderPublicKey,d=a.receiverPublicKey;i=await this.generateSharedKey(h,d)}let c=this.getSymKey(i),{type:f,senderPublicKey:l}=a;return Eh({type:f,symKey:c,message:u,senderPublicKey:l})},this.decode=async(i,s,o)=>{this.isInitialized();let a=Dh(s,o);if(ra(a)){let u=a.receiverPublicKey,c=a.senderPublicKey;i=await this.generateSharedKey(u,c)}try{let u=this.getSymKey(i),c=xh({symKey:u,encoded:s});return ut(c)}catch(u){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(u)}},this.getPayloadType=i=>{let s=en(i);return mr(s.type)},this.getPayloadSenderPublicKey=i=>{let s=en(i);return s.senderPublicKey?ye(s.senderPublicKey,Ee):void 0},this.core=e,this.logger=(0,re.generateChildLogger)(n,this.name),this.keychain=r||new Ha(this.core,this.logger)}get context(){return(0,re.getLoggerContext)(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Qd)}catch{e=bi(),await this.keychain.set(Qd,e)}return nx(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){let{message:e}=ie("NOT_INITIALIZED",this.name);throw new Error(e)}}},Va=class extends zn{constructor(e,n){super(e,n),this.logger=e,this.core=n,this.messages=new Map,this.name=lx,this.version=hx,this.initialized=!1,this.storagePrefix=wt,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}},this.set=async(r,i)=>{this.isInitialized();let s=wi(i),o=this.messages.get(r);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(r,o),await this.persist()),s},this.get=r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i},this.has=(r,i)=>{this.isInitialized();let s=this.get(r),o=wi(i);return typeof s[o]<"u"},this.del=async r=>{this.isInitialized(),this.messages.delete(r),await this.persist()},this.logger=(0,re.generateChildLogger)(e,this.name),this.core=n}get context(){return(0,re.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,na(e))}async getRelayerMessages(){let e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ia(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){let{message:e}=ie("NOT_INITIALIZED",this.name);throw new Error(e)}}},qa=class extends $n{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,this.events=new st.EventEmitter,this.name=px,this.queue=new Map,this.publishTimeout=(0,Q.toMiliseconds)(Q.TEN_SECONDS),this.needsTransportRestart=!1,this.publish=async(r,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});try{let a=s?.ttl||dx,u=xi(s),c=s?.prompt||!1,f=s?.tag||0,l=s?.id||un().toString(),h={topic:r,message:i,opts:{ttl:a,relay:u,prompt:c,tag:f,id:l}},d=setTimeout(()=>this.queue.set(l,h),this.publishTimeout);try{await await yr(this.rpcPublish(r,i,a,u,c,f,l),this.publishTimeout,"Failed to publish payload, please try again."),this.removeRequestFromQueue(l),this.relayer.events.emit(Te.publish,h)}catch(p){if(this.logger.debug("Publishing Payload stalled"),this.needsTransportRestart=!0,(o=s?.internal)!=null&&o.throwOnFailedPublish)throw this.removeRequestFromQueue(l),p;return}finally{clearTimeout(d)}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}})}catch(a){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(a),a}},this.on=(r,i)=>{this.events.on(r,i)},this.once=(r,i)=>{this.events.once(r,i)},this.off=(r,i)=>{this.events.off(r,i)},this.removeListener=(r,i)=>{this.events.removeListener(r,i)},this.relayer=e,this.logger=(0,re.generateChildLogger)(n,this.name),this.registerEventListeners()}get context(){return(0,re.getLoggerContext)(this.logger)}rpcPublish(e,n,r,i,s,o,a){var u,c,f,l;let h={method:nn(i.protocol).publish,params:{topic:e,message:n,ttl:r,prompt:s,tag:o},id:a};return sn((u=h.params)==null?void 0:u.prompt)&&((c=h.params)==null||delete c.prompt),sn((f=h.params)==null?void 0:f.tag)&&((l=h.params)==null||delete l.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:h}),this.relayer.request(h)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{let{topic:n,message:r,opts:i}=e;await this.publish(n,r,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ut.HEARTBEAT_EVENTS.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Te.connection_stalled);return}this.checkQueue()}),this.relayer.on(Te.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}},Wa=class{constructor(){this.map=new Map,this.set=(e,n)=>{let r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])},this.get=e=>this.map.get(e)||[],this.exists=(e,n)=>this.get(e).includes(n),this.delete=(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;let r=this.get(e);if(!this.exists(e,n))return;let i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}},Fx=Object.defineProperty,Ux=Object.defineProperties,Bx=Object.getOwnPropertyDescriptors,ep=Object.getOwnPropertySymbols,jx=Object.prototype.hasOwnProperty,kx=Object.prototype.propertyIsEnumerable,tp=(t,e,n)=>e in t?Fx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bn=(t,e)=>{for(var n in e||(e={}))jx.call(e,n)&&tp(t,n,e[n]);if(ep)for(var n of ep(e))kx.call(e,n)&&tp(t,n,e[n]);return t},La=(t,e)=>Ux(t,Bx(e)),Ga=class extends qn{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,this.subscriptions=new Map,this.topicMap=new Wa,this.events=new st.EventEmitter,this.name=Dx,this.version=Sx,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=wt,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(r,i)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{let s=xi(i),o={topic:r,relay:s};this.pending.set(r,o);let a=await this.rpcSubscribe(r,s);return this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}}),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(r,i)=>{await this.restartToComplete(),this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)},this.isSubscribed=async r=>this.topics.includes(r)?!0:await new Promise((i,s)=>{let o=new Q.Watch;o.start(this.pendingSubscriptionWatchLabel);let a=setInterval(()=>{!this.pending.has(r)&&this.topics.includes(r)&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),i(!0)),o.elapsed(this.pendingSubscriptionWatchLabel)>=Ix&&(clearInterval(a),o.stop(this.pendingSubscriptionWatchLabel),s(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(r,i)=>{this.events.on(r,i)},this.once=(r,i)=>{this.events.once(r,i)},this.off=(r,i)=>{this.events.off(r,i)},this.removeListener=(r,i)=>{this.events.removeListener(r,i)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=(0,re.generateChildLogger)(n,this.name),this.clientId=""}get context(){return(0,re.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){let r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{let i=xi(r);await this.rpcUnsubscribe(e,n,i);let s=br("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n){let r={method:nn(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await yr(this.relayer.request(r),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Te.connection_stalled)}return wi(e+this.clientId)}async rpcBatchSubscribe(e){if(!e.length)return;let n=e[0].relay,r={method:nn(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{return await await yr(this.relayer.request(r),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit(Te.connection_stalled)}}rpcUnsubscribe(e,n,r){let i={method:nn(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,La(bn({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,bn({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.subscriptions.has(e)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n))}addSubscription(e,n){this.subscriptions.set(e,bn({},n)),this.topicMap.set(n.topic,e),this.events.emit(Ue.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});let n=this.subscriptions.get(e);if(!n){let{message:r}=ie("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});let r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Ue.deleted,La(bn({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Ue.sync)}async reset(){if(this.cached.length){let e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<e;n++){let r=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(r)}}this.events.emit(Ue.resubscribed)}async restore(){try{let e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){let{message:n}=ie("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;let n=await this.rpcBatchSubscribe(e);Ph(n)&&this.onBatchSubscribe(n.map((r,i)=>La(bn({},e[i]),{id:r})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||this.relayer.transportExplicitlyClosed)return;let e=[];this.pending.forEach(n=>{e.push(n)}),await this.batchSubscribe(e)}registerEventListeners(){this.relayer.core.heartbeat.on(Ut.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on(Te.connect,async()=>{await this.onConnect()}),this.relayer.on(Te.disconnect,()=>{this.onDisconnect()}),this.events.on(Ue.created,async e=>{let n=Ue.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),await this.persist()}),this.events.on(Ue.deleted,async e=>{let n=Ue.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=ie("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){this.restartInProgress&&await new Promise(e=>{let n=setInterval(()=>{this.restartInProgress||(clearInterval(n),e())},this.pollingInterval)})}},Kx=Object.defineProperty,rp=Object.getOwnPropertySymbols,zx=Object.prototype.hasOwnProperty,$x=Object.prototype.propertyIsEnumerable,np=(t,e,n)=>e in t?Kx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hx=(t,e)=>{for(var n in e||(e={}))zx.call(e,n)&&np(t,n,e[n]);if(rp)for(var n of rp(e))$x.call(e,n)&&np(t,n,e[n]);return t},Ja=class extends Hn{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new st.EventEmitter,this.name=yx,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.hasExperiencedNetworkDisruption=!1,this.request=async n=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(n)}catch(r){throw this.logger.debug("Failed to Publish Request"),this.logger.error(r),r}},this.onPayloadHandler=n=>{this.onProviderPayload(n)},this.onConnectHandler=()=>{this.events.emit(Te.connect)},this.onDisconnectHandler=()=>{this.onProviderDisconnect()},this.onProviderErrorHandler=n=>{this.logger.error(n),this.events.emit(Te.error,n),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(it.payload,this.onPayloadHandler),this.provider.on(it.connect,this.onConnectHandler),this.provider.on(it.disconnect,this.onDisconnectHandler),this.provider.on(it.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?(0,re.generateChildLogger)(e.logger,this.name):(0,re.pino)((0,re.getDefaultLoggerOptions)({level:e.logger||mx})),this.messages=new Va(this.logger,e.core),this.subscriber=new Ga(this,this.logger),this.publisher=new qa(this,this.logger),this.relayUrl=e?.relayUrl||Dp,this.projectId=e.projectId,this.bundleId=Sh(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await this.createProvider(),await Promise.all([this.messages.init(),this.subscriber.init()]);try{await this.transportOpen()}catch{this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${Zd}...`),await this.restartTransport(Zd)}this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},_x)}get context(){return(0,re.getLoggerContext)(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now()})}async subscribe(e,n){var r;this.isInitialized();let i=((r=this.subscriber.topicMap.get(e))==null?void 0:r[0])||"";if(i)return i;let s,o=a=>{a.topic===e&&(this.subscriber.off(Ue.created,o),s())};return await Promise.all([new Promise(a=>{s=a,this.subscriber.on(Ue.created,o)}),new Promise(async a=>{i=await this.subscriber.subscribe(e,n),a()})]),i}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportClose(){this.transportExplicitlyClosed=!0,this.hasExperiencedNetworkDisruption&&this.connected?await yr(this.provider.disconnect(),1e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.connected&&await this.provider.disconnect()}async transportOpen(e){if(this.transportExplicitlyClosed=!1,await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress){e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportClose(),await this.createProvider()),this.connectionAttemptInProgress=!0;try{await Promise.all([new Promise(n=>{if(!this.initialized)return n();this.subscriber.once(Ue.resubscribed,()=>{n()})}),new Promise(async(n,r)=>{try{await yr(this.provider.connect(),1e4,`Socket stalled when trying to connect to ${this.relayUrl}`)}catch(i){r(i);return}n()})])}catch(n){this.logger.error(n);let r=n;if(!this.isConnectionStalled(r.message))throw n;this.provider.events.emit(it.disconnect)}finally{this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1}}}async restartTransport(e){await this.confirmOnlineStateOrThrow(),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.transportClose(),await this.createProvider(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await ca())throw new Error("No internet connection detected. Please restart your network and try again.")}isConnectionStalled(e){return this.staleConnectionErrors.some(n=>e.includes(n))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Bi(new ji(Ih({sdkVersion:vx,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){let{topic:n,message:r}=e;await this.messages.set(n,r)}async shouldIgnoreMessageEvent(e){let{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isSubscribed(n))return this.logger.debug(`Ignoring message for non-subscribed topic ${n}`),!0;let i=this.messages.has(n,r);return i&&this.logger.debug(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Fi(e)){if(!e.method.endsWith(bx))return;let n=e.params,{topic:r,message:i,publishedAt:s}=n.data,o={topic:r,message:i,publishedAt:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Hx({type:"event",event:n.id},o)),this.events.emit(n.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else _r(e)&&this.events.emit(Te.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Te.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){let n=Ri(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(it.payload,this.onPayloadHandler),this.provider.off(it.connect,this.onConnectHandler),this.provider.off(it.disconnect,this.onDisconnectHandler),this.provider.off(it.error,this.onProviderErrorHandler)}async registerEventListeners(){this.events.on(Te.connection_stalled,()=>{this.restartTransport().catch(n=>this.logger.error(n))});let e=await ca();Uh(async n=>{this.initialized&&e!==n&&(e=n,n?await this.restartTransport().catch(r=>this.logger.error(r)):(this.hasExperiencedNetworkDisruption=!0,await this.transportClose().catch(r=>this.logger.error(r))))})}onProviderDisconnect(){this.events.emit(Te.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||(this.logger.info("attemptToReconnect called. Connecting..."),setTimeout(async()=>{await this.restartTransport().catch(e=>this.logger.error(e))},(0,Q.toMiliseconds)(wx)))}isInitialized(){if(!this.initialized){let{message:e}=ie("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectionAttemptInProgress)return await new Promise(e=>{let n=setInterval(()=>{this.connected&&(clearInterval(n),e())},this.connectionStatusPollingInterval)});await this.restartTransport()}}},Vx=Object.defineProperty,ip=Object.getOwnPropertySymbols,qx=Object.prototype.hasOwnProperty,Wx=Object.prototype.propertyIsEnumerable,sp=(t,e,n)=>e in t?Vx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,op=(t,e)=>{for(var n in e||(e={}))qx.call(e,n)&&sp(t,n,e[n]);if(ip)for(var n of ip(e))Wx.call(e,n)&&sp(t,n,e[n]);return t},Ya=class extends Vn{constructor(e,n,r,i=wt,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,this.map=new Map,this.version=Ex,this.cached=[],this.initialized=!1,this.storagePrefix=wt,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!sn(o)?this.map.set(this.getKey(o),o):Mh(o)?this.map.set(o.id,o):Fh(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(u=>(0,fp.default)(a[u],o[u]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});let u=op(op({},this.getData(o)),a);this.map.set(o,u),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),await this.persist())},this.logger=(0,re.generateChildLogger)(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return(0,re.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){let n=this.map.get(e);if(!n){let{message:r}=ie("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{let e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){let{message:n}=ie("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){let{message:e}=ie("NOT_INITIALIZED",this.name);throw new Error(e)}}},Xa=class{constructor(e,n){this.core=e,this.logger=n,this.name=Ox,this.version=Tx,this.events=new st.default,this.initialized=!1,this.storagePrefix=wt,this.ignoredPayloadTypes=[Ct],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]},this.create=async()=>{this.isInitialized();let r=bi(),i=await this.core.crypto.setSymKey(r),s=rn(Q.FIVE_MINUTES),o={protocol:gx},a={topic:i,expiry:s,relay:o,active:!1},u=Nh({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:r,relay:o});return await this.pairings.set(i,a),await this.core.relayer.subscribe(i),this.core.expirer.set(i,s),{topic:i,uri:u}},this.pair=async r=>{this.isInitialized(),this.isValidPair(r);let{topic:i,symKey:s,relay:o}=oa(r.uri),a;if(this.pairings.keys.includes(i)&&(a=this.pairings.get(i),a.active))throw new Error(`Pairing already exists: ${i}. Please try again with a new connection URI.`);let u=rn(Q.FIVE_MINUTES),c={topic:i,relay:o,expiry:u,active:!1};return await this.pairings.set(i,c),this.core.expirer.set(i,u),r.activatePairing&&await this.activate({topic:i}),this.events.emit(Xi.create,c),this.core.crypto.keychain.has(i)||(await this.core.crypto.setSymKey(s,i),await this.core.relayer.subscribe(i,{relay:o})),c},this.activate=async({topic:r})=>{this.isInitialized();let i=rn(Q.THIRTY_DAYS);await this.pairings.update(r,{active:!0,expiry:i}),this.core.expirer.set(r,i)},this.ping=async r=>{this.isInitialized(),await this.isValidPing(r);let{topic:i}=r;if(this.pairings.keys.includes(i)){let s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:u}=Oh();this.events.once(Ei("pairing_ping",s),({error:c})=>{c?u(c):a()}),await o()}},this.updateExpiry=async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})},this.updateMetadata=async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async r=>{this.isInitialized(),await this.isValidDisconnect(r);let{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",br("USER_DISCONNECTED")),await this.deletePairing(i))},this.sendRequest=async(r,i,s)=>{let o=wr(i,s),a=await this.core.crypto.encode(r,o),u=yn[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,u),o.id},this.sendResult=async(r,i,s)=>{let o=Ri(r,s),a=await this.core.crypto.encode(i,o),u=await this.core.history.get(i,r),c=yn[u.request.method].res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)},this.sendError=async(r,i,s)=>{let o=fn(r,s),a=await this.core.crypto.encode(i,o),u=await this.core.history.get(i,r),c=yn[u.request.method]?yn[u.request.method].res:yn.unregistered_method.res;await this.core.relayer.publish(i,a,c),await this.core.history.resolve(o)},this.deletePairing=async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,br("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])},this.cleanup=async()=>{let r=this.pairings.getAll().filter(i=>sa(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=r=>{let{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async r=>{let{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(r,i)=>{let{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(Xi.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}},this.onPairingPingResponse=(r,i)=>{let{id:s}=i;setTimeout(()=>{Ui(i)?this.events.emit(Ei("pairing_ping",s),{}):Nt(i)&&this.events.emit(Ei("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(r,i)=>{let{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(Xi.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(r,i)=>{let{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;let a=br("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=r=>{this.registeredMethods.includes(r)||this.logger.error(br("WC_METHOD_UNSUPPORTED",r))},this.isValidPair=r=>{var i;if(!Di(r)){let{message:o}=ie("MISSING_OR_INVALID",`pair() params: ${r}`);throw new Error(o)}if(!Lh(r.uri)){let{message:o}=ie("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw new Error(o)}let s=oa(r.uri);if(!((i=s?.relay)!=null&&i.protocol)){let{message:o}=ie("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(o)}if(!(s!=null&&s.symKey)){let{message:o}=ie("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(o)}},this.isValidPing=async r=>{if(!Di(r)){let{message:s}=ie("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}let{topic:i}=r;await this.isValidPairingTopic(i)},this.isValidDisconnect=async r=>{if(!Di(r)){let{message:s}=ie("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}let{topic:i}=r;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async r=>{if(!aa(r,!1)){let{message:i}=ie("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){let{message:i}=ie("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(sa(this.pairings.get(r).expiry)){await this.deletePairing(r);let{message:i}=ie("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}},this.core=e,this.logger=(0,re.generateChildLogger)(n,this.name),this.pairings=new Ya(this.core,this.logger,this.name,this.storagePrefix)}get context(){return(0,re.getLoggerContext)(this.logger)}isInitialized(){if(!this.initialized){let{message:e}=ie("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Te.message,async e=>{let{topic:n,message:r}=e;if(!this.pairings.keys.includes(n)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;let i=await this.core.crypto.decode(n,r);try{Fi(i)?(this.core.history.set(n,i),this.onRelayEventRequest({topic:n,payload:i})):_r(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:n,payload:i}),this.core.history.delete(n,i.id))}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Fe.expired,async e=>{let{topic:n}=Rh(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(Xi.expire,{topic:n}))})}},Qa=class extends Kn{constructor(e,n){super(e,n),this.core=e,this.logger=n,this.records=new Map,this.events=new st.EventEmitter,this.name=Ax,this.version=Cx,this.cached=[],this.initialized=!1,this.storagePrefix=wt,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;let o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:rn(Q.THIRTY_DAYS)};this.records.set(o.id,o),this.events.emit(Ve.created,o)},this.resolve=async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;let i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=Nt(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.events.emit(Ve.updated,i))},this.get=async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i)),this.delete=(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Ve.deleted,s)}})},this.exists=async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1),this.on=(r,i)=>{this.events.on(r,i)},this.once=(r,i)=>{this.events.once(r,i)},this.off=(r,i)=>{this.events.off(r,i)},this.removeListener=(r,i)=>{this.events.removeListener(r,i)},this.logger=(0,re.generateChildLogger)(n,this.name)}get context(){return(0,re.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;let r={topic:n.topic,request:wr(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();let n=this.records.get(e);if(!n){let{message:r}=ie("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ve.sync)}async restore(){try{let e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){let{message:n}=ie("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ve.created,e=>{let n=Ve.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e}),this.persist()}),this.events.on(Ve.updated,e=>{let n=Ve.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e}),this.persist()}),this.events.on(Ve.deleted,e=>{let n=Ve.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e}),this.persist()}),this.core.heartbeat.on(Ut.HEARTBEAT_EVENTS.pulse,()=>{this.cleanup()})}cleanup(){try{this.records.forEach(e=>{(0,Q.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.delete(e.topic,e.id))})}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){let{message:e}=ie("NOT_INITIALIZED",this.name);throw new Error(e)}}},Za=class extends Wn{constructor(e,n){super(e,n),this.core=e,this.logger=n,this.expirations=new Map,this.events=new st.EventEmitter,this.name=Rx,this.version=Nx,this.cached=[],this.initialized=!1,this.storagePrefix=wt,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=r=>{try{let i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(r,i)=>{this.isInitialized();let s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Fe.created,{target:s,expiration:o})},this.get=r=>{this.isInitialized();let i=this.formatTarget(r);return this.getExpiration(i)},this.del=r=>{if(this.isInitialized(),this.has(r)){let i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Fe.deleted,{target:i,expiration:s})}},this.on=(r,i)=>{this.events.on(r,i)},this.once=(r,i)=>{this.events.once(r,i)},this.off=(r,i)=>{this.events.off(r,i)},this.removeListener=(r,i)=>{this.events.removeListener(r,i)},this.logger=(0,re.generateChildLogger)(n,this.name)}get context(){return(0,re.getLoggerContext)(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Ah(e);if(typeof e=="number")return Ch(e);let{message:n}=ie("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Fe.sync)}async restore(){try{let e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){let{message:n}=ie("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){let n=this.expirations.get(e);if(!n){let{message:r}=ie("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}checkExpiry(e,n){let{expiry:r}=n;(0,Q.toMiliseconds)(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Fe.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Ut.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Fe.created,e=>{let n=Fe.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Fe.expired,e=>{let n=Fe.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(Fe.deleted,e=>{let n=Fe.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){let{message:e}=ie("NOT_INITIALIZED",this.name);throw new Error(e)}}},ec=class extends Gn{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,this.name=Pa,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async r=>{if(this.verifyDisabled||Rt()||!tn())return;let i=this.getVerifyUrl(r?.verifyUrl);this.verifyUrl!==i&&this.removeIframe(),this.verifyUrl=i;try{await this.createIframe()}catch(s){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(s)}if(!this.initialized){this.removeIframe(),this.verifyUrl=$a;try{await this.createIframe()}catch(s){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(s),this.verifyDisabled=!0}}},this.register=async r=>{this.initialized?this.sendPost(r.attestationId):(this.addToQueue(r.attestationId),await this.init())},this.resolve=async r=>{if(this.isDevEnv)return"";let i=this.getVerifyUrl(r?.verifyUrl),s;try{s=await this.fetchAttestation(r.attestationId,i)}catch(o){this.logger.info(`failed to resolve attestation: ${r.attestationId} from url: ${i}`),this.logger.info(o),s=await this.fetchAttestation(r.attestationId,$a)}return s},this.fetchAttestation=async(r,i)=>{this.logger.info(`resolving attestation: ${r} from url: ${i}`);let s=this.startAbortTimer(Q.ONE_SECOND*2),o=await fetch(`${i}/attestation/${r}`,{signal:this.abortController.signal});return clearTimeout(s),o.status===200?await o.json():void 0},this.addToQueue=r=>{this.queue.push(r)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(r=>this.sendPost(r)),this.queue=[])},this.sendPost=r=>{var i;try{if(!this.iframe)return;(i=this.iframe.contentWindow)==null||i.postMessage(r,"*"),this.logger.info(`postMessage sent: ${r} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let r,i=s=>{s.data==="verify_ready"&&(this.initialized=!0,this.processQueue(),window.removeEventListener("message",i),r())};await Promise.race([new Promise(s=>{if(document.getElementById(Pa))return s();window.addEventListener("message",i);let o=document.createElement("iframe");o.id=Pa,o.src=`${this.verifyUrl}/${this.projectId}`,o.style.display="none",document.body.append(o),this.iframe=o,r=s}),new Promise((s,o)=>setTimeout(()=>{window.removeEventListener("message",i),o("verify iframe load timeout")},(0,Q.toMiliseconds)(Q.FIVE_SECONDS)))])},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=r=>{let i=r||wn;return Px.includes(i)||(this.logger.info(`verify url: ${i}, not included in trusted list, assigning default: ${wn}`),i=wn),i},this.logger=(0,re.generateChildLogger)(n,this.name),this.verifyUrl=wn,this.abortController=new AbortController,this.isDevEnv=vi()&&process.env.IS_VITEST}get context(){return(0,re.getLoggerContext)(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,Q.toMiliseconds)(e))}},tc=class extends Jn{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,this.context=Lx,this.registerDeviceToken=async r=>{let{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,u=`${Mx}/${this.projectId}/clients`;await(0,lp.default)(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})},this.logger=(0,re.generateChildLogger)(n,this.context)}},Gx=Object.defineProperty,ap=Object.getOwnPropertySymbols,Jx=Object.prototype.hasOwnProperty,Yx=Object.prototype.propertyIsEnumerable,cp=(t,e,n)=>e in t?Gx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,up=(t,e)=>{for(var n in e||(e={}))Jx.call(e,n)&&cp(t,n,e[n]);if(ap)for(var n of ap(e))Yx.call(e,n)&&cp(t,n,e[n]);return t},rc=class t extends kn{constructor(e){super(e),this.protocol=xp,this.version=ix,this.name=nc,this.events=new st.EventEmitter,this.initialized=!1,this.on=(r,i)=>this.events.on(r,i),this.once=(r,i)=>this.events.once(r,i),this.off=(r,i)=>this.events.off(r,i),this.removeListener=(r,i)=>this.events.removeListener(r,i),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Dp,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";let n=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:(0,re.pino)((0,re.getDefaultLoggerOptions)({level:e?.logger||sx.logger}));this.logger=(0,re.generateChildLogger)(n,this.name),this.heartbeat=new Ut.HeartBeat,this.crypto=new vn(this,this.logger,e?.keychain),this.history=new Qa(this,this.logger),this.expirer=new Za(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new An(up(up({},ox),e?.storageOptions)),this.relayer=new Ja({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Xa(this,this.logger),this.verify=new ec(this.projectId||"",this.logger),this.echoClient=new tc(this.projectId||"",this.logger)}static async init(e){let n=new t(e);await n.initialize();let r=await n.crypto.getClientId();return await n.storage.setItem(xx,r),n}get context(){return(0,re.getLoggerContext)(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}},Sp=rc;function ic(t){this.message=t}ic.prototype=new Error,ic.prototype.name="InvalidCharacterError";var Ip=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new ic("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,s=0,o="";r=e.charAt(s++);~r&&(n=i%4?64*n+r:r,i++%4)?o+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o};function Xx(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(n){return decodeURIComponent(Ip(n).replace(/(.)/g,function(r,i){var s=i.charCodeAt(0).toString(16).toUpperCase();return s.length<2&&(s="0"+s),"%"+s}))}(e)}catch{return Ip(e)}}function Zi(t){this.message=t}function Qx(t,e){if(typeof t!="string")throw new Zi("Invalid token specified");var n=(e=e||{}).header===!0?0:1;try{return JSON.parse(Xx(t.split(".")[n]))}catch(r){throw new Zi("Invalid token specified: "+r.message)}}Zi.prototype=new Error,Zi.prototype.name="InvalidTokenError";var Op=Qx;var Tp=t=>{let e;try{e=Op(t)}catch(n){throw new Error(n.message)}if(e.act!=="notify_message")throw new Error(`Invalid messageAuth JWT act claim: ${e.act}. Expected "notify_message"`);return e},Ap=async t=>{let{topic:e,encoded:n,symkey:r}=t,i=new Sp,s=new vn(i,i.logger);await s.init(),await s.setSymKey(r,e);let o=await s.decode(e,n);return console.log(Tp(o.params.messageAuth)),Tp(o.params.messageAuth).msg};var Rp=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Zx=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Np={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=s>>2,l=(s&3)<<4|a>>4,h=(a&15)<<2|c>>6,d=c&63;u||(d=64,o||(h=64)),r.push(n[f],n[l],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Rp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Zx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let l=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||l==null)throw new sc;let h=s<<2|a>>4;if(r.push(h),c!==64){let d=a<<4&240|c>>2;if(r.push(d),l!==64){let p=c<<6&192|l;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},sc=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},eD=function(t){let e=Rp(t);return Np.encodeByteArray(e,!0)},oc=function(t){return eD(t).replace(/\./g,"")},tD=function(t){try{return Np.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var nD=()=>rD().__FIREBASE_DEFAULTS__,iD=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&tD(t[1]);return e&&JSON.parse(e)},oD=()=>{try{return nD()||iD()||sD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}};var ac=()=>{var t;return(t=oD())===null||t===void 0?void 0:t.config};var es=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ts(){try{return typeof indexedDB=="object"}catch{return!1}}function rs(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var aD="FirebaseError",ot=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aD,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,at.prototype.create)}},at=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?cD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ot(i,a,r)}};function cD(t,e){return t.replace(uD,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var uD=/\{\$([^}]+)}/g;function ns(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Cp(s)&&Cp(o)){if(!ns(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Cp(t){return t!==null&&typeof t=="object"}var _5=4*60*60*1e3;function cc(t){return t&&t._delegate?t._delegate:t}var Pe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Bt="[DEFAULT]";var uc=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new es;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lD(e))try{this.getOrInitializeService({instanceIdentifier:Bt})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bt){return this.instances.has(e)}getOptions(e=Bt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bt){return this.component?this.component.multipleInstances?e:Bt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function fD(t){return t===Bt?void 0:t}function lD(t){return t.instantiationMode==="EAGER"}var is=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new uc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var hD=[],fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));var dD={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},pD=fe.INFO,gD={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},mD=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=gD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ss=class{constructor(e){this.name=e,this._logLevel=pD,this._logHandler=mD,this._userLogHandler=null,hD.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var yD=(t,e)=>e.some(n=>t instanceof n),Pp,Lp;function bD(){return Pp||(Pp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wD(){return Lp||(Lp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Mp=new WeakMap,lc=new WeakMap,Fp=new WeakMap,fc=new WeakMap,dc=new WeakMap;function vD(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qe(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Mp.set(n,t)}).catch(()=>{}),dc.set(e,t),e}function _D(t){if(lc.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});lc.set(t,e)}var hc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Fp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qe(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Up(t){hc=t(hc)}function ED(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(os(this),e,...n);return Fp.set(r,e.sort?e.sort():[e]),qe(r)}:wD().includes(t)?function(...e){return t.apply(os(this),e),qe(Mp.get(this))}:function(...e){return qe(t.apply(os(this),e))}}function xD(t){return typeof t=="function"?ED(t):(t instanceof IDBTransaction&&_D(t),yD(t,bD())?new Proxy(t,hc):t)}function qe(t){if(t instanceof IDBRequest)return vD(t);if(fc.has(t))return fc.get(t);let e=xD(t);return e!==t&&(fc.set(t,e),dc.set(e,t)),e}var os=t=>dc.get(t);function as(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=qe(o);return r&&o.addEventListener("upgradeneeded",u=>{r(qe(o.result),u.oldVersion,u.newVersion,qe(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var DD=["get","getKey","getAll","getAllKeys","count"],SD=["put","add","delete","clear"],pc=new Map;function Bp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pc.get(e))return pc.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=SD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DD.includes(n)))return;let s=async function(o,...a){let u=this.transaction(o,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return pc.set(e,s),s}Up(t=>({...t,get:(e,n,r)=>Bp(e,n)||t.get(e,n,r),has:(e,n)=>!!Bp(e,n)||t.has(e,n)}));var mc=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ID(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function ID(t){let e=t.getComponent();return e?.type==="VERSION"}var yc="@firebase/app",jp="0.9.19";var jt=new ss("@firebase/app"),OD="@firebase/app-compat",TD="@firebase/analytics-compat",AD="@firebase/analytics",CD="@firebase/app-check-compat",RD="@firebase/app-check",ND="@firebase/auth",PD="@firebase/auth-compat",LD="@firebase/database",MD="@firebase/database-compat",FD="@firebase/functions",UD="@firebase/functions-compat",BD="@firebase/installations",jD="@firebase/installations-compat",kD="@firebase/messaging",KD="@firebase/messaging-compat",zD="@firebase/performance",$D="@firebase/performance-compat",HD="@firebase/remote-config",VD="@firebase/remote-config-compat",qD="@firebase/storage",WD="@firebase/storage-compat",GD="@firebase/firestore",JD="@firebase/firestore-compat",YD="firebase";var bc="[DEFAULT]",XD={[yc]:"fire-core",[OD]:"fire-core-compat",[AD]:"fire-analytics",[TD]:"fire-analytics-compat",[RD]:"fire-app-check",[CD]:"fire-app-check-compat",[ND]:"fire-auth",[PD]:"fire-auth-compat",[LD]:"fire-rtdb",[MD]:"fire-rtdb-compat",[FD]:"fire-fn",[UD]:"fire-fn-compat",[BD]:"fire-iid",[jD]:"fire-iid-compat",[kD]:"fire-fcm",[KD]:"fire-fcm-compat",[zD]:"fire-perf",[$D]:"fire-perf-compat",[HD]:"fire-rc",[VD]:"fire-rc-compat",[qD]:"fire-gcs",[WD]:"fire-gcs-compat",[GD]:"fire-fst",[JD]:"fire-fst-compat","fire-js":"fire-js",[YD]:"fire-js-all"};var cs=new Map,wc=new Map;function QD(t,e){try{t.container.addComponent(e)}catch(n){jt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Et(t){let e=t.name;if(wc.has(e))return jt.debug(`There were multiple attempts to register component ${e}.`),!1;wc.set(e,t);for(let n of cs.values())QD(n,t);return!0}function xn(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var ZD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},vt=new at("app","Firebase",ZD);var vc=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vt.create("app-deleted",{appName:this._name})}};function xc(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:bc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw vt.create("bad-app-name",{appName:String(i)});if(n||(n=ac()),!n)throw vt.create("no-options");let s=cs.get(i);if(s){if(ns(n,s.options)&&ns(r,s.config))return s;throw vt.create("duplicate-app",{appName:i})}let o=new is(i);for(let u of wc.values())o.addComponent(u);let a=new vc(n,r,o);return cs.set(i,a),a}function Dc(t=bc){let e=cs.get(t);if(!e&&t===bc&&ac())return xc();if(!e)throw vt.create("no-app",{appName:t});return e}function _t(t,e,n){var r;let i=(r=XD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jt.warn(a.join(" "));return}Et(new Pe(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var eS="firebase-heartbeat-database",tS=1,En="firebase-heartbeat-store",gc=null;function $p(){return gc||(gc=as(eS,tS,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(En)}}}).catch(t=>{throw vt.create("idb-open",{originalErrorMessage:t.message})})),gc}async function rS(t){try{return await(await $p()).transaction(En).objectStore(En).get(Hp(t))}catch(e){if(e instanceof ot)jt.warn(e.message);else{let n=vt.create("idb-get",{originalErrorMessage:e?.message});jt.warn(n.message)}}}async function kp(t,e){try{let r=(await $p()).transaction(En,"readwrite");await r.objectStore(En).put(e,Hp(t)),await r.done}catch(n){if(n instanceof ot)jt.warn(n.message);else{let r=vt.create("idb-set",{originalErrorMessage:n?.message});jt.warn(r.message)}}}function Hp(t){return`${t.name}!${t.options.appId}`}var nS=1024,iS=30*24*60*60*1e3,_c=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Ec(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Kp();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{let s=new Date(i.date).valueOf();return Date.now()-s<=iS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";let e=Kp(),{heartbeatsToSend:n,unsentEntries:r}=sS(this._heartbeatsCache.heartbeats),i=oc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}};function Kp(){return new Date().toISOString().substring(0,10)}function sS(t,e=nS){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ec=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ts()?rs().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await rS(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return kp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function zp(t){return oc(JSON.stringify({version:2,heartbeats:t})).length}function oS(t){Et(new Pe("platform-logger",e=>new mc(e),"PRIVATE")),Et(new Pe("heartbeat",e=>new _c(e),"PRIVATE")),_t(yc,jp,t),_t(yc,jp,"esm2017"),_t("fire-js","")}oS("");var aS="firebase",cS="10.4.0";_t(aS,cS,"app");var uS=(t,e)=>e.some(n=>t instanceof n),Vp,qp;function fS(){return Vp||(Vp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lS(){return qp||(qp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Wp=new WeakMap,Ic=new WeakMap,Gp=new WeakMap,Sc=new WeakMap,Tc=new WeakMap;function hS(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(We(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Wp.set(n,t)}).catch(()=>{}),Tc.set(e,t),e}function dS(t){if(Ic.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Ic.set(t,e)}var Oc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ic.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return We(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Jp(t){Oc=t(Oc)}function pS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(us(this),e,...n);return Gp.set(r,e.sort?e.sort():[e]),We(r)}:lS().includes(t)?function(...e){return t.apply(us(this),e),We(Wp.get(this))}:function(...e){return We(t.apply(us(this),e))}}function gS(t){return typeof t=="function"?pS(t):(t instanceof IDBTransaction&&dS(t),uS(t,fS())?new Proxy(t,Oc):t)}function We(t){if(t instanceof IDBRequest)return hS(t);if(Sc.has(t))return Sc.get(t);let e=gS(t);return e!==t&&(Sc.set(t,e),Tc.set(e,t)),e}var us=t=>Tc.get(t);function Xp(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=We(o);return r&&o.addEventListener("upgradeneeded",u=>{r(We(o.result),u.oldVersion,u.newVersion,We(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}var mS=["get","getKey","getAll","getAllKeys","count"],yS=["put","add","delete","clear"],Ac=new Map;function Yp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ac.get(e))return Ac.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=yS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mS.includes(n)))return;let s=async function(o,...a){let u=this.transaction(o,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Ac.set(e,s),s}Jp(t=>({...t,get:(e,n,r)=>Yp(e,n)||t.get(e,n,r),has:(e,n)=>!!Yp(e,n)||t.has(e,n)}));var eg="@firebase/installations",Pc="0.6.4";var tg=1e4,rg=`w:${Pc}`,ng="FIS_v2",bS="https://firebaseinstallations.googleapis.com/v1",wS=60*60*1e3,vS="installations",_S="Installations";var ES={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Kt=new at(vS,_S,ES);function ig(t){return t instanceof ot&&t.code.includes("request-failed")}function sg({projectId:t}){return`${bS}/projects/${t}/installations`}function og(t){return{token:t.token,requestStatus:2,expiresIn:DS(t.expiresIn),creationTime:Date.now()}}async function ag(t,e){let r=(await e.json()).error;return Kt.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function cg({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function xS(t,{refreshToken:e}){let n=cg(t);return n.append("Authorization",SS(e)),n}async function ug(t){let e=await t();return e.status>=500&&e.status<600?t():e}function DS(t){return Number(t.replace("s","000"))}function SS(t){return`${ng} ${t}`}async function IS({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let r=sg(t),i=cg(t),s=e.getImmediate({optional:!0});if(s){let c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}let o={fid:n,authVersion:ng,appId:t.appId,sdkVersion:rg},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await ug(()=>fetch(r,a));if(u.ok){let c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:og(c.authToken)}}else throw await ag("Create Installation",u)}function fg(t){return new Promise(e=>{setTimeout(e,t)})}function OS(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var TS=/^[cdef][\w-]{21}$/,Nc="";function AS(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=CS(t);return TS.test(n)?n:Nc}catch{return Nc}}function CS(t){return OS(t).substr(0,22)}function ls(t){return`${t.appName}!${t.appId}`}var lg=new Map;function hg(t,e){let n=ls(t);dg(n,e),RS(n,e)}function dg(t,e){let n=lg.get(t);if(n)for(let r of n)r(e)}function RS(t,e){let n=NS();n&&n.postMessage({key:t,fid:e}),PS()}var kt=null;function NS(){return!kt&&"BroadcastChannel"in self&&(kt=new BroadcastChannel("[Firebase] FID Change"),kt.onmessage=t=>{dg(t.data.key,t.data.fid)}),kt}function PS(){lg.size===0&&kt&&(kt.close(),kt=null)}var LS="firebase-installations-database",MS=1,zt="firebase-installations-store",Cc=null;function Lc(){return Cc||(Cc=Xp(LS,MS,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zt)}}})),Cc}async function fs(t,e){let n=ls(t),i=(await Lc()).transaction(zt,"readwrite"),s=i.objectStore(zt),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&hg(t,e.fid),e}async function pg(t){let e=ls(t),r=(await Lc()).transaction(zt,"readwrite");await r.objectStore(zt).delete(e),await r.done}async function hs(t,e){let n=ls(t),i=(await Lc()).transaction(zt,"readwrite"),s=i.objectStore(zt),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&hg(t,a.fid),a}async function Mc(t){let e,n=await hs(t.appConfig,r=>{let i=FS(r),s=US(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Nc?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function FS(t){let e=t||{fid:AS(),registrationStatus:0};return gg(e)}function US(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(Kt.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=BS(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:jS(t)}:{installationEntry:e}}async function BS(t,e){try{let n=await IS(t,e);return fs(t.appConfig,n)}catch(n){throw ig(n)&&n.customData.serverCode===409?await pg(t.appConfig):await fs(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function jS(t){let e=await Qp(t.appConfig);for(;e.registrationStatus===1;)await fg(100),e=await Qp(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=await Mc(t);return r||n}return e}function Qp(t){return hs(t,e=>{if(!e)throw Kt.create("installation-not-found");return gg(e)})}function gg(t){return kS(t)?{fid:t.fid,registrationStatus:0}:t}function kS(t){return t.registrationStatus===1&&t.registrationTime+tg<Date.now()}async function KS({appConfig:t,heartbeatServiceProvider:e},n){let r=zS(t,n),i=xS(t,n),s=e.getImmediate({optional:!0});if(s){let c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}let o={installation:{sdkVersion:rg,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},u=await ug(()=>fetch(r,a));if(u.ok){let c=await u.json();return og(c)}else throw await ag("Generate Auth Token",u)}function zS(t,{fid:e}){return`${sg(t)}/${e}/authTokens:generate`}async function Fc(t,e=!1){let n,r=await hs(t.appConfig,s=>{if(!mg(s))throw Kt.create("not-registered");let o=s.authToken;if(!e&&VS(o))return s;if(o.requestStatus===1)return n=$S(t,e),s;{if(!navigator.onLine)throw Kt.create("app-offline");let a=WS(s);return n=HS(t,a),a}});return n?await n:r.authToken}async function $S(t,e){let n=await Zp(t.appConfig);for(;n.authToken.requestStatus===1;)await fg(100),n=await Zp(t.appConfig);let r=n.authToken;return r.requestStatus===0?Fc(t,e):r}function Zp(t){return hs(t,e=>{if(!mg(e))throw Kt.create("not-registered");let n=e.authToken;return GS(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function HS(t,e){try{let n=await KS(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await fs(t.appConfig,r),n}catch(n){if(ig(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await pg(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await fs(t.appConfig,r)}throw n}}function mg(t){return t!==void 0&&t.registrationStatus===2}function VS(t){return t.requestStatus===2&&!qS(t)}function qS(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+wS}function WS(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function GS(t){return t.requestStatus===1&&t.requestTime+tg<Date.now()}async function JS(t){let e=t,{installationEntry:n,registrationPromise:r}=await Mc(e);return r?r.catch(console.error):Fc(e).catch(console.error),n.fid}async function YS(t,e=!1){let n=t;return await XS(n),(await Fc(n,e)).token}async function XS(t){let{registrationPromise:e}=await Mc(t);e&&await e}function QS(t){if(!t||!t.options)throw Rc("App Configuration");if(!t.name)throw Rc("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Rc(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Rc(t){return Kt.create("missing-app-config-values",{valueName:t})}var yg="installations",ZS="installations-internal",e6=t=>{let e=t.getProvider("app").getImmediate(),n=QS(e),r=xn(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},t6=t=>{let e=t.getProvider("app").getImmediate(),n=xn(e,yg).getImmediate();return{getId:()=>JS(n),getToken:i=>YS(n,i)}};function r6(){Et(new Pe(yg,e6,"PUBLIC")),Et(new Pe(ZS,t6,"PRIVATE"))}r6();_t(eg,Pc);_t(eg,Pc,"esm2017");var n6=(t,e)=>e.some(n=>t instanceof n),bg,wg;function i6(){return bg||(bg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s6(){return wg||(wg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var vg=new WeakMap,Bc=new WeakMap,_g=new WeakMap,Uc=new WeakMap,kc=new WeakMap;function o6(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Be(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vg.set(n,t)}).catch(()=>{}),kc.set(e,t),e}function a6(t){if(Bc.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Bc.set(t,e)}var jc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_g.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Be(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Eg(t){jc=t(jc)}function c6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ds(this),e,...n);return _g.set(r,e.sort?e.sort():[e]),Be(r)}:s6().includes(t)?function(...e){return t.apply(ds(this),e),Be(vg.get(this))}:function(...e){return Be(t.apply(ds(this),e))}}function u6(t){return typeof t=="function"?c6(t):(t instanceof IDBTransaction&&a6(t),n6(t,i6())?new Proxy(t,jc):t)}function Be(t){if(t instanceof IDBRequest)return o6(t);if(Uc.has(t))return Uc.get(t);let e=u6(t);return e!==t&&(Uc.set(t,e),kc.set(e,t)),e}var ds=t=>kc.get(t);function zc(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Be(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Be(o.result),u.oldVersion,u.newVersion,Be(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function ps(t,{blocked:e}={}){let n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Be(n).then(()=>{})}var f6=["get","getKey","getAll","getAllKeys","count"],l6=["put","add","delete","clear"],Kc=new Map;function xg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kc.get(e))return Kc.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=l6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||f6.includes(n)))return;let s=async function(o,...a){let u=this.transaction(o,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return Kc.set(e,s),s}Eg(t=>({...t,get:(e,n,r)=>xg(e,n)||t.get(e,n,r),has:(e,n)=>!!xg(e,n)||t.has(e,n)}));var Ig="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",h6="https://fcmregistrations.googleapis.com/v1",Og="FCM_MSG",d6="google.c.a.c_id",p6=3,g6=1,gs;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(gs||(gs={}));var ms;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(ms||(ms={}));function ct(t){let e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function m6(t){let e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}var $c="fcm_token_details_db",y6=5,Dg="fcm_token_object_Store";async function b6(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(s=>s.name).includes($c))return null;let e=null;return(await zc($c,y6,{upgrade:async(r,i,s,o)=>{var a;if(i<2||!r.objectStoreNames.contains(Dg))return;let u=o.objectStore(Dg),c=await u.index("fcmSenderId").get(t);if(await u.clear(),!!c){if(i===2){let f=c;if(!f.auth||!f.p256dh||!f.endpoint)return;e={token:f.fcmToken,createTime:(a=f.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:f.auth,p256dh:f.p256dh,endpoint:f.endpoint,swScope:f.swScope,vapidKey:typeof f.vapidKey=="string"?f.vapidKey:ct(f.vapidKey)}}}else if(i===3){let f=c;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:ct(f.auth),p256dh:ct(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:ct(f.vapidKey)}}}else if(i===4){let f=c;e={token:f.fcmToken,createTime:f.createTime,subscriptionOptions:{auth:ct(f.auth),p256dh:ct(f.p256dh),endpoint:f.endpoint,swScope:f.swScope,vapidKey:ct(f.vapidKey)}}}}}})).close(),await ps($c),await ps("fcm_vapid_details_db"),await ps("undefined"),w6(e)?e:null}function w6(t){if(!t||!t.subscriptionOptions)return!1;let{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var v6="firebase-messaging-database",_6=1,$t="firebase-messaging-store",Hc=null;function Gc(){return Hc||(Hc=zc(v6,_6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($t)}}})),Hc}async function Jc(t){let e=Xc(t),r=await(await Gc()).transaction($t).objectStore($t).get(e);if(r)return r;{let i=await b6(t.appConfig.senderId);if(i)return await Yc(t,i),i}}async function Yc(t,e){let n=Xc(t),i=(await Gc()).transaction($t,"readwrite");return await i.objectStore($t).put(e,n),await i.done,e}async function E6(t){let e=Xc(t),r=(await Gc()).transaction($t,"readwrite");await r.objectStore($t).delete(e),await r.done}function Xc({appConfig:t}){return t.appId}var x6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Le=new at("messaging","Messaging",x6);async function D6(t,e){let n=await Zc(t),r=Ag(e),i={method:"POST",headers:n,body:JSON.stringify(r)},s;try{s=await(await fetch(Qc(t.appConfig),i)).json()}catch(o){throw Le.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw Le.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Le.create("token-subscribe-no-token");return s.token}async function S6(t,e){let n=await Zc(t),r=Ag(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s;try{s=await(await fetch(`${Qc(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Le.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw Le.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Le.create("token-update-no-token");return s.token}async function Tg(t,e){let r={method:"DELETE",headers:await Zc(t)};try{let s=await(await fetch(`${Qc(t.appConfig)}/${e}`,r)).json();if(s.error){let o=s.error.message;throw Le.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Le.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}}function Qc({projectId:t}){return`${h6}/projects/${t}/registrations`}async function Zc({appConfig:t,installations:e}){let n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function Ag({p256dh:t,auth:e,endpoint:n,vapidKey:r}){let i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Ig&&(i.web.applicationPubKey=r),i}var I6=7*24*60*60*1e3;async function O6(t){let e=await A6(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ct(e.getKey("auth")),p256dh:ct(e.getKey("p256dh"))},r=await Jc(t.firebaseDependencies);if(r){if(C6(r.subscriptionOptions,n))return Date.now()>=r.createTime+I6?T6(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{await Tg(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return Sg(t.firebaseDependencies,n)}else return Sg(t.firebaseDependencies,n)}async function qc(t){let e=await Jc(t.firebaseDependencies);e&&(await Tg(t.firebaseDependencies,e.token),await E6(t.firebaseDependencies));let n=await t.swRegistration.pushManager.getSubscription();return n?n.unsubscribe():!0}async function T6(t,e){try{let n=await S6(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return await Yc(t.firebaseDependencies,r),n}catch(n){throw await qc(t),n}}async function Sg(t,e){let r={token:await D6(t,e),createTime:Date.now(),subscriptionOptions:e};return await Yc(t,r),r.token}async function A6(t,e){let n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:m6(e)})}function C6(t,e){let n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}function R6(t){let e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return N6(e,t),P6(e,t),L6(e,t),e}function N6(t,e){if(!e.notification)return;t.notification={};let n=e.notification.title;n&&(t.notification.title=n);let r=e.notification.body;r&&(t.notification.body=r);let i=e.notification.image;i&&(t.notification.image=i);let s=e.notification.icon;s&&(t.notification.icon=s)}function P6(t,e){e.data&&(t.data=e.data)}function L6(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);let u=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}function M6(t){return typeof t=="object"&&!!t&&d6 in t}function F6(t){return new Promise(e=>{setTimeout(e,t)})}Cg("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");Cg("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");async function U6(t,e){let n=B6(e,await t.firebaseDependencies.installations.getId());j6(t,n)}function B6(t,e){var n,r;let i={};return t.from&&(i.project_number=t.from),t.fcmMessageId&&(i.message_id=t.fcmMessageId),i.instance_id=e,t.notification?i.message_type=gs.DISPLAY_NOTIFICATION.toString():i.message_type=gs.DATA_MESSAGE.toString(),i.sdk_platform=p6.toString(),i.package_name=self.origin.replace(/(^\w+:|^)\/\//,""),t.collapse_key&&(i.collapse_key=t.collapse_key),i.event=g6.toString(),!((n=t.fcmOptions)===null||n===void 0)&&n.analytics_label&&(i.analytics_label=(r=t.fcmOptions)===null||r===void 0?void 0:r.analytics_label),i}function j6(t,e){let n={};n.event_time_ms=Math.floor(Date.now()).toString(),n.source_extension_json_proto3=JSON.stringify(e),t.logEvents.push(n)}function Cg(t,e){let n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}async function k6(t,e){var n,r;let{newSubscription:i}=t;if(!i){await qc(e);return}let s=await Jc(e.firebaseDependencies);await qc(e),e.vapidKey=(r=(n=s?.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:Ig,await O6(e)}async function K6(t,e){let n=H6(t);if(!n)return;e.deliveryMetricsExportedToBigQueryEnabled&&await U6(e,n);let r=await Rg();if(q6(r))return W6(r,n);if(n.notification&&await G6($6(n)),!!e&&e.onBackgroundMessageHandler){let i=R6(n);typeof e.onBackgroundMessageHandler=="function"?await e.onBackgroundMessageHandler(i):e.onBackgroundMessageHandler.next(i)}}async function z6(t){var e,n;let r=(n=(e=t.notification)===null||e===void 0?void 0:e.data)===null||n===void 0?void 0:n[Og];if(r){if(t.action)return}else return;t.stopImmediatePropagation(),t.notification.close();let i=J6(r);if(!i)return;let s=new URL(i,self.location.href),o=new URL(self.location.origin);if(s.host!==o.host)return;let a=await V6(s);if(a?a=await a.focus():(a=await self.clients.openWindow(i),await F6(3e3)),!!a)return r.messageType=ms.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,a.postMessage(r)}function $6(t){let e=Object.assign({},t.notification);return e.data={[Og]:t},e}function H6({data:t}){if(!t)return null;try{return t.json()}catch{return null}}async function V6(t){let e=await Rg();for(let n of e){let r=new URL(n.url,self.location.href);if(t.host===r.host)return n}return null}function q6(t){return t.some(e=>e.visibilityState==="visible"&&!e.url.startsWith("chrome-extension://"))}function W6(t,e){e.isFirebaseMessaging=!0,e.messageType=ms.PUSH_RECEIVED;for(let n of t)n.postMessage(e)}function Rg(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function G6(t){var e;let{actions:n}=t,{maxActions:r}=Notification;return n&&r&&n.length>r&&console.warn(`This browser only supports ${r} actions. The remaining actions will not be displayed.`),self.registration.showNotification((e=t.title)!==null&&e!==void 0?e:"",t)}function J6(t){var e,n,r;let i=(n=(e=t.fcmOptions)===null||e===void 0?void 0:e.link)!==null&&n!==void 0?n:(r=t.notification)===null||r===void 0?void 0:r.click_action;return i||(M6(t.data)?self.location.origin:null)}function Y6(t){if(!t||!t.options)throw Vc("App Configuration Object");if(!t.name)throw Vc("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(let r of e)if(!n[r])throw Vc(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Vc(t){return Le.create("missing-app-config-values",{valueName:t})}var Wc=class{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=Y6(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}};var X6=t=>{let e=new Wc(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return self.addEventListener("push",n=>{n.waitUntil(K6(n,e))}),self.addEventListener("pushsubscriptionchange",n=>{n.waitUntil(k6(n,e))}),self.addEventListener("notificationclick",n=>{n.waitUntil(z6(n))}),e};function Q6(){Et(new Pe("messaging-sw",X6,"PUBLIC"))}async function Z6(){return ts()&&await rs()&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function e3(t,e){if(self.document!==void 0)throw Le.create("only-available-in-sw");return t.onBackgroundMessageHandler=e,()=>{t.onBackgroundMessageHandler=null}}function Ng(t=Dc()){return Z6().then(e=>{if(!e)throw Le.create("unsupported-browser")},e=>{throw Le.create("indexed-db-unsupported")}),xn(cc(t),"messaging-sw").getImmediate()}function Pg(t,e){return t=cc(t),e3(t,e)}Q6();var Lg="symkey-store",t3="echo-registration-store",r3=[Lg,t3],n3=5,i3=async t=>{let e=await as("w3i-push-db",n3,{upgrade(o){r3.forEach(a=>{o.objectStoreNames.contains(a)||o.createObjectStore(a)})}});return[o=>e.get(t,o),(o,a)=>e.put(t,a,o),()=>e.getAllKeys(t),async()=>{let o=e.transaction(t,"readonly"),a=await o.objectStore(t).getAllKeys(),u=await o.objectStore(t).getAll();return o.commit(),a.map((c,f)=>[c,u[f]])}]},Mg=async()=>i3(Lg);var s3=xc({apiKey:"AIzaSyAtOP2BXP4RNK0pN_AEBMkVjgmYqklUlKc",authDomain:"javascript-48655.firebaseapp.com",projectId:"javascript-48655",storageBucket:"javascript-48655.appspot.com",messagingSenderId:"295861682652",appId:"1:295861682652:web:60f4b1e4e1d8adca230f19",measurementId:"G-0BLLC7N3KW"}),o3=Ng(s3),a3=async t=>{let[e]=await Mg(),n=await e(t);if(n)return n;throw new Error(`No symkey exists for such topic: ${t}`)};Pg(o3,async t=>{let e=t.data?.blob,n=t.data?.topic;if(!e||!n){console.error(`Received incorrect payload > blob: ${e} | topic: ${n}`);return}let r=await a3(n),i=await Ap({encoded:e,symkey:r,topic:n});return self.registration.showNotification(i.title,{icon:i.icon,body:i.body})});})();
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/logger/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

firebase/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/installations/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/installations/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/installations/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/installations/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/installations/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/installations/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/messaging/dist/esm/index.sw.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
   * in compliance with the License. You may obtain a copy of the License at
   *
   * http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software distributed under the License
   * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
   * or implied. See the License for the specific language governing permissions and limitations under
   * the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/messaging/dist/esm/index.sw.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/messaging/dist/esm/index.sw.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
*/
